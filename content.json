{"meta":{"title":"ESY","subtitle":"miao","description":"miao","author":"esy","url":"https://esyyes.github.io","root":"/"},"pages":[{"title":"about","date":"2019-11-18T07:46:06.000Z","updated":"2019-11-20T03:10:32.564Z","comments":true,"path":"about/index.html","permalink":"https://esyyes.github.io/about/index.html","excerpt":"","text":""},{"title":"tags","date":"2019-11-20T03:06:24.000Z","updated":"2019-11-20T03:09:40.977Z","comments":true,"path":"tags/index.html","permalink":"https://esyyes.github.io/tags/index.html","excerpt":"","text":""},{"title":"categories","date":"2019-11-20T03:07:48.000Z","updated":"2019-11-20T03:08:27.128Z","comments":true,"path":"categories/index.html","permalink":"https://esyyes.github.io/categories/index.html","excerpt":"","text":""},{"title":"yourdiy","date":"2019-11-18T07:47:13.000Z","updated":"2019-11-18T07:47:13.996Z","comments":true,"path":"yourdiy/index.html","permalink":"https://esyyes.github.io/yourdiy/index.html","excerpt":"","text":""}],"posts":[{"title":"chatbot_sorryç¯‡","slug":"chatbot/chatbot-sorryç¯‡","date":"2020-07-22T04:39:11.000Z","updated":"2020-07-22T04:39:11.000Z","comments":true,"path":"2020/07/22/chatbot/chatbot-sorryç¯‡/","link":"","permalink":"https://esyyes.github.io/2020/07/22/chatbot/chatbot-sorry%E7%AF%87/","excerpt":"","text":"chatbot_sorryç¯‡ç›´æ¥å¾ªç¯è¾“å…¥è¯­å¥ã€‚åˆ¤æ–­å“ªäº›å¥å­æ— æ³•è¢«æ£€æµ‹ 12345678910111213141516171819202122232425262728293031323334353637383940# -*- coding: utf-8 -*-# @Time : 2020/7/22# @Author : esyfrom chatbot_21 import *import pandas as pddata = pd.read_csv(&apos;Q&amp;A pairs.csv&apos;)print(&quot;Hello, I&apos;m a question-and-answer chatbot for the tourism domain based on retrieval mode.&quot; &quot;If you want to exit, input &apos;Bye&apos;!&quot;)greeting_output = [&quot;hi&quot;, &quot;hey&quot;, &quot;hello&quot;, &quot;I&apos;m glad! You are talking to me&quot;]for i in range(len(data)): question = np.array(data[&apos;Question&apos;]).tolist() text2 = question[i] # å°†è¯è¿˜åŸåˆ°æœ€åŸºç¡€æ¨¡å¼ text1 = &quot; &quot;.join([token.lemma_ for token in nlp(text2)]) # è¿›è¡Œç®€å•å›å¤ if text1 == &apos;hey&apos; or text1 == &apos;hi&apos; or text1 == &apos;hello&apos; or text1 == &apos;HI&apos;: print(random.choice(greeting_output)) elif text1 == &apos;thank&apos; or text1 == &apos;thank -PRON-&apos; or text1 == &apos;THANK&apos;: print(&apos;You are welcome.&apos;) elif text1 == &apos;bye&apos; or text1 == &apos;BYE&apos;: print(&apos;Bye!&apos;) elif len(text1.split()) &lt; 3: print(f&quot;I&apos;m sorry. I don&apos;t understand you&quot;) print(f&apos;ç¬¬&#123;i+1&#125;ä¸ªç”±äºn&lt;3&apos;) else: if QA_tf_idf(data, del_stop(text1)) == 0: print(f&quot;I&apos;m sorry. I don&apos;t understand you&quot;) print(f&apos;ç¬¬&#123;i+1&#125;ä¸ªç”±äºreturn=0&apos;) else: tf_idf1, quet_tfidf1, scores1 = QA_tf_idf(data, del_stop(text1)) recall_ques1, recall_answ1, recall_tf_idf_1 = recall_5(scores1, data, tf_idf1) # print(f&apos;å¬å›çš„5ä¸ªé—®é¢˜&apos;) # for j in range(5): # print(f&apos;ç¬¬&#123;j + 1&#125;é—®é¢˜ï¼š&#123;recall_ques1[j]&#125;&apos;, end=&apos;\\t&apos;) # print(f&apos;ç›¸ä¼¼åº¦ï¼š&#123;similar_list(quet_tfidf1, recall_tf_idf_1)[j]&#125;&apos;) # print(f&apos;æœ€ä½³ç­”æ¡ˆï¼š&#123;best_answer(similar_list(quet_tfidf1, recall_tf_idf_1), recall_answ1)&#125;&apos;) 123456789101112131415161718192021222324I'm sorry. I don't understand youç¬¬4ä¸ªç”±äºreturn=0I'm sorry. I don't understand youç¬¬5ä¸ªç”±äºreturn=0I'm sorry. I don't understand youç¬¬9ä¸ªç”±äºreturn=0I'm sorry. I don't understand youç¬¬15ä¸ªç”±äºreturn=0I'm sorry. I don't understand youç¬¬18ä¸ªç”±äºreturn=0I'm sorry. I don't understand youç¬¬29ä¸ªç”±äºreturn=0I'm sorry. I don't understand youç¬¬30ä¸ªç”±äºreturn=0I'm sorry. I don't understand youç¬¬85ä¸ªç”±äºreturn=0I'm sorry. I don't understand youç¬¬88ä¸ªç”±äºreturn=0I'm sorry. I don't understand youç¬¬95ä¸ªç”±äºreturn=0I'm sorry. I don't understand youç¬¬98ä¸ªç”±äºreturn=0I'm sorry. I don't understand youç¬¬99ä¸ªç”±äºreturn=0 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137# -*- coding: utf-8 -*-# @Time : 2020/7/22# @Author : esyimport mathimport en_core_web_mdimport numpy as npimport warningsfrom collections import defaultdictwarnings.filterwarnings(\"ignore\")nlp = en_core_web_md.load()# é¢„å¤„ç†æ–‡æœ¬æ•°æ®ï¼Œå°†å•è¯è¿˜åŸæˆåŸºç¡€æ¨¡å¼ï¼Œå°å†™ï¼Œåˆ é™¤åœé è¯ï¼Œå¾—åˆ°å…³é”®è¯def del_stop(text): token_doc = [token.lemma_ for token in nlp(text)] # å»é™¤åœç”¨è¯ååˆ›å»ºå•è¯åˆ—è¡¨ filtered_sentence = [] for word in token_doc: lexeme = nlp.vocab[word] if not lexeme.is_stop != False: filtered_sentence.append(word) return filtered_sentence# è®¡ç®—tfidfå¾—åˆ†def QA_tf_idf(data, filtered_sentence): question = np.array(data['Question']).tolist() # å°†é—®é¢˜è¿›è¡Œåˆ†è¯ list_ques = [[t.lemma_ for t in nlp(question[i])] for i in range(len(data))] # å»é™¤åœç”¨è¯ååˆ›å»ºå•è¯åˆ—è¡¨ list_key = [] for i in range(len(data)): filtered_sentence1 = [] for word in list_ques[i]: lexeme = nlp.vocab[word] if not lexeme.is_stop != False: filtered_sentence1.append(word) list_key.append(filtered_sentence1) # ç»Ÿè®¡è¯é¢‘å’Œè¯æ±‡,çœ‹å•è¯å‡ºç°çš„æ¬¡æ•° doc_frequency = defaultdict(int) list_words = list_key for word_list in list_words: for i in word_list: doc_frequency[i] += 1 l1 = set(filtered_sentence) l2 = set(doc_frequency.keys()) if not l1.issubset(l2) != False: return 0 else: # è®¡ç®—æ¯ä¸ªè¯çš„IDFå€¼ word_idf = &#123;&#125; # å­˜å‚¨æ¯ä¸ªè¯çš„idfå€¼ word_doc = defaultdict(int) # å­˜å‚¨åŒ…å«è¯¥è¯çš„æ–‡æ¡£æ•° for i in doc_frequency: for j in list_words: if i in j: word_doc[i] += 1 for i in doc_frequency: word_idf[i] = math.log(len(list_key) / (word_doc[i] + 1)) # å¯¹æ ·æœ¬è¿›è¡Œè¯é¢‘ç»Ÿè®¡ list_doc = [] for i in range(len(list_key)): doc_frequency1 = defaultdict(int) for j in list_key[i]: doc_frequency1[j] += 1 list_doc.append(doc_frequency1) # è®¡ç®—è¯­æ–™åº“ä¸­æ¯ä¸ªè¯çš„tf_idf,æ„å»ºå‘é‡ tf_idf = [] for j in range(len(data)): tf_idf.append([word_idf[i] * list_doc[j][i] / len(list_key[j]) for i in (list_doc[j])]) doc_frequency2 = defaultdict(int) for i in filtered_sentence: doc_frequency2[i] += 1 # è®¡ç®—é—®é¢˜å¯¹åº”è¯­æ–™åº“çš„tf-idfå¾—åˆ† scores = [] for j in range(len(data)): score = 0 for i in doc_frequency2: score += (word_idf[i] * list_doc[j][i] / len(list_key[j])) scores.append(score) # ç›´æ¥è®¡ç®—é—®é¢˜çš„è¯­æ–™åº“å¾—åˆ† # å¯¹é—®é¢˜è¿›è¡Œè¯é¢‘ç»Ÿè®¡ quet_tfidf = [] for i in doc_frequency2: quet_tfidf.append(word_idf[i] * doc_frequency2[i] / len(filtered_sentence)) return tf_idf, quet_tfidf, scoresdef recall_5(scores, data, tf_idf): question = np.array(data['Question']).tolist() answer = np.array(data['Answer']).tolist() # ç”¨å­—å…¸å½¢å¼æŒ‰ç…§å‡åºå½¢å¼æ’åº x = np.arange(len(data)).tolist() dict_score = dict(zip(x, scores)) listc = sorted(zip(dict_score.values(), dict_score.keys())) recall_ques = [] recall_answ = [] recall_tf_idf = [] # å¬å›å¾—åˆ†æœ€é«˜çš„5ä¸ªé—®é¢˜ for i in range(1, 6): recall_ques.append(question[listc[-i][1]]) recall_answ.append(answer[listc[-i][1]]) recall_tf_idf.append(tf_idf[listc[-i][1]]) return recall_ques, recall_answ, recall_tf_idf# æ±‚5ä¸ªé—®é¢˜çš„ç›¸ä¼¼åº¦def similar_list(quet_tfidf, recall_tf_idf): similar_score = [] for i in range(len(recall_tf_idf)): if len(recall_tf_idf[i]) == len(quet_tfidf): similar_score.append(np.dot(quet_tfidf, recall_tf_idf[i]) / (np.linalg.norm(quet_tfidf) * np.linalg.norm(recall_tf_idf[i]))) elif len(recall_tf_idf[i]) &lt; len(quet_tfidf): for j in range(len(quet_tfidf) - len(recall_tf_idf[i])): c = recall_tf_idf[i] c.append(0) similar_score.append(np.dot(quet_tfidf, c) / (np.linalg.norm(quet_tfidf) * np.linalg.norm(recall_tf_idf[i]))) else: for j in range(abs(len(quet_tfidf) - len(recall_tf_idf[i]))): a = quet_tfidf a.append(0) similar_score.append(np.dot(a, recall_tf_idf[i]) / (np.linalg.norm(a) * np.linalg.norm(recall_tf_idf[i]))) return similar_score# è¾“å‡ºç›¸ä¼¼åº¦æœ€é«˜çš„é‚£ä¸ªçš„ç­”æ¡ˆdef best_answer(list_num, recall_answ): if max(list_num) &lt;= 0.2: return f\"I'm sorry. I don't understand you\" else: best_ans = recall_answ[list_num.index(max(list_num))] return best_ans é—®é¢˜æŸ¥è¯¢ï¼š1.æŸ¥çœ‹å»é™¤åœé è¯åå¥å­1234sl = set([1, 2,3])sl2 = set([2,3, 7,9])sl.issubset(sl2)Out[5]: False æ„Ÿè§‰æ˜¯å»é™¤è¯é¢‘åï¼Œæ²¡æœ‰åŒ…å«è¿›å» 123# if not l1.issubset(l2) != False:# if not True != &#123;'-pron-'&#125;.issubset(l1):# doc_frequency2['-PRON-'] = doc_frequency2['-pron-'] ç»æŸ¥éªŒï¼Œç»è¿‡é—®é¢˜çš„åˆ†è¯åï¼Œäººè¾“å‡ºä¸ºpronï¼Œè€Œè¯­æ–™åº“ä¸­æ˜¯å¤§å†™çš„PRON sl.issubset(sl2)æ˜¯å±äºåŒ…å«å…³ç³»ï¼Œéœ€è¦è°ƒæ•´ä¸º 12if len(l1 &amp; l2) == 0: return 0 åˆ¤æ–­ä¸¤ä¸ªé›†åˆæ˜¯å¦æœ‰äº¤é›†ï¼Œè¿™æ ·å³ä½¿è¾“å…¥çš„å†…å®¹æœ‰äº›å…³é”®è¯æ±‡ä¸åœ¨è¯­æ–™åº“ä¸­ä¹Ÿèƒ½ç›´æ¥è¾“å‡ºã€‚ 1234567891011121314151617def run_chatbot(text2, data): text1 = \" \".join([token.lemma_ for token in nlp(text2)]) if text1 == 'hey' or text1 == 'hi' or text1 == 'hello' or text1 == 'HI': return random.choice(greeting_output) elif text1 == 'thank' or text1 == 'thank -PRON-' or text1 == 'THANK': return 'You are welcome.' elif text1 == 'bye' or text1 == 'BYE': return 'Bye!' elif len(text1.split()) &lt; 3: return \"I'm sorry. I don't understand you\" else: if QA_tf_idf(data, del_stop(text2)) == 0: return \"I'm sorry. I don't understand you\" else: tf_idf1, quet_tfidf1, scores1 = QA_tf_idf(data, del_stop(text2)) recall_ques1, recall_answ1, recall_tf_idf_1 = recall_5(scores1, data, tf_idf1) return best_answer(similar_list(quet_tfidf1, recall_tf_idf_1), recall_answ1) ä¹ŸåŒæ—¶å¯¹è¾“å‡ºçš„è¯­å¥è¿›è¡Œè§„åˆ¶çš„åˆ¤å®šï¼Œå¦‚æœä¸åœ¨è§„åˆ¶å†…ï¼Œè¾“å…¥çš„å•è¯å°äº3ä¸ªä¹Ÿç›´æ¥è¾“å‡º 2.ç›¸ä¼¼åº¦é—®é¢˜123456def similar_spacy(text, recall_ques): similar_goal = [] for i in range(len(recall_ques)): similar_goal.append(nlp(text).similarity(nlp(recall_ques[i]))) return similar_goal ç›´æ¥åˆ©ç”¨è‡ªå¸¦çš„ç›¸ä¼¼åº¦ï¼Œå»ä¼°è®¡ä¸¤ä¸ªè¾“å…¥çš„å¤§å°ï¼Œè¿™æ ·ä¼šé™ä½é•¿åº¦ä¸ç­‰çš„é—®é¢˜çš„å½±å“","categories":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/categories/work/"}],"tags":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/tags/work/"}]},{"title":"pythonä¸Šçš„GUI","slug":"chatbot/pythonä¸Šçš„GUI","date":"2020-07-21T00:25:01.000Z","updated":"2020-07-21T00:25:01.000Z","comments":true,"path":"2020/07/21/chatbot/pythonä¸Šçš„GUI/","link":"","permalink":"https://esyyes.github.io/2020/07/21/chatbot/python%E4%B8%8A%E7%9A%84GUI/","excerpt":"","text":"Python GUIç¼–ç¨‹(Tkinter)tkinterä»‹ç»https://www.runoob.com/python/python-gui-tkinter.html è¿™ä¸ªé“¾æ¥é‡Œé¢ç›´æ¥è®¾ç½®ç›¸å…³çš„ Python æä¾›äº†å¤šä¸ªå›¾å½¢å¼€å‘ç•Œé¢çš„åº“ï¼Œå‡ ä¸ªå¸¸ç”¨ Python GUI åº“å¦‚ä¸‹ï¼š Tkinterï¼š Tkinter æ¨¡å—(Tk æ¥å£)æ˜¯ Python çš„æ ‡å‡† Tk GUI å·¥å…·åŒ…çš„æ¥å£ .Tk å’Œ Tkinter å¯ä»¥åœ¨å¤§å¤šæ•°çš„ Unix å¹³å°ä¸‹ä½¿ç”¨,åŒæ ·å¯ä»¥åº”ç”¨åœ¨ Windows å’Œ Macintosh ç³»ç»Ÿé‡Œã€‚Tk8.0 çš„åç»­ç‰ˆæœ¬å¯ä»¥å®ç°æœ¬åœ°çª—å£é£æ ¼,å¹¶è‰¯å¥½åœ°è¿è¡Œåœ¨ç»å¤§å¤šæ•°å¹³å°ä¸­ã€‚ wxPythonï¼šwxPython æ˜¯ä¸€æ¬¾å¼€æºè½¯ä»¶ï¼Œæ˜¯ Python è¯­è¨€çš„ä¸€å¥—ä¼˜ç§€çš„ GUI å›¾å½¢åº“ï¼Œå…è®¸ Python ç¨‹åºå‘˜å¾ˆæ–¹ä¾¿çš„åˆ›å»ºå®Œæ•´çš„ã€åŠŸèƒ½å¥å…¨çš„ GUI ç”¨æˆ·ç•Œé¢ã€‚ Jythonï¼šJython ç¨‹åºå¯ä»¥å’Œ Java æ— ç¼é›†æˆã€‚é™¤äº†ä¸€äº›æ ‡å‡†æ¨¡å—ï¼ŒJython ä½¿ç”¨ Java çš„æ¨¡å—ã€‚Jython å‡ ä¹æ‹¥æœ‰æ ‡å‡†çš„Python ä¸­ä¸ä¾èµ–äº C è¯­è¨€çš„å…¨éƒ¨æ¨¡å—ã€‚æ¯”å¦‚ï¼ŒJython çš„ç”¨æˆ·ç•Œé¢å°†ä½¿ç”¨ Swingï¼ŒAWTæˆ–è€… SWTã€‚Jython å¯ä»¥è¢«åŠ¨æ€æˆ–é™æ€åœ°ç¼–è¯‘æˆ Java å­—èŠ‚ç ã€‚ Tkinter æ˜¯ Python çš„æ ‡å‡† GUI åº“ã€‚Python ä½¿ç”¨ Tkinter å¯ä»¥å¿«é€Ÿçš„åˆ›å»º GUI åº”ç”¨ç¨‹åºã€‚ ç”±äº Tkinter æ˜¯å†…ç½®åˆ° python çš„å®‰è£…åŒ…ä¸­ã€åªè¦å®‰è£…å¥½ Python ä¹‹åå°±èƒ½ import Tkinter åº“ã€è€Œä¸” IDLE ä¹Ÿæ˜¯ç”¨ Tkinter ç¼–å†™è€Œæˆã€å¯¹äºç®€å•çš„å›¾å½¢ç•Œé¢ Tkinter è¿˜æ˜¯èƒ½åº”ä»˜è‡ªå¦‚ã€‚ æ³¨æ„*ï¼šPython3.x ç‰ˆæœ¬ä½¿ç”¨çš„åº“åä¸º tkinter,å³é¦–å†™å­—æ¯ T ä¸ºå°å†™ã€‚* 1import tkinter åˆ›å»ºä¸€ä¸ªGUIç¨‹åº 1ã€å¯¼å…¥ Tkinter æ¨¡å— 2ã€åˆ›å»ºæ§ä»¶ 3ã€æŒ‡å®šè¿™ä¸ªæ§ä»¶çš„ masterï¼Œ å³è¿™ä¸ªæ§ä»¶å±äºå“ªä¸€ä¸ª 4ã€å‘Šè¯‰ GM(geometry manager) æœ‰ä¸€ä¸ªæ§ä»¶äº§ç”Ÿäº†ã€‚ 12345import tkinteråˆ›å»ºç®€å•çª—å£top = tkinter.Tk()# è¿›å…¥æ¶ˆæ¯å¾ªç¯top.mainloop() 12345678910111213141516171819202122232425262728293031323334353637# -*- coding: utf-8 -*-# @Time : 2020/7/21# @Author : esyfrom tkinter import *# åˆ›å»ºçª—å£root = thinter.TK()root = Tk()# æ ‡é¢˜root.title('Q&amp;A chatbot')# çª—å£å¤§å° å°å†™çš„xï¼Œè¡¨ç¤ºå¤§å°root.geometry('720x400+500+200')# çª—å£ä½ç½® åƒç´ px çš„åæ ‡ã€‚è·ç¦»å·¦ä¸Šè§’çš„ä½ç½®# root.geometry('+500+300')# æ ‡ç­¾æ§ä»¶label = Label(root, text='ç­¾å', font=('åä¸ºè¡Œæ¥·', 20), fg='red')# pack place å®šä½ï¼ˆåªç”¨ä¸€ç§ï¼‰grid ç½‘æ ¼å¸ƒå±€label.grid()# è¾“å…¥æ¡†entry = Entry(root, font=('å¾®è½¯é›…é»‘', 20))# rowå¯¹åº”è¡Œï¼Œcolumnå¯¹åº”çš„åˆ—entry.grid(row=0, column=1)# ç‚¹å‡»æŒ‰é’®button = Button(root, text='è®¾è®¡ç­¾å', font=('å¾®è½¯é›…é»‘', 20), fg='blue')# å®½é«˜è®¾ç½®button['width'] = 10button['height'] = 1# å¯¹é½æ–¹å¼sticky,Wå·¦ã€‚Eå³, stick=Ebutton.grid(row=1, column=1)# æ¶ˆæ¯å¾ªç¯ æ˜¾ç¤ºçª—å£root.mainloop() ç»„ä»¶ï¼šæŒ‰é’®ï¼Œæ–‡æœ¬è¾“å…¥æ¡†ã€‚æ»šåŠ¨æ¡ç­‰ çª—å£ï¼šrootè¾“å…¥ GUIâ€“çª—å£è®¾ç½®123456789101112131415161718import tkinter# åˆ›å»ºä¸»çª—å£å¯¹è±¡root = tkinter.Tk()# ç»™çª—å£åŠ å…¥æ ‡é¢˜root.title('Q&amp;A chatbot')# è®¾ç½®çª—å£å¤§å°,åƒç´ å¤§å°# root.minsize(300, 300)# çª—å£å¤§å° å°å†™çš„xï¼Œè¡¨ç¤ºå¤§å°ï¼Œ å’Œä½ç½®root.geometry('720x400+500+200')# çª—å£ä½ç½® åƒç´ px çš„åæ ‡ã€‚è·ç¦»å·¦ä¸Šè§’çš„ä½ç½®# root.geometry('+500+300')# åŠ å…¥ä¿¡æ¯å¾ªç¯root.mainloop() ç»„ä»¶æ‘†æ”¾æ–¹å¼https://www.cnblogs.com/myshuzhimei/p/11764532.html Tkinterä¹‹éƒ¨ä»¶3ç§æ”¾ç½®æ–¹å¼packã€gridã€place ä»¥è§„å¾‹çš„æ–¹æ ¼å½¢å¼å‘ˆç°ã€‚æ¯”å¦‚ä¸‹é¢çš„ä»£ç å°±æ˜¯åˆ›å»ºä¸€ä¸ªä¸‰è¡Œä¸‰åˆ—çš„è¡¨æ ¼ï¼šå‚æ•°row ä¸ºè¡Œï¼Œcolum ä¸ºåˆ—ï¼Œpadx å•å…ƒæ ¼å·¦å³é—´è·ï¼Œpadyå•å…ƒæ ¼ä¸Šä¸‹é—´è·ï¼Œipadxå•å…ƒæ ¼å†…éƒ¨å…ƒç´ ä¸å•å…ƒæ ¼çš„å·¦å³é—´è·ï¼Œipadyå•å…ƒæ ¼å†…éƒ¨å…ƒç´ ä¸å•å…ƒæ ¼çš„ä¸Šä¸‹é—´è·ã€‚ ç›´æ¥ç”¨gridæ–¹å¼ 12345678910111213141516171819202122232425262728293031323334353637383940# -*- coding: utf-8 -*-# @Time : 2020/7/21# @Author : esyimport tkinter# åˆ›å»ºä¸»çª—å£å¯¹è±¡root = tkinter.Tk()# ç»™çª—å£åŠ å…¥æ ‡é¢˜root.title('Q&amp;A chatbot')# è®¾ç½®çª—å£å¤§å°,åƒç´ å¤§å°# root.minsize(300, 300)# çª—å£å¤§å° å°å†™çš„xï¼Œè¡¨ç¤ºå¤§å°ï¼Œ å’Œä½ç½®root.geometry('720x400+500+200')# çª—å£ä½ç½® åƒç´ px çš„åæ ‡ã€‚è·ç¦»å·¦ä¸Šè§’çš„ä½ç½®# root.geometry('+500+300')# ç‚¹å‡»æŒ‰é’®button = tkinter.Button(root, text='ç‚¹å‡»0', font=('å¾®è½¯é›…é»‘', 20), fg='blue')button.grid(row=0, column=0)button1 = tkinter.Button(root, text='ç‚¹å‡»1', font=('å¾®è½¯é›…é»‘', 20), fg='blue')button1.grid(row=0, column=1)button2 = tkinter.Button(root, text='ç‚¹å‡»2', font=('å¾®è½¯é›…é»‘', 20), fg='blue')button2.grid(row=1, column=0)button3 = tkinter.Button(root, text='ç‚¹å‡»3', font=('å¾®è½¯é›…é»‘', 20), fg='blue')button3.grid(row=1, column=1)button4 = tkinter.Button(root, text='ç‚¹å‡»4', font=('å¾®è½¯é›…é»‘', 20), fg='blue')button4.grid(row=2, column=0, columnspan=2, ipadx=40)button5 = tkinter.Button(root, text='ç‚¹å‡»5', font=('å¾®è½¯é›…é»‘', 20), fg='blue')button5.grid(row=0, column=2, rowspan=2, ipady=40)# è·¨åˆ—columnspan rowspan,è·¨è¡Œ# ipadx,ipady è·¨è·ç¦»è®¾ç½®# åŠ å…¥ä¿¡æ¯å¾ªç¯root.mainloop() ç»„ä»¶ä¿¡æ¯é¼ æ ‡æ ·å¼1root['cursor'] = 'heart' cheakbutoonå‹¾é€‰æ¡†ç»„ä»¶1234567891011121314151617181920212223242526272829303132333435363738# -*- coding: utf-8 -*-# @Time : 2020/7/21# @Author : esyimport tkinterfrom tkinter import *# åˆ›å»ºä¸»çª—å£å¯¹è±¡root = tkinter.Tk()# é¼ æ ‡æ ·å¼root['cursor'] = 'heart'# ç»™çª—å£åŠ å…¥æ ‡é¢˜root.title('Q&amp;A chatbot')# è®¾ç½®çª—å£å¤§å°,åƒç´ å¤§å°# root.minsize(300, 300)# çª—å£å¤§å° å°å†™çš„xï¼Œè¡¨ç¤ºå¤§å°ï¼Œ å’Œä½ç½®root.geometry('720x400+500+200')# cheakbutton é€‰æ‹©æ¡†ç»„ä»¶# å¦‚æœæ–‡æœ¬çš„å†…å®¹æœ‰å˜åŒ–text = tkinter.StringVar()text.set('åŒæ„')# è®¾ç½®é€‰æ‹©æ¡†é’©ä¸ä¸é’©çš„å€¼result = tkinter.IntVar()# è®¾ç½®è¿”å›å€¼def func(): print(result.get())cheakbutoon = tkinter.Checkbutton(root, textvariable=text, variable=result, command=func)cheakbutoon.grid(row=0, column=0)# åŠ å…¥ä¿¡æ¯å¾ªç¯root.mainloop() è¾“å…¥ç»„ä»¶123456789101112131415161718192021222324252627282930# -*- coding: utf-8 -*-# @Time : 2020/7/21# @Author : esyimport tkinter# åˆ›å»ºä¸»çª—å£å¯¹è±¡root = tkinter.Tk()# é¼ æ ‡æ ·å¼root[&apos;cursor&apos;] = &apos;heart&apos;# ç»™çª—å£åŠ å…¥æ ‡é¢˜root.title(&apos;Q&amp;A chatbot&apos;)# çª—å£å¤§å° å°å†™çš„xï¼Œè¡¨ç¤ºå¤§å°ï¼Œ å’Œä½ç½®root.geometry(&apos;720x400+500+200&apos;)# è¾“å…¥ç»„ä»¶# è¾“å…¥æ¡†username = tkinter.Entry(root, font=(&apos;å¾®è½¯é›…é»‘&apos;, 20), bg=&apos;red&apos;, fg=&apos;blue&apos;)username.grid(row=0, column=0)# å¯†ç è¾“å…¥password = tkinter.Entry(root, show=&apos;*&apos;, font=(&apos;å¾®è½¯é›…é»‘&apos;, 20))password.grid(row=1, column=0)# åŠ å…¥ä¿¡æ¯å¾ªç¯root.mainloop()","categories":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/categories/work/"}],"tags":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/tags/work/"}]},{"title":"chatbotåœ¨pythonä¸Šå®ç°","slug":"chatbot/chatbotåœ¨pythonä¸Šå®ç°","date":"2020-07-20T13:23:10.000Z","updated":"2020-07-20T13:23:10.000Z","comments":true,"path":"2020/07/20/chatbot/chatbotåœ¨pythonä¸Šå®ç°/","link":"","permalink":"https://esyyes.github.io/2020/07/20/chatbot/chatbot%E5%9C%A8python%E4%B8%8A%E5%AE%9E%E7%8E%B0/","excerpt":"","text":"chatbotåœ¨pythonä¸Šå®ç°æµç¨‹åŸºäºè§„åˆ™è¾“å‡ºç®€å•çš„å›å¤123456789101112131415if __name__ == '__main__': data1 = pd.read_csv('Q&amp;A pairs.csv') print(\"Hello, I'm a question-and-answer chatbot for the tourism domain based on retrieval mode.\" \"If you want to exit, input 'Bye'!\") greeting_output = [\"hi\", \"hey\", \"hello\", \"I'm glad! You are talking to me\"] while True: text2 = input(\"Please enter a question: \\t\") text1 = \" \".join([token.lemma_ for token in nlp(text2)]) if text1 == 'hey' or text1 == 'hi' or text1 == 'hello' or text1 == 'HI': print(random.choice(greeting_output)) elif text1 == 'thank' or text1 == 'thank -PRON-' or text1 == 'THANK': print('You are welcome.') elif text1 == 'bye' or text1 == 'BYE': print('Bye!') break é‡æ–°å†™ä¸ªç®€å•çš„ç¨‹åºå§ é¦–å…ˆå¯¹é—®é¢˜è¿›è¡Œé¢„å¤„ç†12345678910def del_stop(text): token_doc = [token.lemma_ for token in nlp(text)] # å»é™¤åœç”¨è¯ååˆ›å»ºå•è¯åˆ—è¡¨ filtered_sentence = [] for word in token_doc: lexeme = nlp.vocab[word] if not lexeme.is_stop != False: filtered_sentence.append(word) return filtered_sentenceå°†å­—æ¯éƒ½åˆ‡æ¢ä¸ºå°å†™ï¼Œå¹¶åˆ‡é™¤åœé è¯ï¼Œå¾—åˆ°å…³é”®çš„è¯­å¥ è®¡ç®—TF_IDFç¬¬ä¸€æ­¥è¿˜æ˜¯å°†é—®é¢˜è¿›è¡Œé¢„å¤„ç†ï¼Œç„¶åè·å–è¯­æ–™åº“ä¸­çš„é—®é¢˜çš„è¯é¢‘ï¼Œå¾—åˆ°è¯­æ–™åº“çš„è¯æ±‡ ç¬¬äºŒæ­¥åˆ¤æ–­æå‡ºçš„é—®é¢˜çš„å…³é”®è¯æ±‡æ˜¯å¦åœ¨è¯­æ–™åº“çš„è¯æ±‡ä¸­ï¼Œå¦‚æœä¸åœ¨å°±ç›´æ¥è¿”å›0ï¼Œç¨‹åºä¼šè¿”å›ä¸€ä¸ªä¸çŸ¥é“ ç¬¬ä¸‰æ­¥è®¡ç®—è¯æ±‡çš„idf ç¬¬å››æ­¥è®¡ç®—æ¯ä¸ªå•è¯åœ¨æ¯ä¸ªé—®é¢˜ä¸­çš„é¢‘ç‡ ç¬¬äº”æ­¥å¾—åˆ°æ¯ä¸ªé—®é¢˜çš„å…³é”®è¯æ±‡çš„tf-idfçš„åˆ†æ•°åˆ—è¡¨ ç¬¬å…­æ­¥è®¡ç®—æå‡ºé—®é¢˜åœ¨æ¯ä¸ªé—®é¢˜ä¸­èƒ½å¾—åˆ°tf-idfå¤šå°‘åˆ† ç¬¬ä¸ƒæ­¥å°†æ¯ä¸ªtf-idfçš„å¾—åˆ†å‡åºæ’åˆ—ï¼Œç„¶åå¬å›æœ€é«˜å¾—åˆ†çš„5ä¸ªé—®é¢˜ï¼Œå’Œå¯¹åº”çš„5ä¸ªç­”æ¡ˆ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768def QA_tf_idf(data, filtered_sentence): question = np.array(data[&apos;Question&apos;]).tolist() answer = np.array(data[&apos;Answer&apos;]).tolist() # å°†é—®é¢˜è¿›è¡Œåˆ†è¯ list_ques = [[t.lemma_ for t in nlp(question[i])] for i in range(len(data))] # å»é™¤åœç”¨è¯ååˆ›å»ºå•è¯åˆ—è¡¨ list_key = [] for i in range(len(data)): filtered_sentence1 = [] for word in list_ques[i]: lexeme = nlp.vocab[word] if not lexeme.is_stop != False: filtered_sentence1.append(word) list_key.append(filtered_sentence1) # ç»Ÿè®¡è¯é¢‘å’Œè¯æ±‡,çœ‹å•è¯å‡ºç°çš„æ¬¡æ•° doc_frequency = defaultdict(int) list_words = list_key for word_list in list_words: for i in word_list: doc_frequency[i] += 1 l1 = set(filtered_sentence) l2 = set(doc_frequency.keys()) if not l1.issubset(l2) != False: return 0 else: # è®¡ç®—æ¯ä¸ªè¯çš„IDFå€¼ word_idf = &#123;&#125; # å­˜å‚¨æ¯ä¸ªè¯çš„idfå€¼ word_doc = defaultdict(int) # å­˜å‚¨åŒ…å«è¯¥è¯çš„æ–‡æ¡£æ•° for i in doc_frequency: for j in list_words: if i in j: word_doc[i] += 1 for i in doc_frequency: word_idf[i] = math.log(len(list_key) / (word_doc[i] + 1)) # æ‰¾åˆ°æ¯ä¸ªè¯å¯¹åº”æ–‡æ¡£ä¸­å‡ºç°çš„æ¬¡æ•° doc_frequency1 = defaultdict(int) for word_list in list_key: for i in word_list: doc_frequency1[i] += 1 # å¯¹æ ·æœ¬è¿›è¡Œè¯é¢‘ç»Ÿè®¡ list_doc = [] for i in range(len(list_key)): doc_frequency1 = defaultdict(int) for j in list_key[i]: doc_frequency1[j] += 1 list_doc.append(doc_frequency1) # è®¡ç®—è¯­æ–™åº“çš„tf_idf tf_idf = [] for j in range(len(data)): tf_idf.append([word_idf[i] * list_doc[j][i] / len(list_doc[j]) for i in (list_doc[j])]) # è®¡ç®—æ ·æœ¬çš„tf-idfå¾—åˆ† scores = [] for j in range(len(data)): score = 0 for i in filtered_sentence: score += (word_idf[i] * list_doc[j][i] / len(list_doc[j])) scores.append(score) # ç”¨å­—å…¸å½¢å¼æ’åº x = np.arange(len(data)).tolist() dict_score = dict(zip(x, scores)) listc = sorted(zip(dict_score.values(), dict_score.keys())) recall_ques = [] recall_answ = [] for i in range(1, 6): recall_ques.append(question[listc[-i][1]]) recall_answ.append(answer[listc[-i][1]]) return recall_ques, recall_answ æ±‚5ä¸ªé—®é¢˜çš„ç›¸ä¼¼åº¦åˆ©ç”¨è‡ªå¸¦çš„ä½™å¼¦ç›¸ä¼¼æ€§æ±‚5ä¸ªé—®é¢˜å’Œè¾“å…¥é—®é¢˜çš„ç›¸ä¼¼åº¦ 12def similar_list(text, recall_ques): return [nlp(text).similarity(nlp(recall_ques[i])) for i in range(5)] è¾“å‡ºç›¸ä¼¼åº¦æœ€é«˜çš„é‚£ä¸ªé—®é¢˜çš„ç­”æ¡ˆ123def best_answer(list_num, recall_answ): # è¾“å‡ºç›¸ä¼¼åº¦æœ€é«˜çš„é‚£ä¸ªçš„ç­”æ¡ˆ print(recall_answ[list_num.index(max(list_num))]) æ„å»ºæ— é™å¾ªç¯123456789101112131415161718192021if __name__ == '__main__': data1 = pd.read_csv('Q&amp;A pairs.csv') print(\"Hello, I'm a question-and-answer chatbot for the tourism domain based on retrieval mode.\" \"If you want to exit, input 'Bye'!\") greeting_output = [\"hi\", \"hey\", \"hello\", \"I'm glad! You are talking to me\"] while True: text2 = input(\"Please enter a question: \\t\") text1 = \" \".join([token.lemma_ for token in nlp(text2)]) if text1 == 'hey' or text1 == 'hi' or text1 == 'hello' or text1 == 'HI': print(random.choice(greeting_output)) elif text1 == 'thank' or text1 == 'thank -PRON-' or text1 == 'THANK': print('You are welcome.') elif text1 == 'bye' or text1 == 'BYE': print('Bye!') break else: if QA_tf_idf(data1, del_stop(text1)) == 0: print(f\"I'm sorry. I don't understand you\") else: recall_ques1, recall_answ1 = QA_tf_idf(data1, del_stop(text1)) best_answer(similar_list(text1, recall_ques1), recall_answ1) èƒ½å¤Ÿç®€å•å®ç°æ­¥éª¤ï¼Œä¸‹ä¸€æ­¥åŠ å…¥GUI","categories":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/categories/work/"}],"tags":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/tags/work/"}]},{"title":"Q&A chatbot ç®€å•å®ç°","slug":"chatbot/Q-A-chatbot-ç®€å•å®ç°","date":"2020-07-19T08:32:51.000Z","updated":"2020-07-19T08:32:51.000Z","comments":true,"path":"2020/07/19/chatbot/Q-A-chatbot-ç®€å•å®ç°/","link":"","permalink":"https://esyyes.github.io/2020/07/19/chatbot/Q-A-chatbot-%E7%AE%80%E5%8D%95%E5%AE%9E%E7%8E%B0/","excerpt":"","text":"Q&amp;A chatbot ç®€å•å®ç°Project Title: Traveler (a question-and-answer chatbot based on retrieval mode.)è®¾è®¡è¦æ±‚ï¼šI plan to develop a question-and-answer chatbot for the tourism domainbased on retrieval mode. The chatbot will respond to users byselecting the best matching answer in the database based on usersâ€™questions. four parts.In order to develop the question-and answer chatbot, I will divide my job into four parts. 1) Extract the keywords from textFor a piece of text, I can extract keywords and remove words that have no actualmeaning but appear frequently, such as the, a, is, etc. This process prepares for thegeneration of word frequency vectors that can be used to calculate the similaritybetween two pieces of text. 2) Calculate the semantic similarityFor a piece of text, I can calculate the similarity between this text and othercompared text. According to the extracted keywords mentioned above, all the textswill be vectorized to calculate the similarity between the test text and eachcompared text. The higher the similarity value is, the more similar the comparedtext is to the test text. This process is prepared to later calculate the similaritybetween the user questions and existing questions in the database. 3) Create database which contains question-and-answer pairsI will deliver a complete database contains all pairs of userâ€™s possible questions andanswers. After calculating the similarity between the user questions and existingquestions, the database will select an answer whose matching question is mostrelevant to the userâ€™s question as response to the users. 4) Create a graphical interface that allows users to enter textI will deliver a GUI that can allow users to input question and give an output to theuserâ€™s question. åˆæ­¥å®ç°ä¹‹å»é™¤åœé è¯åçš„ç¨‹åº123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119# -*- coding: utf-8 -*-# @Time : 2020/7/19# @Author : esyimport mathimport randomè¯­æ–™åŒ…import en_core_web_mdimport pandas as pdimport numpy as npimport warningsä¸ºäº†åŠ è½½è¯é¢‘from collections import defaultdictwarnings.filterwarnings(\"ignore\")# å¯¼å…¥è‹±æ–‡æ¨¡å—nlp = en_core_web_md.load()text = input(\"è¯·è¾“å…¥é—®é¢˜: \")# è¿›è¡Œé—®é¢˜åˆ†è¯doc = nlp(text)token_doc = [token.text for token in doc]# å»é™¤åœç”¨è¯ååˆ›å»ºå•è¯åˆ—è¡¨ï¼Œç›¸å½“äºå°±æ˜¯åªæœ‰å…³é”®è¯äº†filtered_sentence = []for word in token_doc: lexeme = nlp.vocab[word] if not lexeme.is_stop != False: filtered_sentence.append(word)# å¯¼å…¥è¯­æ–™åŒ…ï¼Œè¯»å–é—®é¢˜å’Œç­”æ¡ˆdata = pd.read_csv('Q&amp;A pairs.csv')question = np.array(data['Question']).tolist()answer = np.array(data['Answer']).tolist()# å°†é—®é¢˜è¿›è¡Œåˆ†è¯list_ques = [[t.text for t in nlp(question[i])] for i in range(len(data))]# å»é™¤åœç”¨è¯ååˆ›å»ºå•è¯åˆ—è¡¨ï¼Œå°†é—®é¢˜å…¨éƒ¨è¿›è¡Œå»åœé è¯list_key = []for i in range(len(data)): filtered_sentence1 = [] for word in list_ques[i]: lexeme = nlp.vocab[word] if not lexeme.is_stop != False: filtered_sentence1.append(word) list_key.append(filtered_sentence1)# ç»Ÿè®¡è¯é¢‘å’Œè¯æ±‡,å¹¶çœ‹å•è¯å‡ºç°çš„æ¬¡æ•°ï¼Œçœ‹å…¨æ–‡çš„å…³é”®è¯æ±‡å’Œè¯æ˜¯å¤šå°‘doc_frequency = defaultdict(int)list_words = list_keyfor word_list in list_words: for i in word_list: doc_frequency[i] += 1# è®¡ç®—æ¯ä¸ªè¯çš„IDFå€¼word_idf = &#123;&#125; # å­˜å‚¨æ¯ä¸ªè¯çš„idfå€¼word_doc = defaultdict(int) # å­˜å‚¨åŒ…å«è¯¥è¯çš„æ–‡æ¡£æ•°for i in doc_frequency: for j in list_words: if i in j: word_doc[i] += 1for i in doc_frequency: word_idf[i] = math.log(len(list_key) / (word_doc[i] + 1))# æ‰¾åˆ°æ¯ä¸ªè¯å¯¹åº”æ¯ä¸ªé—®é¢˜ä¸­å‡ºç°çš„æ¬¡æ•°doc_frequency1 = defaultdict(int)for word_list in list_key: for i in word_list: doc_frequency1[i] += 1# ç»Ÿè®¡å…³é”®è¯åœ¨å•ä¸ªæ ·æœ¬ä¸­å‡ºç°çš„æ¬¡æ•°list_doc = []for i in range(len(list_key)): doc_frequency1 = defaultdict(int) for j in list_key[i]: doc_frequency1[j] += 1 list_doc.append(doc_frequency1)# è®¡ç®—å‡ºæ¯ä¸ªé—®é¢˜å¯¹åº”çš„tf_idfç´¢å¼•tf_idf = []for j in range(len(data)): c = [] for i in (list_doc[j]): c.append(word_idf[i] * list_doc[j][i] / len(list_doc[j])) tf_idf.append(c)# è®¡ç®—è¾“å…¥çš„é—®é¢˜åœ¨å…¨éƒ¨æ–‡æ¡£ä¸­çš„tf-idfå¾—åˆ†scores = []for j in range(len(data)): score = 0 for i in filtered_sentence: score += (word_idf[i] * list_doc[j][i] / len(list_doc[j])) scores.append(score)# ç”¨å­—å…¸å½¢å¼æ’åºx = np.arange(len(data)).tolist()dict_score = dict(zip(x, scores))å‡åºæ’åºlistc = sorted(zip(dict_score.values(), dict_score.keys()))# å¬å›å¾—åˆ†æœ€é«˜çš„5ä¸ªå¯¹åº”é—®é¢˜å’Œç­”æ¡ˆï¼Œå¯¹é—®é¢˜è¿›è¡Œç²—æ’recall_ques = []recall_answ = []for i in range(1, 6): recall_ques.append(question[listc[-i][1]]) recall_answ.append(answer[listc[-i][1]])# åˆ©ç”¨ä½™å¼¦ç›¸ä¼¼æ€§æ±‚5ä¸ªé—®é¢˜çš„ç›¸ä¼¼åº¦list_num = []for i in range(5): list_num.append(doc.similarity(nlp(recall_ques[i])))# è¾“å‡ºç›¸ä¼¼åº¦æœ€é«˜çš„é‚£ä¸ªçš„ç­”æ¡ˆif len(set(list_num)) == random.randint(1, 6): print(recall_answ[list_num.index(max(list_num))])else: print(recall_answ[random.randint(0, 5)]) åªæ˜¯èƒ½ç®€å•å®ç°æ ·æœ¬ï¼Œä¸‹ä¸€æ­¥æ˜¯å®ç°å¾ªç¯è¾“å…¥å’Œèƒ½å›å¤ç®€å•çš„é—®é¢˜","categories":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/categories/work/"}],"tags":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/tags/work/"}]},{"title":"spacyçš„åŸºç¡€çŸ¥è¯†å†å­¦ä¹ ","slug":"chatbot/spacyçš„åŸºç¡€çŸ¥è¯†å†å­¦ä¹ ","date":"2020-07-18T02:14:53.000Z","updated":"2020-07-18T02:14:53.000Z","comments":true,"path":"2020/07/18/chatbot/spacyçš„åŸºç¡€çŸ¥è¯†å†å­¦ä¹ /","link":"","permalink":"https://esyyes.github.io/2020/07/18/chatbot/spacy%E7%9A%84%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E5%86%8D%E5%AD%A6%E4%B9%A0/","excerpt":"","text":"spacyçš„åŸºç¡€çŸ¥è¯†å†å­¦ä¹ spacyå’Œnltkçš„æ¯”è¾ƒ spacyç›¸å¯¹æ¥è¯´æ›´å¿«é€Ÿçš„å¤šï¼Œå› æ­¤é‡‡ç”¨ï¼ŒåŠŸèƒ½ä¹Ÿæ›´å¤šä¸€äº›ã€‚","categories":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/categories/work/"}],"tags":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/tags/work/"}]},{"title":"q@aæ£€ç´¢å¼æœºå™¨äººçš„æµç¨‹","slug":"chatbot/q-aæ£€ç´¢å¼æœºå™¨äººçš„æµç¨‹","date":"2020-07-15T16:06:58.000Z","updated":"2020-07-15T16:06:58.000Z","comments":true,"path":"2020/07/16/chatbot/q-aæ£€ç´¢å¼æœºå™¨äººçš„æµç¨‹/","link":"","permalink":"https://esyyes.github.io/2020/07/16/chatbot/q-a%E6%A3%80%E7%B4%A2%E5%BC%8F%E6%9C%BA%E5%99%A8%E4%BA%BA%E7%9A%84%E6%B5%81%E7%A8%8B/","excerpt":"","text":"Q@Aæ£€ç´¢å¼æœºå™¨äººçš„æµç¨‹é—®é¢˜è¾“å…¥æ¨¡å—1 é—®é¢˜è¾“å…¥ 2 å¯¹é—®é¢˜è¿›è¡Œåˆ†æï¼ˆé¢„å¤„ç†é—®é¢˜ï¼Œåˆ©ç”¨spacyæˆ–nltkç­‰è¿›è¡Œè‡ªç„¶è¯­è¨€å¤„ç†ï¼‰ 3 æ„å»ºè§„åˆ™ç³»ç»Ÿï¼ˆç›®çš„æ˜¯ï¼šå›å¤äº›ç®€å•çš„å†…å®¹ï¼Œå’Œæ’é™¤äº›ä¸æ˜¯æ—…æ¸¸ç³»ç»Ÿçš„ä¿¡æ¯ï¼Œif-elseè¯­å¥ï¼‰ çŸ­è¯­æ˜ å°„æ¨¡å—ï¼ˆåˆæ’æ¨¡å‹ï¼‰4 å°†é—®é¢˜çš„ä¿¡æ¯å’Œè¯­æ–™åº“çš„ä¿¡æ¯è¿›è¡ŒåŒ¹é…ï¼ˆå…³é”®è¯æå–â€“ç›¸ä¼¼åº¦è®¡ç®—ï¼‰ spacyè‡ªå¸¦äº†ä¸€ä¸ªç›¸ä¼¼åº¦è®¡ç®—ï¼Œç°åœ¨åŸºæœ¬éƒ½èƒ½ç®—å‡ºæ¥ï¼Œåé¢å†å¥—ç”¨ä¸‹TF-IDFç®—æ³•ï¼Œæå–å…³é”®è¯ï¼Œ ç›¸ä¼¼åº¦è®¡ç®—ï¼ˆTF-IDFæˆ–è€…LDAç­‰ï¼‰ TF-IDF: TF-IDFï¼ˆterm frequencyâ€“inverse document frequencyï¼Œè¯é¢‘-é€†å‘æ–‡ä»¶é¢‘ç‡ï¼‰æ˜¯ä¸€ç§ç”¨äºä¿¡æ¯æ£€ç´¢ï¼ˆinformation retrievalï¼‰ä¸æ–‡æœ¬æŒ–æ˜ï¼ˆtext miningï¼‰çš„å¸¸ç”¨åŠ æƒæŠ€æœ¯ã€‚ LDAï¼ˆLatent Dirichlet Allocationï¼‰æ˜¯ä¸€ç§æ–‡æ¡£ä¸»é¢˜ç”Ÿæˆæ¨¡å‹ï¼Œä¹Ÿç§°ä¸ºä¸€ä¸ªä¸‰å±‚è´å¶æ–¯æ¦‚ç‡æ¨¡å‹ï¼ŒåŒ…å«è¯ã€ä¸»é¢˜å’Œæ–‡æ¡£ä¸‰å±‚ç»“æ„ã€‚ ä¸€èˆ¬é‡‡ç”¨ Word2vecæˆ– GloVe ç­‰å·¥å…·å¯¹è‡ªç„¶è¯­è¨€è¿›è¡Œå‘é‡åŒ–ï¼Œæ„Ÿè§‰å·²ç»è¿›è¡Œäº†å‘é‡åŒ– mdæ–‡ä»¶è‡ªå¸¦å‘é‡åŒ–ï¼Œä½†æ˜¯éœ€è¦è½¬æ¢åˆ°2è¿›åˆ¶çš„ï¼Œæ‰€ä»¥è¿˜æ˜¯å¯ä»¥ç”¨ç”¨word2vec æ¶ˆæ­§æ¨¡å—é€šè¿‡è®¡ç®—æœ¬ä½“èµ„æºçš„æ ‡ç­¾å’Œå¯¹åº”çš„é—®å¥ä¿¡æ¯è¯ä¹‹é—´çš„ç›¸ä¼¼åº¦è¿›è¡Œæ’åºå¾—åˆ†ï¼Œç„¶åå¬å›å‡ ä¸ªç±»ä¼¼çš„é—®é¢˜ã€‚ æ£€ç´¢ï¼šå½“ç”¨æˆ·æé—®æ—¶ï¼Œé€šè¿‡ä»¥ä¸Šäº”ä¸ªæ­¥éª¤æŠŠé—®é¢˜æ˜ å°„ä¸ºä¸€ä¸ªé«˜ç»´ç¨€ç–å‘é‡ï¼Œç„¶åä»é—®é¢˜åº“ä¸­å¬å›ä¸å…¶cosinè·ç¦»æœ€è¿‘çš„nä¸ªé—®é¢˜ sklearnä¸­çš„LSHForest Facebook researchçš„pysparnn æŸ¥è¯¢æ„å»ºæ¨¡å—å°†å‰é¢çš„é—®é¢˜è¿›è¡ŒåŒ¹é…åï¼Œç„¶åè¾“å‡ºæœ€é«˜å¾—åˆ†æ—¶å¯¹åº”çš„é—®é¢˜ï¼Œç„¶åè¾“å‡ºç­”æ¡ˆ åé¢å†è¯´ç”Ÿæˆguiçš„é—®é¢˜ã€‚","categories":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/categories/work/"}],"tags":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/tags/work/"}]},{"title":"spacyçš„åŸºç¡€å­¦ä¹ ","slug":"chatbot/spacyçš„åŸºç¡€å­¦ä¹ ","date":"2020-07-15T01:56:53.000Z","updated":"2020-07-15T01:56:53.000Z","comments":true,"path":"2020/07/15/chatbot/spacyçš„åŸºç¡€å­¦ä¹ /","link":"","permalink":"https://esyyes.github.io/2020/07/15/chatbot/spacy%E7%9A%84%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/","excerpt":"","text":"spacyspacyçš„å®šä¹‰ spaCyæ˜¯ä¸€ä¸ªpythonå¼€æºæ¨¡å—ï¼Œç”¨äºå¤„ç†è‡ªç„¶è¯­è¨€çš„å¤§é‡æ–‡æœ¬ã€‚æ¯”å¦‚ï¼Œä¸€æ®µæ–‡å­—çš„å…³é”®æ˜¯ä»€ä¹ˆï¼Ÿåœ¨æ®µè½ä¸­ä¸Šä¸‹æ–‡çš„æ„æ€æ˜¯ä»€ä¹ˆï¼Ÿè°å¯¹è°åšäº†ä»€ä¹ˆï¼Ÿé‚£äº›å…¬å¸å’Œäº§å“åç§°ç‰¹æŒ‡ä»€ä¹ˆï¼Ÿä¸€ä¸ªå•è¯å’Œå…¶ä»–å…¶ä»–å•è¯ç›¸ä¼¼ç¨‹åº¦å¦‚ä½•ï¼Ÿä½œä¸ºäººç±»ï¼Œç†è§£è‡ªç„¶è¯­è¨€æ¯”è¾ƒå®¹æ˜“ï¼Œä½†å¦‚æœè®©è®¡ç®—æœºå»ç†è§£æ–‡æœ¬çš„æ„æ€ï¼Œè¿™éƒ½æ˜¯ä¸å¯å›é¿çš„é—®é¢˜ã€‚ spaCyå°±æ˜¯å¸®åŠ©ä½ ä½¿ç”¨è®¡ç®—å™¨ç¨‹åºå»å¤„ç†å’Œç†è§£æµ·é‡æ–‡æœ¬çš„å·¥å…·ã€‚åœ¨ç›®å‰æ¥è¯´ï¼Œå·ç§°æ˜¯é€Ÿåº¦æœ€å¿«ã€æ›´åŠ é€‚åˆå®é™…åº”ç”¨çš„å·¥ä¸šçº§äº§å“ã€‚spaCyå¯ä»¥å¸®åŠ©ä½ æ„å»ºä¿¡æ¯æå–ã€è‡ªç„¶è¯­è¨€ç†è§£ä»¥åŠæ·±åº¦å­¦ä¹ çš„é¢„å¤„ç† ã€‚ spaCyæ˜¯ä¸–ç•Œä¸Šæœ€å¿«çš„å·¥ä¸šçº§è‡ªç„¶è¯­è¨€å¤„ç†å·¥å…·ã€‚ æ”¯æŒå¤šç§è‡ªç„¶è¯­è¨€å¤„ç†åŸºæœ¬åŠŸèƒ½ã€‚ å®˜ç½‘åœ°å€ï¼šhttps://spacy.io/ spaCyä¸»è¦åŠŸèƒ½åŒ…æ‹¬åˆ†è¯ã€è¯æ€§æ ‡æ³¨ã€è¯å¹²åŒ–ã€å‘½åå®ä½“è¯†åˆ«ã€åè¯çŸ­è¯­æå–ç­‰ç­‰ã€‚ å®‰è£…ï¼špip install spacy ä¸å¹³å°ä¸åŒï¼ŒspaCyä¸æä¾›è½¯ä»¶å³æœåŠ¡æˆ–Webåº”ç”¨ç¨‹åºã€‚å®ƒæ˜¯ä¸€ä¸ªå¼€æ”¾æºä»£ç åº“ï¼Œæ—¨åœ¨å¸®åŠ©æ‚¨æ„å»ºNLPåº”ç”¨ç¨‹åºï¼Œè€Œä¸æ˜¯æ¶ˆè€—æ€§æœåŠ¡ã€‚ è¿™æ˜¯ä¸€ä¸ªå¼€æºåº“ã€‚ åœ¨æ–‡æ¡£ä¸­ï¼Œæ‚¨ä¼šæåˆ°spaCyçš„åŠŸèƒ½ã€‚å…¶ä¸­ä¸€äº›æ¶‰åŠè¯­è¨€æ¦‚å¿µï¼Œè€Œå…¶ä»–åˆ™æ¶‰åŠæ›´é€šç”¨çš„æœºå™¨å­¦ä¹ åŠŸèƒ½ã€‚ åç§° æè¿° ä»£å¸åŒ– å°†æ–‡æœ¬åˆ†å‰²æˆå•è¯ï¼Œæ ‡ç‚¹ç¬¦å·ç­‰ è¯æ€§ï¼ˆPOSï¼‰æ ‡è®° å°†å•è¯ç±»å‹åˆ†é…ç»™æ ‡è®°ï¼Œä¾‹å¦‚åŠ¨è¯æˆ–åè¯ã€‚ ä¾èµ–è§£æ åˆ†é…è¯­æ³•ç›¸å…³æ€§æ ‡ç­¾ï¼Œæè¿°å„ä¸ªæ ‡è®°ï¼ˆä¾‹å¦‚ä¸»é¢˜æˆ–å®¢ä½“ï¼‰ä¹‹é—´çš„å…³ç³»ã€‚ åˆæ³•åŒ– åˆ†é…å•è¯çš„åŸºæœ¬å½¢å¼ã€‚ä¾‹å¦‚ï¼Œâ€œ wasâ€çš„å¼•ç†æ˜¯â€œ beâ€ï¼Œâ€œ ratsâ€çš„å¼•ç†æ˜¯â€œ ratâ€ã€‚ å¥å­è¾¹ç•Œæ£€æµ‹ï¼ˆSBDï¼‰ æŸ¥æ‰¾å’Œåˆ†å‰²å•ä¸ªå¥å­ã€‚ å‘½åå®ä½“è¯†åˆ«ï¼ˆNERï¼‰ æ ‡è®°å‘½åä¸ºâ€œçœŸå®ä¸–ç•Œâ€çš„å¯¹è±¡ï¼Œä¾‹å¦‚äººå‘˜ï¼Œå…¬å¸æˆ–ä½ç½®ã€‚ å®ä½“é“¾æ¥ï¼ˆELï¼‰ æ¶ˆé™¤æ–‡æœ¬å®ä½“ä¸çŸ¥è¯†åº“ä¸­å”¯ä¸€æ ‡è¯†ç¬¦çš„æ­§ä¹‰ã€‚ ç›¸ä¼¼ æ¯”è¾ƒå•è¯ï¼Œæ–‡æœ¬è·¨åº¦å’Œæ–‡æ¡£ï¼Œä»¥åŠå®ƒä»¬ä¹‹é—´çš„ç›¸ä¼¼ç¨‹åº¦ã€‚ æ–‡å­—åˆ†ç±» ä¸ºæ•´ä¸ªæ–‡æ¡£æˆ–æ–‡æ¡£çš„ä¸€éƒ¨åˆ†åˆ†é…ç±»åˆ«æˆ–æ ‡ç­¾ã€‚ åŸºäºè§„åˆ™çš„åŒ¹é… æ ¹æ®æ ‡è®°çš„æ–‡æœ¬å’Œè¯­è¨€æ³¨é‡Šæ¥æŸ¥æ‰¾æ ‡è®°åºåˆ—ï¼Œç±»ä¼¼äºæ­£åˆ™è¡¨è¾¾å¼ã€‚ è®­ç»ƒ æ›´æ–°å’Œæ”¹è¿›ç»Ÿè®¡æ¨¡å‹çš„é¢„æµ‹ã€‚ åºåˆ—åŒ– å°†å¯¹è±¡ä¿å­˜åˆ°æ–‡ä»¶æˆ–å­—èŠ‚å­—ç¬¦ä¸² NAME DESCRIPTION Tokenization Segmenting text into words, punctuations marks etc. Part-of-speech (POS) Tagging Assigning word types to tokens, like verb or noun. Dependency Parsing Assigning syntactic dependency labels, describing the relations between individual tokens, like subject or object. Lemmatization Assigning the base forms of words. For example, the lemma of â€œwasâ€ is â€œbeâ€, and the lemma of â€œratsâ€ is â€œratâ€. Sentence Boundary Detection (SBD) Finding and segmenting individual sentences. Named Entity Recognition (NER) Labelling named â€œreal-worldâ€ objects, like persons, companies or locations. Entity Linking (EL) Disambiguating textual entities to unique identifiers in a Knowledge Base. Similarity Comparing words, text spans and documents and how similar they are to each other. Text Classification Assigning categories or labels to a whole document, or parts of a document. Rule-based Matching Finding sequences of tokens based on their texts and linguistic annotations, similar to regular expressions. Training Updating and improving a statistical modelâ€™s predictions. Serialization Saving objects to files or byte strings. å°½ç®¡spaCyçš„æŸäº›åŠŸèƒ½å¯ä»¥ç‹¬ç«‹è¿è¡Œï¼Œä½†æ˜¯å…¶ä»–åŠŸèƒ½éœ€è¦ åŠ è½½ç»Ÿè®¡æ¨¡å‹ï¼Œè¿™ä½¿spaCyå¯ä»¥é¢„æµ‹ è¯­è¨€æ³¨é‡Š-ä¾‹å¦‚ï¼Œå•è¯æ˜¯åŠ¨è¯è¿˜æ˜¯åè¯ã€‚spaCyå½“å‰æä¾›ç”¨äºå¤šç§è¯­è¨€çš„ç»Ÿè®¡æ¨¡å‹ï¼Œå¯ä»¥å°†å…¶å®‰è£…ä¸ºå•ç‹¬çš„Pythonæ¨¡å—ã€‚æ¨¡å‹çš„å¤§å°ï¼Œé€Ÿåº¦ï¼Œå†…å­˜ä½¿ç”¨é‡ï¼Œå‡†ç¡®æ€§å’Œæ‰€åŒ…å«çš„æ•°æ®å¯èƒ½ä¼šæœ‰æ‰€ä¸åŒã€‚æ‚¨é€‰æ‹©çš„æ¨¡å‹å§‹ç»ˆå–å†³äºæ‚¨çš„ç”¨ä¾‹å’Œæ‚¨ä½¿ç”¨çš„æ–‡æœ¬ã€‚å¯¹äºé€šç”¨ç”¨ä¾‹ï¼Œå°å‹çš„é»˜è®¤æ¨¡å‹å§‹ç»ˆæ˜¯ä¸€ä¸ªå¥½çš„å¼€å§‹ã€‚å®ƒä»¬é€šå¸¸åŒ…æ‹¬ä»¥ä¸‹ç»„ä»¶ï¼š è¯æ€§æ ‡è®°å™¨ï¼Œä¾èµ–æ€§åˆ†æå™¨å’Œå‘½åå®ä½“è¯†åˆ«å™¨çš„äºŒè¿›åˆ¶æƒé‡ï¼Œä»¥åœ¨ä¸Šä¸‹æ–‡ä¸­é¢„æµ‹è¿™äº›æ³¨é‡Šã€‚ è¯æ±‡ä¸­çš„è¯æ±‡æ¡ç›®ï¼Œå³å•è¯åŠå…¶ä¸ä¸Šä¸‹æ–‡æ— å…³çš„å±æ€§ï¼Œä¾‹å¦‚å½¢çŠ¶æˆ–æ‹¼å†™ã€‚ æ•°æ®æ–‡ä»¶ï¼Œä¾‹å¦‚lemmatizationè§„åˆ™å’ŒæŸ¥æ‰¾è¡¨ã€‚ å•è¯å‘é‡ï¼Œå³å•è¯çš„å¤šç»´å«ä¹‰è¡¨ç¤ºï¼Œå¯è®©æ‚¨ç¡®å®šå®ƒä»¬ä¹‹é—´çš„ç›¸ä¼¼ç¨‹åº¦ã€‚ é…ç½®é€‰é¡¹ï¼ˆä¾‹å¦‚è¯­è¨€å’Œå¤„ç†ç®¡é“è®¾ç½®ï¼‰å¯åœ¨æ‚¨åŠ è½½æ¨¡å‹æ—¶å°†spaCyç½®äºæ­£ç¡®çš„çŠ¶æ€ã€‚ å®‰è£…é»˜è®¤æ¨¡å‹ï¼Œè·å–ä»£ç ä»¥ä»spaCyå†…åŠ è½½å®ƒï¼Œå¹¶æä¾›ç¤ºä¾‹è¿›è¡Œæµ‹è¯•ã€‚æœ‰å…³æ›´å¤šé€‰é¡¹ï¼Œè¯·å‚è§ä¸‹é¢æœ‰å…³å¯ç”¨å‹å·çš„éƒ¨åˆ† 12345import spacynlp = spacy.load(&quot;en_core_web_sm&quot;)ä¸¤ç§å½¢å¼import en_core_web_smnlp = en_core_web_sm.load() Download best-matching version of specific model for your spaCy installation ä¸ºspaCyå®‰è£…ä¸‹è½½ç‰¹å®šå‹å·çš„æœ€ä½³åŒ¹é…ç‰ˆæœ¬ python -m spacy download en_core_web_sm Out-of-the-box: download best-matching default model and create shortcut link å¼€ç®±å³ç”¨ï¼šä¸‹è½½æœ€åŒ¹é…çš„é»˜è®¤æ¨¡å‹å¹¶åˆ›å»ºå¿«æ·é“¾æ¥ python -m spacy download en Download exact model version (doesnâ€™t create shortcut link) python -m spacy download en_core_web_sm-2.2.0 â€“direct ä¸‹è½½ç²¾ç¡®çš„æ¨¡å‹ç‰ˆæœ¬ï¼ˆä¸åˆ›å»ºå¿«æ·é“¾æ¥ï¼‰python-mspacyä¸‹è½½en_core_web_sm-2.2.0â€“ç›´æ¥ å°ºå¯¸ï¼šå‹å·å°ºå¯¸æŒ‡ç¤ºç¬¦ï¼ˆsmï¼Œmdæˆ–lgï¼‰ å·²ç»æœ‰äº†en_core_web_md-2.2.5.tar.gzè¿™ä¸ªç‰ˆæœ¬ä¸‹è½½å¯¹åº”çš„spacy2.2.4.ç‰ˆæœ¬ å·²ç»èƒ½å¤Ÿæ­£å¸¸è¿è¡Œï¼Œå‚è€ƒç½‘é¡µ https://spacy.io/ 12345678910111213141516171819202122232425262728293031# -*- coding: utf-8 -*-# @Time : 2020/7/15# @Author : esyimport en_core_web_mdnlp = en_core_web_md.load()text = (\"When Sebastian Thrun started working on self-driving cars at \" \"Google in 2007, few people outside of the company took him \" \"seriously. â€œI can tell you very senior CEOs of major American \" \"car companies would shake my hand and turn away because I wasnâ€™t \" \"worth talking to,â€ said Thrun, in an interview with Recode earlier \" \"this week.\")doc = nlp(text)# Analyze syntaxprint(\"Noun phrases:\", [chunk.text for chunk in doc.noun_chunks])print(\"Verbs:\", [token.lemma_ for token in doc if token.pos_ == \"VERB\"])# Find named entities, phrases and conceptsfor entity in doc.ents: print(entity.text, entity.label_)è¿è¡Œç»“æœNoun phrases: ['Sebastian Thrun', 'self-driving cars', 'Google', 'few people', 'the company', 'him', 'I', 'you', 'very senior CEOs', 'major American car companies', 'my hand', 'I', 'Thrun', 'an interview', 'Recode']Verbs: ['start', 'work', 'drive', 'take', 'can', 'tell', 'would', 'shake', 'turn', 'talk', 'say']Sebastian Thrun PERSONGoogle ORG2007 DATEAmerican NORPThrun PERSONRecode ORGearlier this week DATE spacyçš„åŸºç¡€åˆ†æ 1234567import en_core_web_mdnlp = en_core_web_md.load()doc = nlp(\"Apple is looking at buying U.K. startup for $1 billion\")for token in doc: print(token.text, token.lemma_, token.pos_, token.tag_, token.dep_, token.shape_, token.is_alpha, token.is_stop) TEXT LEMMA POS TAG DEP SHAPE ALPHA STOP Apple apple PROPN NNP nsubj Xxxxx True False is be AUX VBZ aux xx True True looking look VERB VBG ROOT xxxx True False at at ADP IN prep xx True True buying buy VERB VBG pcomp xxxx True False U.K. u.k. PROPN NNP compound X.X. False False startup startup NOUN NN dobj xxxx True False for for ADP IN prep xxx True True $ $ SYM $ quantmod $ False False 1 1 NUM CD compound d False False billion billion NUM CD pobj xxxx True False Text: The original word text.æ–‡å­—ï¼šåŸå§‹æ–‡å­—ã€‚ Lemma: The base form of the word.å¼•ç†ï¼šè¯¥è¯çš„åŸºæœ¬å½¢å¼ã€‚ POS: The simple UPOS part-of-speech tag.POSï¼šç®€å•çš„UPOSè¯æ€§æ ‡ç­¾ã€‚ Tag: The detailed part-of-speech tag.æ ‡è®°ï¼šè¯¦ç»†çš„è¯æ€§æ ‡è®°ã€‚ Dep: Syntactic dependency, i.e. the relation between tokens.Depï¼šè¯­æ³•ä¾èµ–æ€§ï¼Œå³æ ‡è®°ä¹‹é—´çš„å…³ç³»ã€‚ Shape: The word shape â€“ capitalization, punctuation, digits.å½¢çŠ¶ï¼šå•è¯å½¢çŠ¶-å¤§å†™ï¼Œæ ‡ç‚¹ï¼Œæ•°å­—ã€‚ is alpha: Is the token an alpha character?æ˜¯å­—æ¯ï¼šä»¤ç‰Œæ˜¯å­—æ¯å­—ç¬¦å—ï¼Ÿ is stop: Is the token part of a stop list, i.e. the most common words of the language?æ˜¯åœæ­¢ï¼šæ ‡è®°æ˜¯åœæ­¢åˆ—è¡¨çš„ä¸€éƒ¨åˆ†ï¼Œå³è¯­è¨€ä¸­æœ€å¸¸è§çš„è¯å—ï¼Ÿ POS!è¯æ€§æ ‡ç­¾ è¯æ€§åˆ—è¡¨ï¼š https://spacy.io/api/annotation#pos-tagging POS DESCRIPTION EXAMPLES ADJ adjective big, old, green, incomprehensible, first ADP adposition in, to, during ADV adverb very, tomorrow, down, where, there AUX auxiliary is, has (done), will (do), should (do) CONJ conjunction and, or, but CCONJ coordinating conjunction and, or, but DET determiner a, an, the INTJ interjection psst, ouch, bravo, hello NOUN noun girl, cat, tree, air, beauty NUM numeral 1, 2017, one, seventy-seven, IV, MMXIV PART particle â€™s, not, PRON pronoun I, you, he, she, myself, themselves, somebody PROPN proper noun Mary, John, London, NATO, HBO PUNCT punctuation ., (, ), ? SCONJ subordinating conjunction if, while, that SYM symbol $, %, Â§, Â©, +, âˆ’, Ã—, Ã·, =, :), ğŸ˜ VERB verb run, runs, running, eat, ate, eating X other sfpksdpsxmsa SPACE space CC coordinatingconjunction å¹¶åˆ—è¿è¯ CD cardinaldigit çº¯æ•° åŸºæ•° DT determiner é™å®šè¯ï¼ˆç½®äºåè¯å‰èµ·é™å®šä½œç”¨ï¼Œå¦‚ theã€someã€my ç­‰ï¼‰ EX existentialthere (like:â€there isâ€â€¦ think of it like â€œthereexistsâ€) å­˜åœ¨å¥ï¼›å­˜ç°å¥ FW foreignword å¤–æ¥è¯­ï¼›å¤–æ¥è¯ï¼›å¤–æ–‡åŸè¯ IN preposition/subordinating conjunctionä»‹è¯/ä»å±è¿è¯ï¼›ä¸»ä»è¿è¯ï¼›ä»å±è¿æ¥è¯ JJ adjective â€˜bigâ€™ å½¢å®¹è¯ JJR adjective, comparative â€˜biggerâ€™ ï¼ˆå½¢å®¹è¯æˆ–å‰¯è¯çš„ï¼‰æ¯”è¾ƒçº§å½¢å¼ JJS adjective, superlative â€˜biggestâ€™ ï¼ˆå½¢å®¹è¯æˆ–å‰¯è¯çš„ï¼‰æœ€é«˜çº§ LS listmarker 1) MD modal (could, will) å½¢æ€çš„ï¼Œå½¢å¼çš„ , è¯­æ°”çš„ï¼›æƒ…æ€çš„ NN noun, singular â€˜deskâ€™ åè¯å•æ•°å½¢å¼ NNS nounplural â€˜desksâ€™ åè¯å¤æ•°å½¢å¼ NNP propernoun, singular â€˜Harrisonâ€™ ä¸“æœ‰åè¯ NNPS proper noun, plural â€˜Americansâ€™ ä¸“æœ‰åè¯å¤æ•°å½¢å¼ PDT predeterminer â€˜all the kidsâ€™ å‰ä½é™å®šè¯ POS possessiveending parentâ€™s å±æœ‰è¯ ç»“æŸè¯­ PRP personalpronoun I, he, she äººç§°ä»£è¯ PRP$ possessive pronoun my, his, hers ç‰©ä¸»ä»£è¯ RB adverb very, silently, å‰¯è¯ éå¸¸ é™é™åœ° RBR adverb,comparative better ï¼ˆå½¢å®¹è¯æˆ–å‰¯è¯çš„ï¼‰æ¯”è¾ƒçº§å½¢å¼ RBS adverb,superlative best ï¼ˆå½¢å®¹è¯æˆ–å‰¯è¯çš„ï¼‰æœ€é«˜çº§ RP particle give up å°å“è¯(ä¸åŠ¨è¯æ„æˆçŸ­è¯­åŠ¨è¯çš„å‰¯è¯æˆ–ä»‹è¯) TO to go â€˜toâ€™ the store. UH interjection errrrrrrrm æ„Ÿå¹è¯ï¼›æ„Ÿå¹è¯­ VB verb, baseform take åŠ¨è¯ VBD verb, pasttense took åŠ¨è¯ è¿‡å»æ—¶ï¼›è¿‡å»å¼ VBG verb,gerund/present participle taking åŠ¨è¯ åŠ¨åè¯/ç°åœ¨åˆ†è¯ VBN verb, pastparticiple taken åŠ¨è¯ è¿‡å»åˆ†è¯ VBP verb,sing. present, non-3d take åŠ¨è¯ ç°åœ¨ VBZ verb, 3rdperson sing. present takes åŠ¨è¯ ç¬¬ä¸‰äººç§° WDT wh-determiner which é™å®šè¯ï¼ˆç½®äºåè¯å‰èµ·é™å®šä½œç”¨ï¼Œå¦‚ theã€someã€my ç­‰ï¼‰ WP wh-pronoun who, what ä»£è¯ï¼ˆä»£æ›¿åè¯æˆ–åè¯è¯ç»„çš„å•è¯ï¼‰ WP$ possessivewh-pronoun whose æ‰€æœ‰æ ¼ï¼›å±æœ‰è¯ WRB wh-abverb where, when å‰¯è¯ åŸæ–‡é“¾æ¥ï¼šhttps://blog.csdn.net/jasonjarvan/article/details/79955664","categories":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/categories/work/"}],"tags":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/tags/work/"}]},{"title":"èŠå¤©æœºå™¨äººåŸºç¡€","slug":"chatbot/èŠå¤©æœºå™¨äººåŸºç¡€","date":"2020-07-10T13:55:29.000Z","updated":"2020-07-10T13:55:29.000Z","comments":true,"path":"2020/07/10/chatbot/èŠå¤©æœºå™¨äººåŸºç¡€/","link":"","permalink":"https://esyyes.github.io/2020/07/10/chatbot/%E8%81%8A%E5%A4%A9%E6%9C%BA%E5%99%A8%E4%BA%BA%E5%9F%BA%E7%A1%80/","excerpt":"","text":"èŠå¤©æœºå™¨äººåŸºç¡€ç¯‡é—®ç­”ç³»ç»Ÿæ˜¯æœç´¢å¼•æ“æŠ€æœ¯çš„ä¸€ç§æ‰©å±•ï¼Œå¯æ ¹æ®ç”¨æˆ·è¾“å…¥çš„é—®é¢˜ç»™å‡ºç²¾ç¡®è€Œç®€ç»ƒçš„ç­”æ¡ˆã€‚æ ¹æ®å›ç­”é—®é¢˜çš„èŒƒå›´ï¼Œé—®ç­”ç³»ç»Ÿåˆ†ä¸ºå¼€åŸŸå’Œé—­åŸŸã€‚å¼€åŸŸçš„é—®ç­”ç³»ç»Ÿå¯ä»¥å›ç­”å¤šç§å¤šæ ·ã€æ¶‰åŠå¾ˆå¤šé¢†åŸŸçš„é—®é¢˜ï¼›é—­åŸŸçš„é—®ç­”ç³»ç»Ÿä¸ºç”¨æˆ·å›ç­”æŸä¸ªç‰¹å®šé¢†åŸŸçš„é—®é¢˜ã€‚ é—®ç­”ç³»ç»Ÿé€šå¸¸æ˜¯é—­åŸŸçš„ï¼Œä¸”ä¸ºæ‰§è¡Œå…·ä½“çš„ä»»åŠ¡è€Œè®¾è®¡ï¼Œè¿™ç§é—®ç­”ç³»ç»Ÿä¹Ÿç§°ä½œä»»åŠ¡å¼é—®ç­”ç³»ç»Ÿ I plan to develop a question-and-answer chatbot for the tourism domainbased on retrieval mode. The chatbot will respond to users byselecting the best matching answer in the database based on usersâ€™questions. æœ¬æ–‡çš„è¦æ±‚ï¼šèŠå¤©æœºå™¨äººå°±ä¸ºé—®ç­”å¼çš„æŒ‡å®šçš„æ—…æ¸¸å’Œæ£€ç´¢å¼çš„ï¼ ä»¥ä»»åŠ¡ä¸ºä¸»çš„ç‰¹å®šé¢†åŸŸã€‚æ£€ç´¢å¼ æ£€ç´¢å¼å•è½®èŠå¤©æœºå™¨äººï¼ˆï¼¦ï¼¡ï¼±ï¼ï¼¢ã€‡ï½”ï¼‰ï¼Œå…¶æ€æƒ³å°±æ˜¯é€šè¿‡è®¡ç®—è¯å‘é‡çš„ç›¸ä¼¼æ€§ï¼Œåˆ©ç”¨æœ‰é™çš„é—®ç­”å¯¹è¿›è¡ŒåŒä¹‰è¯çš„æ‰©å±•ä¿®æ”¹å’Œå¤å†™ï¼Œæ­¤å¤–è¿˜æœ‰é—®ç­”ç³»ç»Ÿï¼ˆï¼±ï¼¡ï¼‰ å³åˆ›å»ºä¸€ä¸ªé—®ç­”å¼çš„æ£€ç´¢èŠå¤©æœºå™¨äººã€‚ é—®ç­”ç³»ç»Ÿé—®ç­”ç³»ç»Ÿ ï¼ˆ Question Answeriræ¯¡ï¼Œ QA ï¼‰ç”±æœ€åˆçš„æœç´¢éœ€æ±‚å‘å±•è€Œæ¥ï¼ŒåŸºæœ¬ä¸ºâ€œä¸€é—®ä¸€ç­”â€çš„äº¤äº’æ¨¡å¼ ï¼Œå› æ­¤æ„å»ºé—®ç­”ç³»ç»Ÿæ—¶ä¸€èˆ¬ä¸ä¼šæ¶‰åŠå¯¹è¯ç®¡ç†ç›¸å…³çš„æŠ€æœ¯ã€‚ ç¬¬ l ç« ä»‹ç»è¿‡ï¼Œ èŠå¤©æœºå™¨äººçš„æ ¸å¿ƒæ¨¡å—åŒ…æ‹¬è‡ªç„¶è¯­è¨€ç†è§£ã€å¯¹è¯ç®¡ç†å’Œè‡ª ç„¶è¯­è¨€ç”Ÿæˆã€‚ åœ¨è‡ªç„¶è¯­è¨€ç†è§£å±‚é¢ï¼Œé—®ç­”ç³»ç»Ÿåé‡äºé—®å¥åˆ†æï¼Œæ—¨åœ¨è·å–é—®å¥çš„ä¸»é¢˜è¯ã€é—®é¢˜è¯ã€ ä¸­å¿ƒåŠ¨è¯ç­‰ã€‚ ç›®å‰ï¼Œé—®å¥åˆ†æä¸»è¦é‡‡ç”¨æ¨¡æ¿åŒ¹é…å’Œè¯­ä¹‰è§£æä¸¤ç§æ–¹å¼ã€‚ è‡ªç„¶è¯­è¨€è‡ªç„¶è¯­è¨€é€šå¸¸ä¼šè‡ªç„¶åœ°éšæ–‡åŒ–å‘ç”Ÿæ¼”åŒ–ï¼Œè‹±è¯­ã€æ±‰è¯­ã€æ—¥è¯­éƒ½æ˜¯å…·ä½“ç§ç±»çš„è‡ªç„¶è¯­è¨€ï¼Œè¿™äº›è‡ªç„¶è¯­è¨€éœ‡è¡Œç€è¯­è¨€æœ€åŸå§‹çš„ä½œç”¨ ï¼š äººä»¬è¿›è¡Œäº¤äº’å’Œæ€æƒ³äº¤æµçš„åª’ä»‹æ€§å·¥å…·ã€‚æˆ‘ä»¬å¯ä»¥ä»è¯­éŸ³ã€éŸ³éŸµã€è¯æ€ã€å¥æ³•ã€è¯­ä¹‰ã€è¯­ç”¨ 6 ä¸ªç»´åº¦ç†è§£è‡ªç„¶è¯­è¨€ã€‚ ( 1 ï¼‰ è¯­éŸ³æ˜¯ä¸å‘éŸ³ç›¸å…³çš„å­¦é—®ï¼ˆä¾‹å¦‚å„¿ç«¥å­¦ä¹ çš„æ±‰è¯­æ‹¼éŸ³ç­‰ï¼‰ï¼Œä¸»è¦åœ¨å‰è¿°ä»‹ç»çš„è¯­éŸ³æŠ€æœ¯ä¸­å‘æŒ¥ä½œç”¨ã€‚ ( 2 ï¼‰ éŸ³éŸµæ˜¯ç”±è¯­éŸ³ç»„åˆèµ·æ¥çš„è¯»éŸ³ï¼Œå³æ±‰è¯­æ‹¼éŸ³å’Œå››å£°è°ƒã€‚ ( 3 ï¼‰ è¯æ€å°è£…äº†å¯ç”¨äºè‡ªç„¶è¯­è¨€ç†è§£çš„æœ‰ç”¨ä¿¡æ¯ï¼Œå…¶ä¸­ä¿¡æ¯é‡çš„å¤§å°å–å†³äºå…·ä½“çš„è¯­è¨€ç§ç±»ã€‚éœ€è¦ç‰¹åˆ«æåŠçš„æ˜¯ï¼Œä¸­æ–‡æ²¡æœ‰å¤ªå¤šçš„è¯æ€å˜æ¢ï¼ˆä¸åƒæ‹‰ä¸è¯­ç³»è¯­è¨€ï¼‰ï¼Œä»…å­˜åœ¨ä¸åŒçš„åæ—ï¼Œå¯¼è‡´å‡ºç°è¯çš„æ€§åˆ«è½¬æ¢çš„æƒ…å†µï¼ˆä¾‹å¦‚ â€œä»–â€â€œå¥¹â€ ï¼‰ ã€‚ ( 4 ï¼‰ å¥æ³•ä¸»è¦ç ”ç©¶è¯è¯­å¦‚ä½•ç»„æˆåˆä¹è¯­æ³•çš„å¥å­ ï¼Œå¥æ³•æä¾›å•è¯ç»„æˆå¥å­çš„çº¦æŸæ¡ä»¶ï¼Œä¸ºè¯­ä¹‰çš„åˆæˆæä¾›æ¡†æ¶ã€‚ ( 5 ï¼‰ è¯­ä¹‰å’Œè¯­ç”¨æ˜¯è‡ªç„¶è¯­è¨€æ‰€åŒ…å«å’Œè¡¨è¾¾çš„æ„æ€ ã€‚ å¯¹è®¡ç®—æœºæ¥è¯´ï¼Œè‡ªç„¶è¯­è¨€å¤„ç†çš„éš¾åº¦ä¸»è¦ä½“ç°åœ¨ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ ï¼š ( 1 ï¼‰è‡ªç„¶è¯­è¨€åƒå˜ä¸‡åŒ–ï¼Œæ²¡æœ‰å›ºå®šæ ¼å¼ã€‚åŒæ ·çš„æ„æ€å¯ä»¥ä½¿ç”¨å¤šç§å¥å¼æ¥è¡¨è¾¾ï¼ŒåŒæ ·çš„å¥å­è°ƒæ•´ä¸€ä¸ªå­—ã€è°ƒæ•´è¯­è°ƒæˆ–è€…è°ƒæ•´è¯­åº ï¼Œ è¡¨è¾¾çš„æ„æ€å¯èƒ½ç›¸å·®ç”šå¤šã€‚ ( 2 ï¼‰ä¸æ–­æœ‰æ–°çš„è¯æ±‡å‡ºç°ï¼Œè®¡ç®—æœºéœ€è¦ä¸æ–­å­¦ä¹ æ–°çš„è¯æ±‡ã€‚ ( 3 ï¼‰åœ¨ä¸åŒçš„åœºæ™¯ ï¼ˆä¸Šä¸‹æ–‡è¯­å¢ƒï¼‰ä¸‹ï¼ŒåŒä¸€å¥è¯è¡¨è¾¾çš„æ„æ€å¯èƒ½ä¸åŒ ã€‚ èŠå¤©æœºå™¨äººç³»ç»Ÿä¸­çš„è‡ªç„¶è¯­è¨€ç†è§£æ¨¡å—çš„åŠŸèƒ½ä¸»è¦åŒ…æå®ä½“è¯†åˆ«ã€ç”¨æˆ·æ„å›¾è¯†åˆ«ã€ç”¨æˆ·æƒ…æ„Ÿè¯†åˆ«ã€æŒ‡ä»£æ¶ˆè§£ã€çœï½œå’¯æ¢å¤ã€å›å¤ç¡®è®¤åŠæ‹’è¯†åˆ¤æ–­ç­‰ã€‚ å®ä½“è¯†åˆ«åˆç§°å‘½åå®ä½“è¯†åˆ«ï¼ˆ Named Entity Recognition ï¼‰ï¼ŒæŒ‡è¯†åˆ«è‡ªç„¶è¯­è¨€ä¸­å…·æœ‰ç‰¹å®šæ„ä¹‰çš„å®ä½“ï¼Œå¦‚äººåã€æ—¶é—´ã€åœ°ååŠå„ç§ä¸“æœ‰åè¯ã€‚ ç”¨æˆ·æ„å›¾è¯†åˆ«ä¸­éœ€è¦è¯†åˆ«çš„ç”¨æˆ·æ„å›¾åŒ…æ‹¬æ˜¾å¼æ„å›¾å’Œéšå¼æ„å›¾ï¼Œæ˜¾å¼æ„å›¾é€šå¸¸å¯¹åº”ä¸€ä¸ªæ˜ç¡®çš„ç”¨æˆ·éœ€æ±‚ ï¼Œè€Œéšå¼æ„å›¾åˆ™è¾ƒéš¾åˆ¤æ–­ï¼Œè¡¨ 2-1 ä¸¾ä¾‹è¯´æ˜äº†ç”¨æˆ·çš„æ˜¾å¼æ„å›¾å’Œéšå¼æ„å›¾ã€‚ç”¨æˆ·æƒ…æ„Ÿå’Œç”¨æˆ·æ„å›¾ç±»ä¼¼ï¼Œä¹Ÿå¯ä»¥åˆ†ä¸ºæ˜¾å¼å’Œéšå¼ä¸¤ç§ï¼Œè¡¨ 2-2 æ˜¯å¯¹ç”¨æˆ·æ˜¾å¼æƒ…æ„Ÿå’Œéšå¼æƒ…æ„Ÿçš„ä¸¾ä¾‹è¯´æ˜ã€‚ æŒ‡ä»£æ¶ˆè§£å’Œçœç•¥æ¢å¤æ˜¯æŒ‡èŠå¤©ä¸»é¢˜èƒŒæ™¯ä¸€è‡´çš„æƒ…å†µä¸‹ ï¼Œäººä»¬åœ¨å¯¹è¯è¿‡ç¨‹ä¸­é€šå¸¸ä¼šä¹ æƒ¯æ€§åœ°ä½¿ç”¨ä»£è¯æŒ‡ä»£å·²ç»å‡ºç°è¿‡çš„æŸä¸ªå®ä½“æˆ–äº‹ä»¶ ï¼Œ æˆ–è€…ä¸ºäº†æ–¹ä¾¿è¡¨è¿°çœç•¥å¥å­éƒ¨åˆ†æˆåˆ†çš„æƒ…å†µã€‚ è‡ªç„¶è¯­è¨€ç†è§£æ¨¡å—éœ€è¦æ˜ç¡®ä»£è¯æŒ‡ä»£çš„æˆåˆ†åŠå¥å­ä¸­çœç•¥çš„æˆåˆ†ï¼Œå”¯æœ‰å¦‚æ­¤ï¼ŒèŠå¤©æœºå™¨äººæ‰èƒ½æ­£ç¡®ç†è§£ç”¨æˆ·çš„è¾“å…¥ï¼Œç»™å‡ºåˆä¹ä¸Šä¸‹æ–‡è¯­ä¹‰çš„å›å¤ã€‚ å½“ç”¨æˆ·æ„å›¾ã€èŠå¤©ä¿¡æ¯ç­‰å¸¦æœ‰ä¸€å®šçš„æ¨¡ç³Šæ€§æ—¶ ï¼Œ éœ€è¦èŠå¤©æœºå™¨äººä¸»åŠ¨å‘ç”¨æˆ·è¯¢é—® ï¼Œç¡®è®¤ç”¨æˆ·çš„æ„å›¾ï¼Œå³å›å¤ç¡®è®¤ã€‚ æ‹’è¯†åˆ¤æ–­æ˜¯æŒ‡èŠå¤©æœºå™¨äººç³»ç»Ÿåº”å½“å…·å¤‡ä¸€å®šçš„æ‹’è¯†èƒ½åŠ› ï¼Œ ä¸»åŠ¨æ‹’ç»è¯†åˆ«åŠå›å¤è¶…å‡ºè‡ªèº«ç†è§£ï¼å›å¤èŒƒå›´æˆ–è€…æ¶‰åŠæ•æ„Ÿè¯é¢˜çš„ç”¨æˆ·è¾“å…¥ã€‚ åŸºäºè§„åˆ™çš„æ–¹æ³•é€šå¸¸ï¼Œå¯ä»¥å°†è‡ªç„¶è¯­è¨€ç†è§£çš„ä¸»è¦æ–¹æ³•åˆ†ä¸ºåŸºäºè§„åˆ™çš„æ–¹æ³•å’ŒåŸºäºç»Ÿè®¡çš„æ–¹æ³•ä¸¤ç§ã€‚ åŸºäºè§„åˆ™çš„æ–¹æ³•æ˜¯æŒ‡åˆ©ç”¨è§„åˆ™å®šä¹‰å¦‚ä½•ä»æ–‡æœ¬ä¸­æå–è¯­ä¹‰ ï¼Œ å¤§è‡´æ€è·¯æ˜¯äººå·¥å®šä¹‰å¾ˆå¤šè¯­æ³•è§„åˆ™ï¼Œå®ƒä»¬æ˜¯è¡¨è¾¾æŸç§ç‰¹å®šè¯­ä¹‰çš„å…·ä½“æ–¹å¼ï¼Œ ç„¶åè‡ªç„¶è¯­è¨€ç†è§£æ¨¡å—æ ¹æ®è¿™äº›è§„åˆ™è§£æè¾“å…¥è¯¥æ¨¡å—çš„æ–‡æœ¬ã€‚åŸºäºè§„åˆ™çš„ è‡ªç„¶è¯­è¨€ç†è§£æ¨¡å—çš„ä¼˜ç‚¹æ˜¯çµæ´» ï¼Œå¯ä»¥å®šä¹‰å„ç§å„æ ·çš„è§„åˆ™ ï¼Œ è€Œä¸”ä¸ä¾èµ–è®­ç»ƒæ•°æ® ï¼› ç¼ºç‚¹æ˜¯éœ€è¦å¤§é‡çš„ã€è¦†ç›–ä¸åŒåœºæ™¯çš„è§„åˆ™ ï¼Œ ä¸”éšç€è§„åˆ™æ•°é‡çš„å¢é•¿ ï¼Œå¯¹è§„åˆ™è¿›è¡Œäººå·¥ç»´æŠ¤çš„éš¾åº¦ä¹Ÿä¼šå¢åŠ ã€‚å› æ­¤ï¼Œ åŸºäºè§„åˆ™çš„è‡ªç„¶è¯­è¨€ç†è§£åªé€‚åˆç”¨åœ¨ç›¸å¯¹ç®€å•çš„åœºæ™¯ï¼Œå…¶ä¼˜åŠ¿åœ¨äºå¯ä»¥å¿«é€Ÿå®ç°ä¸€ä¸ªç®€å•å¯ç”¨çš„è¯­ä¹‰ç†è§£æ¨¡å—ã€‚ åœ¨å…·ä½“å®è·µä¸­ï¼Œé€šå¸¸å°†è¿™ä¸¤ç§æ–¹æ³•ç»“åˆèµ·æ¥ä½¿ç”¨ ã€‚ ( 1 ï¼‰æ²¡æœ‰æ•°æ®åŠæ•°æ®è¾ƒå°‘æ—¶å…ˆé‡‡ç”¨åŸºäºè§„åˆ™çš„æ–¹æ³•ï¼Œå½“æ•°æ®ç§¯ç´¯åˆ° ä¸€å®šè§„æ¨¡æ—¶é€æ¸è½¬ä¸ºä½¿ç”¨åŸºäºç»Ÿè®¡çš„æ–¹æ³•ã€‚ è¯æ€§æ ‡æ³¨æœ€åˆé‡‡ç”¨çš„ä¸»è¦æ¨¡å‹æ˜¯éšé©¬å°”å¯å¤«ç”Ÿæˆå¼æ¨¡å‹ï¼Œä¹‹åé™†ç»­é‡‡ç”¨è¿‡åˆ¤åˆ«å¼çš„æœ€å¤§è„‘æ¨¡å‹ã€æ”¯æŒå‘é‡æœºæ¨¡å‹ç­‰è¿›è¡Œå°è¯•ã€‚ è¯æ€§æ ‡æ³¨çš„æ–¹æ³•ä¸»è¦åˆ†ä¸ºä¸¤ç§ ï¼š åŸºäºè§„åˆ™çš„æ–¹æ³•å’ŒåŸºäºç»Ÿè®¡æ¨¡å‹çš„æ–¹æ³•ã€‚ åŸºäºè§„åˆ™çš„è¯æ€§æ ‡æ³¨æ–¹æ³•æŒ‰ç…§å…¼ç±»è¯æ­é…å…³ç³»å’Œä¸Šä¸‹æ–‡è¯­å¢ƒå»ºé€ è¯ç±»æ¶ˆæ­§è§„åˆ™ ã€‚ å¯¹å¥å­è¿›è¡Œå¥æ³•åˆ†æéœ€è¦ç¡®å®šå¥å­çš„å¥æ³•ç»“æ„ï¼Œåˆ†æçš„ç»“æœå¾€å¾€ä»¥æ ‘ç»“æ„çš„å½¢å¼è¡¨ç°ï¼Œè¿™æ£µè¡¨ç¤ºå¥å­ç»“æ„çš„æ ‘åˆå«ä½œå¥æ³•åˆ†ææ ‘ã€‚ å¥æ³•åˆ†ææ ‘çš„å»ºç«‹å¯ä»¥é‡‡ç”¨è‡ªé¡¶å‘ä¸‹çš„æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥é‡‡ç”¨è‡ªåº•å‘ä¸Šçš„æ–¹æ³•ã€‚ æ ¹æ®å¥æ³•ç»“æ„çš„ä¸åŒè¡¨ç¤ºå½¢å¼ï¼Œå¯ä»¥å°†å¥æ³•åˆ†æä»»åŠ¡åˆ’åˆ†ä¸ºä»¥ä¸‹ 3 ç§ã€‚( 1 ï¼‰ä¾å­˜å¥æ³•åˆ†æï¼ˆ Dependency Syntactic Parsing ï¼‰ï¼Œ ä¸»è¦ä»»åŠ¡æ˜¯è¯†åˆ«å¥å­ä¸­è¯æ±‡ä¹‹é—´çš„ç›¸äº’ä¾å­˜å…³ç³»ã€‚ ( 2 ï¼‰ çŸ­è¯­ç»“æ„å¥æ³•åˆ†æï¼ˆ Phrase-structure Syntactic Parsing ï¼‰ï¼Œ ä¹Ÿç§°ä½œæˆåˆ†å¥æ³•åˆ†æï¼ˆ Constituent Syntactic Parsing ï¼‰ï¼Œä¸»è¦ä»»åŠ¡æ˜¯è¯†åˆ«å¥å­ä¸­çŸ­è¯­ç»“æ„å’ŒçŸ­è¯­ä¹‹é—´çš„å±‚æ¬¡å¥æ³•å…³ç³» ( 3 ï¼‰æ·±å±‚æ–‡æ³•å¥æ³•åˆ†æï¼Œä¸»è¦ä»»åŠ¡æ˜¯åˆ©ç”¨æ·±å±‚æ–‡æ²½ï¼Œå¯¹å¥å­è¿›è¡Œæ·±å±‚çš„å¥æ³•åŠè¯­ä¹‰åˆ†æï¼Œè¿™äº›æ·±å±‚æ–‡æ³•åŒ…æ‹¬è¯æ±‡åŒ–æ ‘é‚»æ¥æ–‡æ³•ã€è¯æ±‡åŠŸèƒ½æ–‡æ³•ã€ç»„åˆèŒƒç•´æ–‡æ³•ç­‰ã€‚ KBQAç³»ç»Ÿé—®ç­”ç³»ç»Ÿæ˜¯ä¿¡æ¯ã€æ£€ç´¢ç³»ç»Ÿçš„ä¸€ç§é«˜çº§å½¢å¼ ï¼Œ å®ƒé€šè¿‡ Web æœç´¢æˆ–é“¾æ¥çŸ¥è¯†åº“ç­‰æ–¹å¼ ï¼Œ æ£€ç´¢åˆ°ç”¨æˆ·é—®é¢˜çš„ç­”æ¡ˆï¼Œå¹¶ç”¨å‡†ç¡®ã€ç®€æ´çš„è‡ªç„¶è¯­è¨€å›ç­”ç”¨æˆ·ã€‚æœ¬ä¹¦ç¬¬ 2 ç« ç®€è¦é˜è¿°äº†é—®ç­”ç³»ç»Ÿã€å¯¹è¯ç³»ç»Ÿå’Œé—²èŠç³»ç»Ÿçš„åŒºåˆ«ä¸è”ç³»ã€‚é—®ç­”ç³»ç»Ÿæ›´æ¥è¿‘ä¿¡æ¯æ£€ç´¢ä¸­çš„è¯­ä¹‰æœç´¢ ï¼Œ é’ˆå¯¹ç”¨æˆ·ç”¨è‡ªç„¶è¯­è¨€æå‡ºçš„é—®é¢˜ï¼Œé€šè¿‡ä¸€ç³»åˆ—çš„æ–¹æ³•ç”Ÿæˆé—®é¢˜çš„ç­”æ¡ˆ ï¼Œ ä½†ä¸ä¿¡æ¯æ£€ç´¢ç³»ç»Ÿçš„ä¸åŒåœ¨äºï¼Œé—®ç­”ç³»ç»Ÿæ ¹æ®ç”¨æˆ·çš„é—®é¢˜ç›´æ¥ç»™å‡ºç²¾å‡†çš„ç­”æ¡ˆï¼Œ è€Œä¸æ˜¯ç»™å‡ºä¸€ç³»åˆ—åŒ…å«å€™é€‰ç­”æ¡ˆçš„é¡µé¢ã€‚ ç³»ç»Ÿç”Ÿæˆç­”æ¡ˆçš„è¿‡ç¨‹è™½ç„¶ä¹Ÿæ¶‰åŠç®€å•çš„ä¸Šä¸‹æ–‡å¤„ç† ï¼Œ ä½†é€šå¸¸æ˜¯é€šè¿‡æŒ‡ä»£æ¶ˆè§£å’Œå†…å®¹è¡¥å…¨å®Œæˆå¤„ç†æ“ä½œçš„ã€‚é—®ç­”ç³»ç»Ÿä¸»è¦é’ˆå¯¹ç‰¹å®šé¢†åŸŸçš„çŸ¥è¯†è¿›è¡Œä¸€é—®ä¸€ç­” ï¼Œ ä¾§é‡äºçŸ¥è¯†ç»“æ„çš„æ„å»ºã€çŸ¥è¯†çš„èåˆä¸çŸ¥è¯†çš„æ¨ç†ã€‚ é—®ç­”ç³»ç»Ÿ ( 1 ï¼‰ä»¥è‡ªç„¶è¯­è¨€ é—®é¢˜ä¸ºè¾“å…¥ï¼Œä»¥å‡†ç¡®çš„ç­”æ¡ˆä¸ºè¾“å‡º ã€‚ ( 2 ï¼‰ è®©æœºå™¨æ‰¿æ‹…æ›´å¤šæ•°æ®è§£é‡Šçš„å·¥ä½œã€‚ ( 3 ï¼‰ é—®ç­”ç³»ç»Ÿæ˜¯ä¸€ä¸ªé—®é¢˜é©±åŠ¨çš„ä¿¡æ¯è·å–è¿‡ç¨‹ï¼ˆ Query-driven Information Access ï¼‰ é—®ç­”ç³»ç»Ÿé€‚ç”¨äºç‰¹æ®Šè€Œå¤æ‚çš„ä¿¡æ¯éœ€æ±‚ï¼Œå¯ä»¥ä»å¤šæ ·åŒ–çš„ã€éç»“æ„åŒ–çš„ä¿¡æ¯ä¸­è·å–é—®é¢˜çš„ç­”æ¡ˆï¼Œå¹¶ä¸”éœ€è¦å¯¹é—®é¢˜è¿›è¡Œæ›´å¤šè‡ªåŠ¨åŒ–çš„è¯­ä¹‰ç†è§£ã€‚ ç°æœ‰çš„é—®ç­”ç³»ç»Ÿæ ¹æ®å…¶é—®é¢˜ç­”æ¡ˆçš„æ•°æ®æ¥æºå’Œå›ç­”çš„æ–¹å¼çš„ä¸åŒï¼Œ å¤§ä½“ä¸Šå¯ä»¥åˆ†ä¸ºä»¥ä¸‹ 3 ç±»ã€‚ åŸºäº Web ä¿¡æ¯æ£€ç´¢çš„é—®ç­”ç³»ç»Ÿï¼ˆ Web Question Answering , WebQA) WebQA ç³»ç»Ÿä»¥æœç´¢å¼•æ“ä¸ºæ”¯æ’‘ ï¼Œ ç†è§£åˆ†æç”¨æˆ·çš„é—®é¢˜æ„å›¾åï¼Œåˆ©ç”¨æœç´¢å¼• æ“åœ¨å…¨ç½‘èŒƒå›´å†…æœç´¢ç›¸å…³ç­”æ¡ˆåé¦ˆç»™ç”¨æˆ· ã€‚ å…¸å‹çš„ç³»ç»Ÿæœ‰æ—©æœŸçš„ Ask Jeeves å’Œ Answer Bus é—®ç­”ç³»ç»Ÿã€‚ åŸºäºçŸ¥è¯†åº“çš„é—®ç­”ç³»ç»Ÿ C Knowledge Based Question Answering, KBQA) é˜»QA ç³»ç»Ÿé€šè¿‡ç»“åˆä¸€äº›å·²æœ‰çš„çŸ¥è¯†åº“æˆ–æ•°æ®åº“èµ„æºï¼ˆä¾‹å¦‚ Freå·³baæŒã€DBpedia ã€ Yago ã€ Zhishi . me ç­‰ï¼‰ ï¼Œä»¥åŠåˆ© ç”¨å¦‚ç»´åŸºç™¾ç§‘ã€ç™¾åº¦ç™¾ç§‘ç­‰éç»“æ„åŒ–æ–‡æœ¬çš„ä¿¡æ¯ ï¼Œä½¿ç”¨ä¿¡æ¯æŠ½å–çš„æ–¹æ³•æå–æœ‰ä»·å€¼çš„ä¿¡æ¯ ï¼Œå¹¶æ„å»ºçŸ¥è¯†å›¾è°±ä½œä¸ºé—®ç­”ç³»ç»Ÿçš„åå°æ”¯æ’‘ï¼Œ å†ä¸€ç»“åˆçŸ¥è¯†æ¨ç†ç­‰æ–¹æ³•ä¸ºç”¨æˆ·æä¾›æ›´æ·±å±‚æ¬¡è¯­ä¹‰ç†è§£çš„ç­”æ¡ˆã€‚ ç¤¾åŒºé—®ç­”ç³»ç»Ÿï¼ˆ Community Question Answering, CQA) CQA ç³»ç»Ÿä¹Ÿå«åŸºäºç¤¾äº¤åª’ä½“çš„é—®ç­”ç³»ç»Ÿ ï¼Œ ä¾‹å¦‚ Yahoo! Answers ã€ç™¾åº¦çŸ¥é“ã€çŸ¥ä¹ç­‰é—®ç­”å¹³å°ã€‚å¤§å¤šæ•°é—®é¢˜çš„ç­”æ¡ˆç”±ç½‘å‹æä¾›ï¼Œé—®ç­”ç³»ç»Ÿä¼šæ£€ç´¢ç¤¾äº¤åª’ä½“ä¸­ä¸ç”¨æˆ·æé—®è¯­ä¹‰ç›¸ä¼¼çš„é—®é¢˜ï¼Œå¹¶å°†ç­”æ¡ˆè¿”å›ç»™ç”¨æˆ·ã€‚ ä¸Šè¿° 3 ç±»é—®ç­”ç³»ç»Ÿä¸­ ï¼ŒKBQA æ˜¯å½“ä¸‹åº”ç”¨æœ€å¹¿æ³›çš„ ï¼Œ è¯¥ç±»ç³»ç»Ÿä¸ä»…éœ€è¦å®ç°å¯¹å¤æ‚é—®é¢˜çš„è¯­ä¹‰ç†è§£ ï¼Œè¿˜è¦åœ¨è‹¥å¹²çŸ¥è¯†åº“ä¹‹é—´è¿›è¡ŒçŸ¥è¯†çš„èåˆï¼Œå¹¶é’ˆå¯¹å¤æ‚çš„é—®é¢˜è¿›è¡ŒçŸ¥è¯†æ¨ç†ã€‚ 3.2 èŠ‚å°†è¯¦ç»†ä»‹ç» é˜»QA ä¸­ç”¨åˆ°çš„ç›¸å…³æŠ€æœ¯ ï¼Œ 3.3 èŠ‚å°†ä»‹ç»å¦‚ä½•å®ç°ä¸€ä¸ªç®€å•çš„é—®ç­”ç³»ç»Ÿã€‚ é™¤äº†è¿™ 3 ç±»ä¸»æµé—®ç­”ç³»ç»Ÿï¼Œè¿˜æœ‰å…¶ä»–å½¢å¼çš„é—®ç­”ç³»ç»Ÿ ï¼Œä¾‹å¦‚æ··åˆå¼é—®ç­”ç³»ç»Ÿ ï¼ˆ Hybrid QA ï¼‰ã€ å¤šè¯­è¨€é—®ç­”ç³»ç»Ÿï¼ˆ Multilingual QA ï¼‰ã€åŸºäºå¸¸è§é—®é¢˜åº“çš„é—®ç­”ç³»ç»Ÿï¼ˆ Frequently Asked Question, FAQ ï¼‰ çŸ¥è¯†åº“ï¼ˆ Knowledge Base ï¼ŒKB ï¼‰æ˜¯ç”¨äºçŸ¥è¯†ç®¡ç†çš„ä¸€ç§ç‰¹æ®Šçš„æ•°æ®åº“ï¼Œç”¨äºç›¸å…³é¢†åŸŸçŸ¥è¯†çš„é‡‡é›†ã€æ•´ç†åŠæå–ã€‚ çŸ¥è¯†åº“ä¸­çš„çŸ¥è¯†æºäºé¢†åŸŸä¸“å®¶ï¼Œæ˜¯æ±‚è§£é—®é¢˜æ‰€éœ€é¢†åŸŸçŸ¥è¯†çš„é›†åˆ ï¼Œ åŒ…æ‹¬ä¸€äº›åŸºæœ¬äº‹å®ã€è§„åˆ™å’Œå…¶ä»–ç›¸å…³ä¿¡æ¯ã€‚çŸ¥è¯†åº“çš„è¡¨ç¤ºå½¢å¼æ˜¯ä¸€ä¸ªå¯¹è±¡æ¨¡å‹ï¼ˆ object model ï¼‰ï¼Œé€šå¸¸ç§°ä¸ºæœ¬ä½“ï¼ŒåŒ…å«ä¸€äº›ç±»ã€å­ç±»å’Œå®ä½“ã€‚ä¸åŒäºä¼ ç»Ÿçš„æ•°æ®åº“ ï¼Œ çŸ¥è¯†åº“ä¸­å­˜æ”¾çš„çŸ¥è¯†è•´å«ç‰¹æ®Šçš„çŸ¥è¯†è¡¨ç¤º ï¼Œå…¶ç»“æ„æ¯”æ•°æ®åº“æ›´å¤æ‚ï¼Œå¯ä»¥ç”¨æ¥å­˜æ”¾æ›´å¤šå¤æ‚è¯­ä¹‰è¡¨ç¤ºçš„æ•°æ®ã€‚ çŸ¥è¯†åº“æœ€æ—©è¢«åº”ç”¨äºä¸“å®¶ç³»ç»Ÿ ï¼Œ å®ƒæ˜¯ä¸€ç§åŸºäºçŸ¥è¯†çš„ç³»ç»Ÿï¼ŒåŒ…å«è¡¨ç¤ºå®¢è§‚ä¸–ç•Œäº‹å®çš„ä¸€ç³»åˆ—çŸ¥è¯†åŠä¸€ä¸ªæ¨ç†æœºï¼ˆ inference engine ï¼‰ï¼Œå¹¶ä¾èµ–ä¸€å®šçš„è§„åˆ™å’Œé€»è¾‘å½¢å¼æ¨ç†å‡ºä¸€äº›æ–°çš„äº‹å® KBQA æ˜¯åŸºäºçŸ¥è¯†åº“ä¸­çš„ä¸“ä¸šçŸ¥è¯†å»ºç«‹çš„é—®ç­”ç³»ç»Ÿï¼Œä¹Ÿæ˜¯ç›®å‰æœ€ä¸»æµçš„é—®ç­”ç³»ç»Ÿã€‚å¸¸è§çš„çŸ¥è¯†åº“æœ‰ Freebase ã€ DBpedia ç­‰ã€‚çŸ¥è¯†åº“ä¸€èˆ¬é‡‡ç”¨ RDF æ ¼å¼å¯¹å…¶ä¸­çš„çŸ¥è¯†è¿›è¡Œè¡¨ç¤º ï¼Œ çŸ¥è¯†çš„æŸ¥è¯¢ä¸»è¦é‡‡ç”¨ RDF æ ‡å‡†æŸ¥è¯¢è¯­è¨€ SPARQLã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€äº› ï¼ˆä¾‹å¦‚ç»´åŸºç™¾ç§‘ç­‰ ï¼‰æ— ç»“æ„åŒ–æ–‡æœ¬çŸ¥è¯†åº“ã€‚ ä½†ä¸€èˆ¬æ¥è¯´ï¼Œ KBQA ç³»ç»ŸåŒ…å«é—®å¥ç†è§£ã€ç­”æ¡ˆä¿¡æ¯æŠ½å–ã€ç­”æ¡ˆæ’åºå’Œç”Ÿæˆç­‰æ ¸å¿ƒæ¨¡å—ï¼Œ å› æ­¤ç°åœ¨ä¸»è¦æ˜¯å¯¹é—®å¥è¿›è¡Œç†è§£ï¼","categories":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/categories/work/"}],"tags":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/tags/work/"}]},{"title":"HMMä¹‹æ•°æ®çš„å¤„ç†","slug":"HMM/HMMä¹‹æ•°æ®çš„å¤„ç†","date":"2020-07-08T23:55:52.000Z","updated":"2020-07-08T23:55:52.000Z","comments":true,"path":"2020/07/09/HMM/HMMä¹‹æ•°æ®çš„å¤„ç†/","link":"","permalink":"https://esyyes.github.io/2020/07/09/HMM/HMM%E4%B9%8B%E6%95%B0%E6%8D%AE%E7%9A%84%E5%A4%84%E7%90%86/","excerpt":"","text":"HMMä¹‹æ•°æ®çš„å¤„ç†æŸ¥çœ‹æ•°æ®ç›´æ¥è¯»å–æ•°æ® æ•°æ®ç±»å‹å¦‚ä¸‹æ‰€ç¤ºï¼š i t y x1 x2 x3 x4 z1 z2 0 1 1 0 3891 116 0 0 6.0 59.0 1 1 2 0 5958 93 0 0 NaN NaN 2 1 3 0 5362 106 0 0 NaN NaN 3 1 4 0 2528 126 0 0 NaN NaN 4 1 5 1 1219 215 0 0 NaN NaN æ•°æ®çš„å«ä¹‰iå¯¹åº”çš„æ˜¯ä¸€ä¸ªäººï¼Œtè¡¨ç¤ºçš„æ˜¯ä¸€ä¸ªæ—¶æœŸä¸ºä¸€å‘¨ï¼Œx1-x4,è¡¨ç¤ºçš„æ˜¯è‡ªå˜é‡ï¼Œæ˜¯å½±å“éšé©¬å°”ç§‘å¤«æ¨¡å‹çš„è½¬ç§»æ¦‚ç‡çŸ©é˜µï¼Œz1,z2,æ˜¯æ§åˆ¶å˜é‡ï¼Œæ˜¯å¯ä»¥é•¿æœŸå½±å“ä¸€ä¸ªäººçš„æ§åˆ¶å˜é‡æ•°æ®ï¼Œæ˜¯çŠ¶æ€è½¬ç§»çŸ©é˜µçš„ä¼°è®¡é‡ã€‚ 1234567 è¡¨ 4-2 å˜é‡çš„ç»Ÿè®¡å­¦æè¿° å˜é‡å æ ·æœ¬æ•° å‡å€¼ æ ‡å‡†å·® æœ€å°å€¼ æœ€å¤§å€¼y 3108 1.119691 6.266278 0 111x1 3108 1301.892 2582.350 0 42864x2 3108 615.3838 2130.248 -58 46162x3 3108 1.071750 4.706953 0 103x4 3108 0.751609 5.057782 0 90 æ ·æœ¬å·®å¼‚è¿‡å¤§ï¼Œæ‰€ä»¥éœ€è¦è¿›è¡Œå½’ä¸€åŒ–æˆ–è€…æ ‡å‡†åŒ–å¤„ç† æ²¡æœ‰æ•°æ®ç¼ºå¤±ï¼Œå› æ­¤åªéœ€è¦è¿›è¡Œæ ‡å‡†åŒ–å³å¯ã€‚ æ•°æ®æ ‡å‡†åŒ–123456789101112131415161718\"\"\"å‡å€¼æ’è¡¥ç¼ºçœå€¼z-scoreæ ‡å‡†åŒ–\"\"\"import pandas as pdimport numpy as npfrom sklearn import preprocessingdef data_pre(data): df = data.replace([np.inf, -np.inf], np.nan) num = df.isnull().sum() [df[df.keys()[i]].fillna(value=df[df.keys()[i]].mean(), inplace=True) for i in range(len(num)) if num[i] &gt; 0] df_scale = preprocessing.scale(df) # å°†æ ‡å‡†åŒ–åçš„æ•°æ®å†è½¬æ¢ä¸ºè¡¨æ ¼ fea = pd.DataFrame(df_scale, columns=data.keys()) return fea 123456 x1 x2 x3 x40 1.002617 -0.234425 -0.227695 -0.1486041 1.803051 -0.245222 -0.227695 -0.1486042 1.572253 -0.239119 -0.227695 -0.1486043 0.474803 -0.229731 -0.227695 -0.1486044 -0.032099 -0.187952 -0.227695 -0.148604 æ•°æ®æ ‡å‡†åŒ–åç»“æœå¦‚ä¸Šå›¾æ‰€ç¤º HMMçš„çŠ¶æ€åˆ’åˆ†åœ¨ç°å®çš„æ•°æ®ä¸­ï¼ŒHMMçš„éšè—çŠ¶æ€æ˜¯æ— æ³•ç›´æ¥åˆ¤åˆ«çš„ï¼Œå› æ­¤éœ€è¦å¯¹çŠ¶æ€è¿›è¡Œåˆ¤åˆ«ã€‚ åœ¨æ¨¡å‹è®­ç»ƒä¸­æœ€é‡è¦çš„æ­¥éª¤æ˜¯è¿›è¡Œæ¨¡å‹çŠ¶æ€æ•°é‡çš„ç¡®å®šã€‚ç”±äºåœ¨å¤§å¤šæ•°å®éªŒè¿‡ç¨‹ä¸­ï¼Œå¹¶ä¸èƒ½ç›´æ¥ç¡®å®šå°†ç ”ç©¶çš„éšè—çŠ¶æ€åˆ†ä¸ºå‡ ä¸ªçŠ¶æ€æ°´å¹³è¾ƒä¸ºåˆé€‚ï¼Œå› æ­¤ï¼Œéœ€è¦é€šè¿‡å»ºç«‹å¤šä¸ªæ¨¡å‹ï¼Œæ ¹æ®è´å¶æ–¯ä¿¡æ¯å‡†åˆ™å¯¹æ¨¡å‹çš„æ‹Ÿåˆæ•ˆæœè¿›è¡Œæ¯”è¾ƒï¼Œé€‰æ‹©æœ€ä½³çš„æ¨¡å‹ä½œä¸ºå®é™…ç ”ç©¶æ¨¡å‹ã€‚ æ®ç›¸å…³ç ”ç©¶ï¼Œéœ€è¦é€šè¿‡å‡å®šä¸åŒçš„çŠ¶æ€é‡ Sï¼Œå»ºç«‹è‹¥å¹²ä¸ªæ¨¡å‹ï¼Œè®­ç»ƒæ¨¡å‹åè®¡ç®—æ¨¡å‹çš„å¯¹æ•°ä¼¼ç„¶å€¼ã€‚å†æ ¹æ®è´å¶æ–¯ä¿¡æ¯å‡†åˆ™ï¼ˆBICï¼‰çš„è®¡ç®—æ–¹æ³•ï¼Œè®¡ç®— BIC çš„å€¼ï¼Œæ¯”è¾ƒåé€‰æ‹©æ•ˆæœè¾ƒå¥½çš„æ¨¡å‹ã€‚ BIC =ln L âˆ’ kÃ— ln P / 2 BIC å€¼çš„è®¡ç®—æ–¹æ³•ï¼Œå…¶ä¸­ ln L ä»£è¡¨æ¨¡å‹çš„å¯¹æ•°ä¼¼ç„¶å€¼ï¼Œk ä»£è¡¨æ¨¡å‹çš„å˜é‡ä¸ªæ•°ï¼ŒP ä»£è¡¨æ ·æœ¬å¤§å°ã€‚BIC çš„å€¼è¶Šå¤§ï¼Œè¡¨ç¤ºæ¨¡å‹è®­ç»ƒçš„æ•ˆæœè¶Šå¥½ã€‚ å› æ­¤éœ€è¦æœ€å¤§ä¼¼ç„¶å€¼å’ŒBICè¿›è¡Œä¼°è®¡ï¼Œåˆ¤æ–­åœ¨ä»€ä¹ˆçŠ¶æ€ä¸‹çš„æ•°æ®æœ€å¥½ã€‚ 1234567891011121314æ ¹æ®æ ·æœ¬æ•°æ®ã€‚å› æ­¤ç¡®å®šé€‰æ‹©1ä¸ºé˜ˆå€¼ä¸‹å‡å€¼ä¸‹çš„ä¼¼ç„¶ä¼°è®¡å€¼ä¸ºï¼š -955.2942841591449åˆ†ç±»ä¸º2å‡å€¼ä¸‹çš„BICä¸ºï¼š -1028.7801594684208å˜é‡ï¼š121å€¼ä¸‹çš„ä¼¼ç„¶ä¼°è®¡å€¼ä¸ºï¼š -1589.5001457084938åˆ†ç±»ä¸º2é˜ˆå€¼ä¸º1ä¸‹çš„BICä¸ºï¼š-1662.9860210177699çŠ¶æ€ä¸º3æ—¶ï¼šè®¾å®š1ã€Šã€Šæ ‡å‡†å·®ä¸ºé˜ˆå€¼å˜é‡ï¼š18ä¼¼ç„¶ä¼°è®¡å€¼ä¸ºï¼š -1486.947107953313åˆ†ç±»ä¸º3æ—¶çš„BICä¸ºï¼š -1619.2216835100096çŠ¶æ€ä¸º4æ—¶ï¼šè®¾å®š1ã€Šã€Šæ ‡å‡†å·®ã€Šã€Šæ–¹å·®ä¸ºé˜ˆå€¼å˜é‡ï¼š24ä¼¼ç„¶ä¼°è®¡å€¼ä¸ºï¼š -1524.3108928288107 åˆ†ç±»ä¸º4æ—¶çš„BICä¸ºï¼š -1700.676993571073 å› æ­¤ç¡®å®š3ä¸ºçŠ¶æ€æ•° åˆå§‹çŠ¶æ€æ¦‚ç‡çŸ©é˜µç›´æ¥ç”¨åˆ’åˆ†çš„çŠ¶æ€è¿›è¡Œåˆ’åˆ†åˆå§‹çŠ¶æ€æ¦‚ç‡çŸ©é˜µ 123456å½“çŠ¶æ€ä¸º2æ—¶ï¼š[[0.7918275418275418, 0.20817245817245822]]å½“çŠ¶æ€ä¸º3æ—¶ï¼š[[0.7918275418275418, 0.3462033462033462, 0.03507078507078507]]å½“çŠ¶æ€ä¸º4æ—¶ï¼š[[0.7918275418275418, 0.3462033462033462, 0.030244530244530245, 0.004826254826254826]] åˆ¤æ–­æœ€å¤§ä¼¼ç„¶çš„æ”¶æ•›æ€§ç”¨ç™¾æ¬¡å¾ªç¯çš„ç»“æœå»å¯¹åº”æŸ¥çœ‹æ•°æ®æ˜¯å¦æ”¶æ•› 123456789101112131415fig = plt.figure(figsize=(7, 4))# è§£å†³ä¸­æ–‡æ˜¾ç¤ºé—®é¢˜plt.rcParams['font.sans-serif'] = ['Microsoft YaHei']plt.rcParams['axes.unicode_minus'] = Falseplt.plot(list_L, \"bo\", linewidth=1)plt.xlabel(\"Number of Iterations\", fontsize=10)plt.xticks(fontsize=8)plt.ylabel(\"Loglik\", fontsize=10)plt.yticks(fontsize=8)# å»è¾¹æ¡†ax = plt.gca()ax.spines['right'].set_color('none')ax.spines['top'].set_color('none')plt.show() 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306# -*- coding: utf-8 -*-# @Time : 2020/7/9# @Author : esyfrom HMM_class import *from data_preprocessing import *from LR import *# import matplotlib.pyplot as pltimport mathimport warnings# å¿½ç•¥è­¦å‘Šwarnings.filterwarnings(\"ignore\")data = pd.read_excel('data1' + '.xlsx')data.fillna(0, inplace=True)# è½¬æ¢åˆ—è¡¨list_data = np.array(data).tolist()X1 = pd.get_dummies(data.iloc[0:len(data), 3:7])X = data_pre(X1)Z = pd.get_dummies(data.iloc[0:len(data), 7:9])list_y1 = [int(list_data[i][2]) for i in range(len(data))]y1_mean = np.array(list_y1).mean()y1_std = np.array(list_y1).std()# åˆ’åˆ†ä¸ºçŠ¶æ€3# çŠ¶æ€1ï¼šå°äº1çš„# çŠ¶æ€2ï¼šå°äºæ ‡å‡†å·®# çŠ¶æ€3ï¼šå¤§äºæ ‡å‡†å·®Y_X = []num1 = 0num2 = 0num3 = 0for i in range(len(data)): if list_data[i][2] &lt; 1: Y_X.append(0) num1 += 1 elif 1 &lt;= list_data[i][2] &lt; y1_std: Y_X.append(1) num2 += 2 else: Y_X.append(2) num3 += 1Z1 = [[int(list_data[14*j][k]) for i in range(len(data)) if 14 * j == i for k in range(7, 9)] for j in range(int(len(data)/14))]Z2 = pd.DataFrame(Z1, columns=['z1', 'z2'])Z = data_pre(Z2)# å°†14ä¸ªæ—¶æœŸå–å¹³å‡å€¼list_z_y = []for i in range(int(len(data)/14)): y1 = [] for j in range(len(data)): if 14 * i &lt;= j &lt; 14 * (i + 1): y1.append(list_data[j][2]) list_z_y.append(np.array(y1).mean())Y_Z = []for i in range(len(list_z_y)): if list_z_y[i] &lt; 1: Y_Z.append(0) elif 1 &lt;= list_z_y[i] &lt; y1_std: Y_Z.append(1) else: Y_Z.append(2)# HMMæ¨¡å‹å‚æ•°è®¾ç½®HMM = HiddenMarkov()Q = [0, 1, 2]V = [0, 1, 2]B = [[0.8767222625090645, 0.12327773749093547, 0.0], [0.17063492063492064, 0.75, 0.07936507936507937], [0.0, 0.09183673469387756, 0.9081632653061223]]PI = [[num1/len(data), num2/len(data), num3/len(data)]]list_L = []list_fix_x = []list_fix_z = []list_lr_x_w = []list_lr_z_w = []list_lr_x_b = []list_lr_z_b = []list_A = []list_BIC = []list_acr_x = []list_acr_z = []for k in range(100): acr_x, fix_x, lr_x_w, lr_x_b = run_lr(X, Y_X) acr_z, fix_z, lr_z_w, lr_z_b = run_lr(Z, Y_Z) A = [[fix_x[0][0]/fix_x[0].sum(), fix_x[0][1]/fix_x[0].sum(), fix_x[0][2]/fix_x[0].sum()], [fix_x[1][0]/fix_x[1].sum(), fix_x[1][1]/fix_x[1].sum(), fix_x[1][2]/fix_x[1].sum()], [fix_x[2][0]/fix_x[2].sum(), fix_x[2][1]/fix_x[2].sum(), fix_x[2][2]/fix_x[2].sum()] ] P = [] for j in range(int(len(data)/14)): O = [] for i in range(len(data)): if 14 * j &lt;= i &lt; 14 * (j + 1): O.append(Y_X[i]) P.append(HMM.forward(Q, V, A, B, O, PI)) L = 0 for i in range(len(P)): L += math.log(P[i]) BIC = L - 18 * (math.log(3108 / 2)) # ä¿å­˜ä¼¼ç„¶å€¼ list_A.append(A) list_L.append(L) list_BIC.append(BIC) list_fix_x.append(fix_x) list_fix_z.append(fix_z) list_lr_x_w.append(lr_x_w) list_lr_z_w.append(lr_z_w) list_lr_x_b.append(lr_x_b) list_lr_z_b.append(lr_z_b) list_acr_x.append(acr_x) list_acr_z.append(acr_z)print(f'ç™¾æ¬¡å¾ªç¯åï¼Œæœ€é«˜å‡†ç¡®ç‡&#123;max(list_acr_x)&#125;')print(f'æœ€å¤§å‡†ç¡®ç‡å¯¹åº”çš„åºå·ï¼š&#123;list_acr_x.index(max(list_acr_x))&#125;')print()print(f'ç™¾æ¬¡å¾ªç¯åï¼Œä¼¼ç„¶å€¼ä¸º&#123;list_L[list_acr_x.index(max(list_acr_x))]&#125;')print(f'å¯¹åº”çš„BICä¸º&#123;list_BIC[list_acr_x.index(max(list_acr_x))]&#125;')print(f'åœ¨4ä¸ªå˜é‡ä¸‹çš„çŠ¶æ€è½¬ç§»æ¦‚ç‡çŸ©é˜µï¼š&#123;list_A[list_acr_x.index(max(list_acr_x))]&#125;')print(f'-'*20)print(f'å‚æ•°ä¼°è®¡')print(f'çŠ¶æ€è½¬ç§»æ¦‚ç‡çŸ©é˜µçš„ç³»æ•°ä¸ºï¼š&#123;list_lr_x_w[list_acr_x.index(max(list_acr_x))]&#125;')print(f'çŠ¶æ€è½¬ç§»æ¦‚ç‡çŸ©é˜µçš„åå·®ä¸ºï¼š&#123;list_lr_x_b[list_acr_x.index(max(list_acr_x))]&#125;')print(f'è§‚å¯ŸçŠ¶æ€æ¦‚ç‡è½¬ç§»çŸ©é˜µçš„ç³»æ•°ä¸ºï¼š&#123;list_lr_z_w[list_acr_x.index(max(list_acr_x))]&#125;')print(f'è§‚å¯ŸçŠ¶æ€æ¦‚ç‡è½¬ç§»çŸ©é˜µçš„åå·®ä¸ºï¼š&#123;list_lr_z_b[list_acr_x.index(max(list_acr_x))]&#125;')num = list_acr_x.index(max(list_acr_x))list_x = np.array(X).tolist()print(f'å˜é‡1ä¸‹çš„çŸ¥è¯†è´¡çŒ®æ„æ„¿è½¬ç§»æ¦‚ç‡')wx_b0 = []wx_b1 = []wx_b2 = []for i in range(len(data)): if Y_X[i] == 0: wx_b0.append(list_lr_x_w[num][0][0] * list_x[i][0] + list_lr_x_b[num][0]) elif Y_X[i] == 1: wx_b1.append(list_lr_x_w[num][1][0] * list_x[i][0] + list_lr_x_b[num][1]) else: wx_b2.append(list_lr_x_w[num][2][0] * list_x[i][0] + list_lr_x_b[num][2])# fig = plt.figure(figsize=(10, 8))# plt.plot(np.array(wx_b0), \"bo\", linewidth=1)# plt.plot(np.array(wx_b2), \"ro\", linewidth=1)# plt.plot(np.array(wx_b1), \"ko\", linewidth=1)# plt.show()# çŠ¶æ€1ä¸ªæ•°ï¼š len(wx_b0) = 2461# å°†å…¶æ’åº,çŠ¶æ€1ä¸­è®¾ç½®260ä¸ª# çŠ¶æ€2æ—¶çš„ä¸ªæ•°ï¼š 538,è®¾ç½®ä¸º80ï¼Œ 400ï¼Œ 58# çŠ¶æ€3æ—¶çš„ä¸ªæ•°ï¼š109 ï¼Œ åœ¨2ä¸­è®¾ç½®35ä¸ªH = [[(len(wx_b0) - 260)/len(wx_b0), 260/len(wx_b0), 0], [(len(wx_b1) - 458)/len(wx_b1), 400/len(wx_b1), 58/len(wx_b1)], [0, 15/len(wx_b2), 1-15/(len(wx_b2))]]print(f'&#123;H&#125;')print(f'å˜é‡2ä¸‹çš„çŸ¥è¯†è´¡çŒ®æ„æ„¿è½¬ç§»æ¦‚ç‡')wx_b20 = []wx_b21 = []wx_b22 = []for i in range(len(data)): if Y_X[i] == 0: wx_b20.append(list_lr_x_w[num][0][1] * list_x[i][1] + list_lr_x_b[num][0]) elif Y_X[i] == 1: wx_b21.append(list_lr_x_w[num][1][1] * list_x[i][1] + list_lr_x_b[num][1]) else: wx_b22.append(list_lr_x_w[num][2][1] * list_x[i][1] + list_lr_x_b[num][2])# fig = plt.figure(figsize=(10, 8))# plt.plot(np.array(wx_b20), \"bo\", linewidth=1)# plt.plot(np.array(wx_b22), \"ro\", linewidth=1)# plt.plot(np.array(wx_b21), \"ko\", linewidth=1)# plt.show()# çŠ¶æ€2ä¸ªæ•°ï¼š len(wx_b0) = 2461# å°†å…¶æ’åº, çŠ¶æ€1ä¸­è®¾ç½®260ä¸ª# çŠ¶æ€2æ—¶çš„ä¸ªæ•°ï¼š 538,è®¾ç½®ä¸º80ï¼Œ 400ï¼Œ 58# çŠ¶æ€3æ—¶çš„ä¸ªæ•°ï¼š109 ï¼Œ åœ¨2ä¸­è®¾ç½®35ä¸ªH2 = [[(len(wx_b20) - 360)/len(wx_b20), 360/len(wx_b20), 0], [(len(wx_b21) - 500)/len(wx_b21), 450/len(wx_b21), 50/len(wx_b21)], [0, 16/len(wx_b22), 1-16/(len(wx_b22))]]print(f'&#123;H2&#125;')print(f'å˜é‡3ä¸‹çš„çŸ¥è¯†è´¡çŒ®æ„æ„¿è½¬ç§»æ¦‚ç‡')wx_b30 = []wx_b31 = []wx_b32 = []for i in range(len(data)): if Y_X[i] == 0: wx_b30.append(list_lr_x_w[num][0][2] * list_x[i][2] + list_lr_x_b[num][0]) elif Y_X[i] == 1: wx_b31.append(list_lr_x_w[num][1][2] * list_x[i][2] + list_lr_x_b[num][1]) else: wx_b32.append(list_lr_x_w[num][2][2] * list_x[i][2] + list_lr_x_b[num][2])# fig = plt.figure(figsize=(10, 8))# plt.plot(np.array(wx_b30), \"bo\", linewidth=1)# plt.plot(np.array(wx_b32), \"ro\", linewidth=1)# plt.plot(np.array(wx_b31), \"ko\", linewidth=1)# plt.show()# çŠ¶æ€2ä¸ªæ•°ï¼š len(wx_b0) = 2461# å°†å…¶æ’åº, çŠ¶æ€1ä¸­è®¾ç½®260ä¸ª# çŠ¶æ€2æ—¶çš„ä¸ªæ•°ï¼š 538,è®¾ç½®ä¸º80ï¼Œ 400ï¼Œ 58# çŠ¶æ€3æ—¶çš„ä¸ªæ•°ï¼š109 ï¼Œ åœ¨2ä¸­è®¾ç½®35ä¸ªH3 = [[(len(wx_b30) - 361)/len(wx_b30), 361/len(wx_b30), 0], [(len(wx_b31) - 501)/len(wx_b31), 451/len(wx_b31), 50/len(wx_b31)], [0, 12/len(wx_b32), 1-12/(len(wx_b32))]]print(f'&#123;H3&#125;')print(f'å˜é‡4ä¸‹çš„çŸ¥è¯†è´¡çŒ®æ„æ„¿è½¬ç§»æ¦‚ç‡')wx_b40 = []wx_b41 = []wx_b42 = []for i in range(len(data)): if Y_X[i] == 0: wx_b40.append(list_lr_x_w[num][0][3] * list_x[i][3] + list_lr_x_b[num][0]) elif Y_X[i] == 1: wx_b41.append(list_lr_x_w[num][1][3] * list_x[i][3] + list_lr_x_b[num][1]) else: wx_b42.append(list_lr_x_w[num][2][3] * list_x[i][3] + list_lr_x_b[num][2])# fig = plt.figure(figsize=(10, 8))# plt.plot(np.array(wx_b40), \"bo\", linewidth=1)# plt.plot(np.array(wx_b42), \"ro\", linewidth=1)# plt.plot(np.array(wx_b41), \"ko\", linewidth=1)# plt.show()# çŠ¶æ€2ä¸ªæ•°ï¼š len(wx_b0) = 2461# å°†å…¶æ’åº, çŠ¶æ€1ä¸­è®¾ç½®260ä¸ª# çŠ¶æ€2æ—¶çš„ä¸ªæ•°ï¼š 538,è®¾ç½®ä¸º80ï¼Œ 400ï¼Œ 58# çŠ¶æ€3æ—¶çš„ä¸ªæ•°ï¼š109 ï¼Œ åœ¨2ä¸­è®¾ç½®35ä¸ªH4 = [[(len(wx_b40) - 361)/len(wx_b40), 361/len(wx_b40), 0], [(len(wx_b41) - 501)/len(wx_b41), 451/len(wx_b41), 50/len(wx_b41)], [0, 12/len(wx_b42), 1-12/(len(wx_b42))]]print(f'&#123;H4&#125;')# å…¨éƒ¨æ•°å€¼ä¸‹print(f'å…¨éƒ¨å˜é‡ä¸‹çš„çŸ¥è¯†è´¡çŒ®æ„æ„¿è½¬ç§»æ¦‚ç‡')wx_ba0 = []wx_ba1 = []wx_ba2 = []for i in range(len(data)): if Y_X[i] == 0: wx_ba0.append(list_lr_x_w[num][0][0] * list_x[i][0] + list_lr_x_w[num][0][1] * list_x[i][1] + list_lr_x_w[num][0][2] * list_x[i][2] + list_lr_x_w[num][0][3] * list_x[i][3] + list_lr_x_b[num][0]) elif Y_X[i] == 1: wx_ba1.append(list_lr_x_w[num][1][0] * list_x[i][0] + list_lr_x_w[num][1][1] * list_x[i][1] + list_lr_x_w[num][1][2] * list_x[i][2] + list_lr_x_w[num][1][3] * list_x[i][3] + list_lr_x_b[num][1]) else: wx_ba2.append(list_lr_x_w[num][2][0] * list_x[i][0] + list_lr_x_w[num][2][1] * list_x[i][1] + list_lr_x_w[num][2][2] * list_x[i][2] + list_lr_x_w[num][2][3] * list_x[i][3] + list_lr_x_b[num][2])# è¿›è¡Œæ’åºwx_ba0.sort()wx_ba1.sort()wx_ba2.sort()# æ‰¾åˆ°è¾¹ç•Œ,æ„æ€å°±æ˜¯æ‰¾åˆ°ç›¸å¯¹åº”çš„u1,u2-1,u2-h,u-3# æˆ‘æ˜¯è¿™æ ·ç†è§£çš„ï¼Œå…¶å®å¯¹åº”çš„å°±æ˜¯x_bçš„ç³»æ•°ï¼Œä½†æ˜¯å°‘äº†ä¸€ä¸ªè€Œå·²b = list_fix_x[num][0][1]/sum(list_fix_x[num][0])x = len(wx_ba0) * b# å³æ ¹æ®å‰é¢é‚£ä¸ª# å–å€’æ•°ç¬¬16ä¸ªä½œä¸ºè¾¹ç•Œå§u1 = wx_b0[-16]b1 = list_fix_x[num][1][0]/sum(list_fix_x[num][1])x1 = len(wx_ba1) * b1u2_1 = wx_ba1[int(x1)]b2 = list_fix_x[num][1][2]/sum(list_fix_x[num][1])x2 = len(wx_ba1) * b2u2_h = wx_ba1[-int(x2)]b3 = list_fix_x[num][2][2]/sum(list_fix_x[num][2])x4 = len(wx_b2) * b3u3 = wx_ba2[-int(x4)]print(f'u1=&#123;u1&#125;,u2_1=&#123;u2_1&#125;,u2_h=&#123;u2_h&#125;, u3=&#123;u3&#125;')print(f'çŠ¶æ€è½¬ç§»æ¦‚ç‡çŸ©é˜µçš„ç³»æ•°ä¸ºï¼š&#123;list_lr_x_w[list_acr_x.index(max(list_acr_x))]&#125;')print(f'è§‚å¯ŸçŠ¶æ€æ¦‚ç‡è½¬ç§»çŸ©é˜µçš„ç³»æ•°ä¸ºï¼š&#123;list_lr_z_w[list_acr_x.index(max(list_acr_x))]&#125;')print(f'è§‚å¯ŸçŠ¶æ€æ¦‚ç‡è½¬ç§»çŸ©é˜µçš„æˆªè·ä¸ºï¼š&#123;list_lr_z_b[list_acr_x.index(max(list_acr_x))]&#125;')print(f'æ‰€æœ‰å‚æ•°å’ŒçŸ©é˜µè¡¨æ ¼å¦‚ä¸Š') 12345678910111213141516171819202122232425262728293031323334ç™¾æ¬¡å¾ªç¯åï¼Œæœ€é«˜å‡†ç¡®ç‡0.917470525187567æœ€å¤§å‡†ç¡®ç‡å¯¹åº”çš„åºå·ï¼š29ç™¾æ¬¡å¾ªç¯åï¼Œä¼¼ç„¶å€¼ä¸º-1355.7570132278736å¯¹åº”çš„BICä¸º-1488.0315887845702åœ¨4ä¸ªå˜é‡ä¸‹çš„çŠ¶æ€è½¬ç§»æ¦‚ç‡çŸ©é˜µï¼š[[0.9868073878627969, 0.013192612137203167, 0.0], [0.40816326530612246, 0.5782312925170068, 0.013605442176870748], [0.0, 0.17857142857142858, 0.8214285714285714]]--------------------å‚æ•°ä¼°è®¡çŠ¶æ€è½¬ç§»æ¦‚ç‡çŸ©é˜µçš„ç³»æ•°ä¸ºï¼š[[-0.07814258 -0.08035225 -0.03518065 -8.30153077] [-0.07992528 0.07019997 -0.02918073 2.04945495] [ 0.15806786 0.01015228 0.06436137 6.25207582]]çŠ¶æ€è½¬ç§»æ¦‚ç‡çŸ©é˜µçš„åå·®ä¸ºï¼š[ 1.46433444 1.09085289 -2.55518733]è§‚å¯ŸçŠ¶æ€æ¦‚ç‡è½¬ç§»çŸ©é˜µçš„ç³»æ•°ä¸ºï¼š[[ 0.44462513 0.22701876] [ 0.48690629 -0.33289007] [-0.93153142 0.10587131]]è§‚å¯ŸçŠ¶æ€æ¦‚ç‡è½¬ç§»çŸ©é˜µçš„åå·®ä¸ºï¼š[ 2.26772789 -0.16557564 -2.10215226]å˜é‡1ä¸‹çš„çŸ¥è¯†è´¡çŒ®æ„æ„¿è½¬ç§»æ¦‚ç‡[[0.8943518894758228, 0.10564811052417716, 0], [0.14869888475836432, 0.7434944237918215, 0.10780669144981413], [0, 0.13761467889908258, 0.8623853211009174]]å˜é‡2ä¸‹çš„çŸ¥è¯†è´¡çŒ®æ„æ„¿è½¬ç§»æ¦‚ç‡[[0.8537180008126778, 0.14628199918732224, 0], [0.07063197026022305, 0.8364312267657993, 0.09293680297397769], [0, 0.14678899082568808, 0.8532110091743119]]å˜é‡3ä¸‹çš„çŸ¥è¯†è´¡çŒ®æ„æ„¿è½¬ç§»æ¦‚ç‡[[0.8533116619260463, 0.14668833807395368, 0], [0.0687732342007435, 0.8382899628252788, 0.09293680297397769], [0, 0.11009174311926606, 0.8899082568807339]]å˜é‡4ä¸‹çš„çŸ¥è¯†è´¡çŒ®æ„æ„¿è½¬ç§»æ¦‚ç‡[[0.8533116619260463, 0.14668833807395368, 0], [0.0687732342007435, 0.8382899628252788, 0.09293680297397769], [0, 0.11009174311926606, 0.8899082568807339]]å…¨éƒ¨å˜é‡ä¸‹çš„çŸ¥è¯†è´¡çŒ®æ„æ„¿è½¬ç§»æ¦‚ç‡u1=1.4980410992089837,u2_1=0.8129063006054411,u2_h=2.8303668243942806, u3=2.68524912411076çŠ¶æ€è½¬ç§»æ¦‚ç‡çŸ©é˜µçš„ç³»æ•°ä¸ºï¼š[[-0.07814258 -0.08035225 -0.03518065 -8.30153077] [-0.07992528 0.07019997 -0.02918073 2.04945495] [ 0.15806786 0.01015228 0.06436137 6.25207582]]è§‚å¯ŸçŠ¶æ€æ¦‚ç‡è½¬ç§»çŸ©é˜µçš„ç³»æ•°ä¸ºï¼š[[ 0.44462513 0.22701876] [ 0.48690629 -0.33289007] [-0.93153142 0.10587131]]è§‚å¯ŸçŠ¶æ€æ¦‚ç‡è½¬ç§»çŸ©é˜µçš„æˆªè·ä¸ºï¼š[ 2.26772789 -0.16557564 -2.10215226]æ‰€æœ‰å‚æ•°å’ŒçŸ©é˜µè¡¨æ ¼å¦‚ä¸Š","categories":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/categories/work/"}],"tags":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/tags/work/"}]},{"title":"çŠ¶æ€ä¸º3æ—¶çš„è®¾å®š","slug":"HMM/çŠ¶æ€ä¸º3æ—¶çš„è®¾å®š","date":"2020-07-08T06:45:11.000Z","updated":"2020-07-08T06:45:11.000Z","comments":true,"path":"2020/07/08/HMM/çŠ¶æ€ä¸º3æ—¶çš„è®¾å®š/","link":"","permalink":"https://esyyes.github.io/2020/07/08/HMM/%E7%8A%B6%E6%80%81%E4%B8%BA3%E6%97%B6%E7%9A%84%E8%AE%BE%E5%AE%9A/","excerpt":"","text":"çŠ¶æ€ä¸º3æ˜¯çš„Bå€¼è®¾å®šåˆ’åˆ†ä¸ºçŠ¶æ€3# çŠ¶æ€1ï¼šå°äºå¹³å‡å€¼çš„# çŠ¶æ€2ï¼šå°äºæ ‡å‡†å·®# çŠ¶æ€3ï¼šå¤§äºæ ‡å‡†å·® å°†é‡Œé¢çš„æ•°æ®ç›´æ¥åˆ’åˆ†ä¸º3ä¸ªçŠ¶æ€ï¼ŒæŒ‰ç…§3ä¸ªçŠ¶æ€çš„åŒºé—´èŒƒå›´ï¼Œå»è®¾å®šåºåˆ—çš„çŠ¶æ€å€¼ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120# -*- coding: utf-8 -*-# @Time : 2020/7/8# @Author : esyimport pandas as pdimport numpy as npimport warnings# å¿½ç•¥è­¦å‘Šwarnings.filterwarnings(\"ignore\")data = pd.read_excel('data1' + '.xlsx')data.fillna(0, inplace=True)list_data = np.array(data).tolist()X = pd.get_dummies(data.iloc[0:len(data), 3:7])list_y1 = [int(list_data[i][2]) for i in range(len(data))]y1_mean = np.array(list_y1).mean()y1_std = np.array(list_y1).std()# åˆ’åˆ†ä¸ºçŠ¶æ€3# çŠ¶æ€1ï¼šå°äºå¹³å‡å€¼çš„# çŠ¶æ€2ï¼šå°äºæ ‡å‡†å·®# çŠ¶æ€3ï¼šå¤§äºæ ‡å‡†å·®# åºåˆ—ä¸­å‡ºç°0,1,2é˜¶æ®µçš„æ•°ç›®Y_X = []num1 = 0num2 = 0num3 = 0for i in range(len(data)): if list_data[i][2] &lt; 1: Y_X.append(0) num1 += 1 elif 1 &lt;= list_data[i][2] &lt; y1_std: Y_X.append(1) num2 += 2 else: Y_X.append(2) num3 += 1print(f'é˜¶æ®µ1çš„ä¸ªæ•°ï¼š&#123;num1&#125;,é˜¶æ®µ2çš„ä¸ªæ•°ï¼š&#123;num2&#125;,é˜¶æ®µ3çš„ä¸ªæ•°ï¼š&#123;num3&#125;')# å°†14ä¸ªæ—¶æœŸå–å¹³å‡å€¼list_z_y = []for i in range(int(len(data)/14)): y1 = [] for j in range(len(data)): if 14 * i &lt;= j &lt; 14 * (i + 1): y1.append(list_data[j][2]) list_z_y.append(np.array(y1).mean())# åˆ¤æ–­åºåˆ—é˜¶æ®µå‡ºç°å‡ºç°çš„æ¬¡æ•°num1_z = 0num2_z = 0num3_z = 0Y_Z = []for i in range(len(list_z_y)): if list_z_y[i] &lt; 1: Y_Z.append(0) num1_z += 1 elif 1 &lt;= list_z_y[i] &lt; y1_std: Y_Z.append(1) num2_z += 1 else: Y_Z.append(2) num3_z += 1print(f'é˜¶æ®µ1çš„åºåˆ—ä¸ªæ•°ï¼š&#123;num1_z&#125;,é˜¶æ®µ2çš„åºåˆ—ä¸ªæ•°ï¼š&#123;num2_z&#125;, é˜¶æ®µ3çš„åºåˆ—ä¸ªæ•°ï¼š&#123;num3_z&#125;')# å°†å…¶åˆ’åˆ†ä¸º14ä¸ªä¸€ç»„ä¸€ä¸ªåºåˆ—Y = []for j in range(int(len(data)/14)): x1 = [] for i in range(len(data)): if 14 * j &lt;= i &lt; 14 * (j + 1): x1.append(Y_X[i]) Y.append(x1)# åˆ¤æ–­é˜¶æ®µ1ä¸­å‡ºç°012çš„æ¬¡æ•°num_j1 = 0num_j2 = 0num_j3 = 0num_k1 = 0num_k2 = 0num_k3 = 0num_b1 = 0num_b2 = 0num_b3 = 0for i in range(len(Y_Z)): if Y_Z[i] == 0: for j in range(14): if Y[i][j] == 0: num_j1 += 1 elif Y[i][j] == 1: num_j2 += 1 else: num_j3 += 1 elif Y_Z[i] == 1: for k in range(14): if Y[i][k] == 0: num_k1 += 1 elif Y[i][k] == 1: num_k2 += 1 else: num_k3 += 1 elif Y_Z[i] == 2: for b in range(14): if Y[i][b] == 0: num_b1 += 1 elif Y[i][b] == 1: num_b2 += 1 else: num_b3 += 1print(f'é˜¶æ®µ1ä¸­çŠ¶æ€1çš„ä¸ªæ•° &#123;num_j1&#125;ï¼ŒçŠ¶æ€2çš„ä¸ªæ•°&#123;num_j2&#125;ï¼ŒçŠ¶æ€2çš„ä¸ªæ•°&#123;num_j3&#125;')print(f'é˜¶æ®µ2ä¸­çŠ¶æ€1çš„ä¸ªæ•° &#123;num_k1&#125;ï¼Œ çŠ¶æ€2çš„ä¸ªæ•° &#123;num_k2&#125;ï¼ŒçŠ¶æ€2çš„ä¸ªæ•°&#123;num_k3&#125;')print(f'é˜¶æ®µ3ä¸­çŠ¶æ€1çš„ä¸ªæ•° &#123;num_b1&#125;ï¼Œ çŠ¶æ€2çš„ä¸ªæ•° &#123;num_b2&#125;ï¼ŒçŠ¶æ€2çš„ä¸ªæ•°&#123;num_b3&#125;')B = [[num_j1/num1_z/14, num_j2/num1_z/14, num_j3/num1_z/14], [num_k1/num2_z/14, num_k2/num2_z/14, num_k3/num2_z/14], [num_b1/num3_z/14, num_b2/num3_z/14, num_b3/num3_z/14]]print(f'åœ¨é˜ˆå€¼çº¿ä¸ºå¹³å‡å€¼ä¸‹çš„&#123;B&#125;') 123456é˜¶æ®µ1çš„ä¸ªæ•°ï¼š2461,é˜¶æ®µ2çš„ä¸ªæ•°ï¼š1076,é˜¶æ®µ3çš„ä¸ªæ•°ï¼š109é˜¶æ®µ1çš„åºåˆ—ä¸ªæ•°ï¼š197,é˜¶æ®µ2çš„åºåˆ—ä¸ªæ•°ï¼š18, é˜¶æ®µ3çš„åºåˆ—ä¸ªæ•°ï¼š7é˜¶æ®µ1ä¸­çŠ¶æ€1çš„ä¸ªæ•° 2418ï¼ŒçŠ¶æ€2çš„ä¸ªæ•°340ï¼ŒçŠ¶æ€2çš„ä¸ªæ•°0é˜¶æ®µ2ä¸­çŠ¶æ€1çš„ä¸ªæ•° 43ï¼Œ çŠ¶æ€2çš„ä¸ªæ•° 189ï¼ŒçŠ¶æ€2çš„ä¸ªæ•°20é˜¶æ®µ3ä¸­çŠ¶æ€1çš„ä¸ªæ•° 0ï¼Œ çŠ¶æ€2çš„ä¸ªæ•° 9ï¼ŒçŠ¶æ€2çš„ä¸ªæ•°89åœ¨é˜ˆå€¼çº¿ä¸ºå¹³å‡å€¼ä¸‹çš„[[0.8767222625090645, 0.12327773749093547, 0.0], [0.17063492063492064, 0.75, 0.07936507936507937], [0.0, 0.09183673469387756, 0.9081632653061223]] å°†æ•°æ®è®¾å®šä¸º4çŠ¶æ€æ—¶ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161# -*- coding: utf-8 -*-# @Time : 2020/7/8# @Author : esyimport pandas as pdimport numpy as npimport warnings# å¿½ç•¥è­¦å‘Šwarnings.filterwarnings(\"ignore\")data = pd.read_excel('data1' + '.xlsx')data.fillna(0, inplace=True)list_data = np.array(data).tolist()X = pd.get_dummies(data.iloc[0:len(data), 3:7])list_y1 = [int(list_data[i][2]) for i in range(len(data))]y1_mean = np.array(list_y1).mean()y1_std = np.array(list_y1).std()# åˆ’åˆ†ä¸ºçŠ¶æ€4# # çŠ¶æ€1ï¼šå°äºå¹³å‡å€¼çš„# # çŠ¶æ€2ï¼šå°äºæ ‡å‡†å·®# # çŠ¶æ€3ï¼šå°äºæ–¹å·®çš„# # çŠ¶æ€4ï¼šå¤§äºæ–¹å·®çš„# åºåˆ—ä¸­å‡ºç°0,1,2é˜¶æ®µçš„æ•°ç›®Y_X = []num1 = 0num2 = 0num3 = 0num4 = 0for i in range(len(data)): if list_data[i][2] &lt; 1: Y_X.append(0) num1 += 1 elif 1 &lt;= list_data[i][2] &lt; y1_std: Y_X.append(1) num2 += 2 elif y1_std &lt;= list_data[i][2] &lt; y1_std*y1_std: Y_X.append(2) num3 += 1 else: Y_X.append(3) num4 += 1print(f'é˜¶æ®µ1çš„ä¸ªæ•°ï¼š&#123;num1&#125;,é˜¶æ®µ2çš„ä¸ªæ•°ï¼š&#123;num2&#125;, é˜¶æ®µ3çš„ä¸ªæ•°ï¼š&#123;num3&#125;, é˜¶æ®µ4çš„ä¸ªæ•°ï¼š&#123;num4&#125;')# å°†14ä¸ªæ—¶æœŸå–å¹³å‡å€¼list_z_y = []for i in range(int(len(data)/14)): y1 = [] for j in range(len(data)): if 14 * i &lt;= j &lt; 14 * (i + 1): y1.append(list_data[j][2]) list_z_y.append(np.array(y1).mean())# åˆ¤æ–­åºåˆ—é˜¶æ®µå‡ºç°å‡ºç°çš„æ¬¡æ•°num1_z = 0num2_z = 0num3_z = 0num4_z = 0Y_Z = []for i in range(len(list_z_y)): if list_z_y[i] &lt; 1: Y_Z.append(0) num1_z += 1 elif 1 &lt;= list_z_y[i] &lt; y1_std: Y_Z.append(1) num2_z += 1 elif y1_std &lt;= list_z_y[i] &lt; y1_std * y1_std: Y_Z.append(2) num3_z += 1 else: Y_Z.append(3) num4_z += 1print(f'é˜¶æ®µ1çš„åºåˆ—ä¸ªæ•°ï¼š&#123;num1_z&#125;,é˜¶æ®µ2çš„åºåˆ—ä¸ªæ•°ï¼š&#123;num2_z&#125;, é˜¶æ®µ3çš„åºåˆ—ä¸ªæ•°ï¼š&#123;num3_z&#125;, é˜¶æ®µ4çš„åºåˆ—ä¸ªæ•°ï¼š&#123;num4_z&#125;')# å°†å…¶åˆ’åˆ†ä¸º14ä¸ªä¸€ç»„ä¸€ä¸ªåºåˆ—Y = []for j in range(int(len(data)/14)): x1 = [] for i in range(len(data)): if 14 * j &lt;= i &lt; 14 * (j + 1): x1.append(Y_X[i]) Y.append(x1)# åˆ¤æ–­é˜¶æ®µ1ä¸­å‡ºç°012çš„æ¬¡æ•°num_j1 = 0num_j2 = 0num_j3 = 0num_j4 = 0num_k1 = 0num_k2 = 0num_k3 = 0num_k4 = 0num_b1 = 0num_b2 = 0num_b3 = 0num_b4 = 0num_h1 = 0num_h2 = 0num_h3 = 0num_h4 = 0for i in range(len(Y_Z)): if Y_Z[i] == 0: for j in range(14): if Y[i][j] == 0: num_j1 += 1 elif Y[i][j] == 1: num_j2 += 1 elif Y[i][j] == 2: num_j3 += 1 else: num_j4 += 1 elif Y_Z[i] == 1: for k in range(14): if Y[i][k] == 0: num_k1 += 1 elif Y[i][k] == 1: num_k2 += 1 elif Y[i][k] == 2: num_k3 += 1 else: num_k4 += 1 elif Y_Z[i] == 2: for b in range(14): if Y[i][b] == 0: num_b1 += 1 elif Y[i][b] == 1: num_b2 += 1 elif Y[i][b] == 2: num_b3 += 1 else: num_b4 += 1 elif Y_Z[i] == 3: for h in range(14): if Y[i][h] == 0: num_h1 += 1 elif Y[i][h] == 1: num_h2 += 1 elif Y[i][h] == 2: num_h3 += 1 else: num_h4 += 1print(f'é˜¶æ®µ1ä¸­çŠ¶æ€1çš„ä¸ªæ•° &#123;num_j1&#125;ï¼ŒçŠ¶æ€2çš„ä¸ªæ•°&#123;num_j2&#125;ï¼ŒçŠ¶æ€3çš„ä¸ªæ•°&#123;num_j3&#125;, çŠ¶æ€4çš„ä¸ªæ•°&#123;num_j4&#125;')print(f'é˜¶æ®µ2ä¸­çŠ¶æ€1çš„ä¸ªæ•° &#123;num_k1&#125;ï¼ŒçŠ¶æ€2çš„ä¸ªæ•° &#123;num_k2&#125;ï¼ŒçŠ¶æ€3çš„ä¸ªæ•°&#123;num_k3&#125;, çŠ¶æ€4çš„ä¸ªæ•°&#123;num_k4&#125;')print(f'é˜¶æ®µ3ä¸­çŠ¶æ€1çš„ä¸ªæ•° &#123;num_b1&#125;ï¼ŒçŠ¶æ€2çš„ä¸ªæ•° &#123;num_b2&#125;ï¼ŒçŠ¶æ€3çš„ä¸ªæ•°&#123;num_b3&#125;, çŠ¶æ€4çš„ä¸ªæ•°&#123;num_b4&#125;')print(f'é˜¶æ®µ4ä¸­çŠ¶æ€1çš„ä¸ªæ•° &#123;num_h1&#125;ï¼ŒçŠ¶æ€2çš„ä¸ªæ•° &#123;num_h2&#125;ï¼ŒçŠ¶æ€3çš„ä¸ªæ•°&#123;num_h3&#125;, çŠ¶æ€4çš„ä¸ªæ•°&#123;num_h4&#125;')B = [[num_j1/num1_z/14, num_j2/num1_z/14, num_j3/num1_z/14, num_j4/num1_z/14,], [num_k1/num2_z/14, num_k2/num2_z/14, num_k3/num2_z/14, num_k4/num2_z/14], [num_b1/num3_z/14, num_b2/num3_z/14, num_b3/num3_z/14, num_b4/num3_z/14], [num_h1/num4_z/14, num_h2/num4_z/14, num_h3/num4_z/14, num_h4/num4_z/14] ]print(f'åœ¨é˜ˆå€¼çº¿ä¸ºå¹³å‡å€¼ä¸‹çš„&#123;B&#125;') 1234567é˜¶æ®µ1çš„ä¸ªæ•°ï¼š2461,é˜¶æ®µ2çš„ä¸ªæ•°ï¼š1076, é˜¶æ®µ3çš„ä¸ªæ•°ï¼š94, é˜¶æ®µ4çš„ä¸ªæ•°ï¼š15é˜¶æ®µ1çš„åºåˆ—ä¸ªæ•°ï¼š197,é˜¶æ®µ2çš„åºåˆ—ä¸ªæ•°ï¼š18, é˜¶æ®µ3çš„åºåˆ—ä¸ªæ•°ï¼š6, é˜¶æ®µ4çš„åºåˆ—ä¸ªæ•°ï¼š1é˜¶æ®µ1ä¸­çŠ¶æ€1çš„ä¸ªæ•° 2418ï¼ŒçŠ¶æ€2çš„ä¸ªæ•°340ï¼ŒçŠ¶æ€3çš„ä¸ªæ•°0, çŠ¶æ€4çš„ä¸ªæ•°0é˜¶æ®µ2ä¸­çŠ¶æ€1çš„ä¸ªæ•° 43ï¼ŒçŠ¶æ€2çš„ä¸ªæ•° 189ï¼ŒçŠ¶æ€3çš„ä¸ªæ•°20, çŠ¶æ€4çš„ä¸ªæ•°0é˜¶æ®µ3ä¸­çŠ¶æ€1çš„ä¸ªæ•° 0ï¼ŒçŠ¶æ€2çš„ä¸ªæ•° 9ï¼ŒçŠ¶æ€3çš„ä¸ªæ•°74, çŠ¶æ€4çš„ä¸ªæ•°1é˜¶æ®µ4ä¸­çŠ¶æ€1çš„ä¸ªæ•° 0ï¼ŒçŠ¶æ€2çš„ä¸ªæ•° 0ï¼ŒçŠ¶æ€3çš„ä¸ªæ•°0, çŠ¶æ€4çš„ä¸ªæ•°14åœ¨é˜ˆå€¼çº¿ä¸ºå¹³å‡å€¼ä¸‹çš„[[0.8767222625090645, 0.12327773749093547, 0.0, 0.0], [0.17063492063492064, 0.75, 0.07936507936507937, 0.0], [0.0, 0.10714285714285714, 0.880952380952381, 0.011904761904761904], [0.0, 0.0, 0.0, 1.0]] å› æ­¤ç°åœ¨B2ï¼š 123456789B_2 = [[0.78535170413343, 0.21464829586656997], [0.8428571428571429, 0.15714285714285714]]B_3 = [[0.8767222625090645, 0.12327773749093547, 0.0], [0.17063492063492064, 0.75, 0.07936507936507937], [0.0, 0.09183673469387756, 0.9081632653061223]]B_4 = [[0.8767222625090645, 0.12327773749093547, 0.0, 0.0], [0.17063492063492064, 0.75, 0.07936507936507937, 0.0], [0.0, 0.10714285714285714, 0.880952380952381, 0.011904761904761904], [0.0, 0.0, 0.0, 1.0]]","categories":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/categories/work/"}],"tags":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/tags/work/"}]},{"title":"HMMä¸­çš„Bå€¼ç¡®å®š","slug":"HMM/HMMä¸­çš„Bå€¼ç¡®å®š","date":"2020-07-08T06:12:45.000Z","updated":"2020-07-08T06:12:45.000Z","comments":true,"path":"2020/07/08/HMM/HMMä¸­çš„Bå€¼ç¡®å®š/","link":"","permalink":"https://esyyes.github.io/2020/07/08/HMM/HMM%E4%B8%AD%E7%9A%84B%E5%80%BC%E7%A1%AE%E5%AE%9A/","excerpt":"","text":"HMMä¸­çš„Bå€¼ç¡®å®š1ï¼éšé©¬å°”å¯å¤«æ¨¡å‹æ˜¯å…³äºæ—¶åºçš„æ¦‚ç‡æ¨¡å‹ï¼Œæè¿°ç”±ä¸€ä¸ªéšè—çš„é©¬å°”å¯å¤«é“¾éšæœºç”Ÿæˆä¸å¯è§‚æµ‹çš„çŠ¶æ€çš„åºåˆ—ï¼Œå†ç”±å„ä¸ªçŠ¶æ€éšæœºç”Ÿæˆä¸€ä¸ªè§‚æµ‹è€Œäº§ç”Ÿè§‚æµ‹çš„åºåˆ—çš„è¿‡ç¨‹ã€‚ éšé©¬å°”å¯å¤«æ¨¡å‹ç”±åˆå§‹çŠ¶æ€æ¦‚ç‡å‘$\\pi$ã€çŠ¶æ€è½¬ç§»æ¦‚ç‡çŸ©é˜µ$A$å’Œè§‚æµ‹æ¦‚ç‡çŸ©é˜µ$B$å†³å®šã€‚å› æ­¤ï¼Œéšé©¬å°”å¯å¤«æ¨¡å‹å¯ä»¥å†™æˆ$\\lambda=(A, B, \\pi)$ã€‚ éšé©¬å°”å¯å¤«æ¨¡å‹æ˜¯ä¸€ä¸ªç”Ÿæˆæ¨¡å‹ï¼Œè¡¨ç¤ºçŠ¶æ€åºåˆ—å’Œè§‚æµ‹åºåˆ—çš„è”åˆåˆ†å¸ƒï¼Œä½†æ˜¯çŠ¶æ€åºåˆ—æ˜¯éšè—çš„ï¼Œä¸å¯è§‚æµ‹çš„ã€‚ éšé©¬å°”å¯å¤«æ¨¡å‹å¯ä»¥ç”¨äºæ ‡æ³¨ï¼Œè¿™æ—¶çŠ¶æ€å¯¹åº”ç€æ ‡è®°ã€‚æ ‡æ³¨é—®é¢˜æ˜¯ç»™å®šè§‚æµ‹åºåˆ—é¢„æµ‹å…¶å¯¹åº”çš„æ ‡è®°åºåˆ—ã€‚ 2ï¼æ¦‚ç‡è®¡ç®—é—®é¢˜ã€‚ç»™å®šæ¨¡å‹$\\lambda=(A, B, \\pi)$å’Œè§‚æµ‹åºåˆ—$Oï¼(o_1ï¼Œo_2,â€¦,o_T)$ï¼Œè®¡ç®—åœ¨æ¨¡å‹$\\lambda$ä¸‹è§‚æµ‹åºåˆ—$O$å‡ºç°çš„æ¦‚ç‡$P(O|\\lambda)$ã€‚å‰å‘-åå‘ç®—æ³•æ˜¯é€šè¿‡é€’æ¨åœ°è®¡ç®—å‰å‘-åå‘æ¦‚ç‡å¯ä»¥é«˜æ•ˆåœ°è¿›è¡Œéšé©¬å°”å¯å¤«æ¨¡å‹çš„æ¦‚ç‡è®¡ç®—ã€‚ 3ï¼å­¦ä¹ é—®é¢˜ã€‚å·²çŸ¥è§‚æµ‹åºåˆ—$Oï¼(o_1ï¼Œo_2,â€¦,o_T)$ï¼Œä¼°è®¡æ¨¡å‹$\\lambda=(A, B, \\pi)$å‚æ•°ï¼Œä½¿å¾—åœ¨è¯¥æ¨¡å‹ä¸‹è§‚æµ‹åºåˆ—æ¦‚ç‡$P(O|\\lambda)$æœ€å¤§ã€‚å³ç”¨æå¤§ä¼¼ç„¶ä¼°è®¡çš„æ–¹æ³•ä¼°è®¡å‚æ•°ã€‚Baum-Welchç®—æ³•ï¼Œä¹Ÿå°±æ˜¯EMç®—æ³•å¯ä»¥é«˜æ•ˆåœ°å¯¹éšé©¬å°”å¯å¤«æ¨¡å‹è¿›è¡Œè®­ç»ƒã€‚å®ƒæ˜¯ä¸€ç§éç›‘ç£å­¦ä¹ ç®—æ³•ã€‚ 4ï¼é¢„æµ‹é—®é¢˜ã€‚å·²çŸ¥æ¨¡å‹$\\lambda=(A, B, \\pi)$å’Œè§‚æµ‹åºåˆ—$Oï¼(o_1ï¼Œo_2,â€¦,o_T)$ï¼Œæ±‚å¯¹ç»™å®šè§‚æµ‹åºåˆ—æ¡ä»¶æ¦‚ç‡$P(I|O)$æœ€å¤§çš„çŠ¶æ€åºåˆ—$Iï¼(i_1ï¼Œi_2,â€¦,i_T)$ã€‚ç»´ç‰¹æ¯”ç®—æ³•åº”ç”¨åŠ¨æ€è§„åˆ’é«˜æ•ˆåœ°æ±‚è§£æœ€ä¼˜è·¯å¾„ï¼Œå³æ¦‚ç‡æœ€å¤§çš„çŠ¶æ€åºåˆ—ã€‚ åœ¨æœ¬æ¬¡å®éªŒä¸­ï¼ŒHMMæ¨¡å‹ï¼Œä¸»è¦ç¡®å®šäº†QVAOPIï¼Œè€Œç›´æ¥ç”¨é€»è¾‘å›å½’æ¨¡å‹ï¼Œè¿›è¡Œå»ºæ¨¡è¿ç®—æ—¶ï¼ŒBå€¼çš„çŠ¶æ€æ¦‚ç‡ä¼šå‡ºç°100è¿™ç§æƒ…å†µï¼Œå¯¼è‡´HMMçš„ä¼¼ç„¶å‡½æ•°çš„æ¦‚ç‡ä¸ä¼šæ”¹å˜ array([[846, 0, 0], [ 60, 0, 0], [ 27, 0, 0]], dtype=int64) å‚è€ƒ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107import numpy as npclass HiddenMarkov: def forward(self, Q, V, A, B, O, PI): # ä½¿ç”¨å‰å‘ç®—æ³• N = len(Q) #å¯èƒ½å­˜åœ¨çš„çŠ¶æ€æ•°é‡ M = len(O) # è§‚æµ‹åºåˆ—çš„å¤§å° alphas = np.zeros((N, M)) # alphaå€¼ T = M # æœ‰å‡ ä¸ªæ—¶åˆ»ï¼Œæœ‰å‡ ä¸ªè§‚æµ‹åºåˆ—ï¼Œå°±æœ‰å‡ ä¸ªæ—¶åˆ» for t in range(T): # éå†æ¯ä¸€æ—¶åˆ»ï¼Œç®—å‡ºalphaå€¼ indexOfO = V.index(O[t]) # æ‰¾å‡ºåºåˆ—å¯¹åº”çš„ç´¢å¼• for i in range(N): if t == 0: # è®¡ç®—åˆå€¼ alphas[i][t] = PI[t][i] * B[i][indexOfO] # P176ï¼ˆ10.15ï¼‰ print( 'alpha1(%d)=p%db%db(o1)=%f' % (i, i, i, alphas[i][t])) else: alphas[i][t] = np.dot( [alpha[t - 1] for alpha in alphas], [a[i] for a in A]) * B[i][indexOfO] # å¯¹åº”P176ï¼ˆ10.16ï¼‰ print('alpha%d(%d)=[sigma alpha%d(i)ai%d]b%d(o%d)=%f' % (t, i, t - 1, i, i, t, alphas[i][t])) # print(alphas) P = np.sum([alpha[M - 1] for alpha in alphas]) # P176(10.17) # alpha11 = pi[0][0] * B[0][0] #ä»£è¡¨a1(1) # alpha12 = pi[0][1] * B[1][0] #ä»£è¡¨a1(2) # alpha13 = pi[0][2] * B[2][0] #ä»£è¡¨a1(3) def backward(self, Q, V, A, B, O, PI): # åå‘ç®—æ³• N = len(Q) # å¯èƒ½å­˜åœ¨çš„çŠ¶æ€æ•°é‡ M = len(O) # è§‚æµ‹åºåˆ—çš„å¤§å° betas = np.ones((N, M)) # beta for i in range(N): print('beta%d(%d)=1' % (M, i)) for t in range(M - 2, -1, -1): indexOfO = V.index(O[t + 1]) # æ‰¾å‡ºåºåˆ—å¯¹åº”çš„ç´¢å¼• for i in range(N): betas[i][t] = np.dot( np.multiply(A[i], [b[indexOfO] for b in B]), [beta[t + 1] for beta in betas]) realT = t + 1 realI = i + 1 print( 'beta%d(%d)=[sigma a%djbj(o%d)]beta%d(j)=(' % (realT, realI, realI, realT + 1, realT + 1), end='') for j in range(N): print( \"%.2f*%.2f*%.2f+\" % (A[i][j], B[j][indexOfO], betas[j][t + 1]), end='') print(\"0)=%.3f\" % betas[i][t]) # print(betas) indexOfO = V.index(O[0]) P = np.dot( np.multiply(PI, [b[indexOfO] for b in B]), [beta[0] for beta in betas]) print(\"P(O|lambda)=\", end=\"\") for i in range(N): print( \"%.1f*%.1f*%.5f+\" % (PI[0][i], B[i][indexOfO], betas[i][0]), end=\"\") print(\"0=%f\" % P) def viterbi(self, Q, V, A, B, O, PI): N = len(Q) #å¯èƒ½å­˜åœ¨çš„çŠ¶æ€æ•°é‡ M = len(O) # è§‚æµ‹åºåˆ—çš„å¤§å° deltas = np.zeros((N, M)) psis = np.zeros((N, M)) I = np.zeros((1, M)) for t in range(M): realT = t + 1 indexOfO = V.index(O[t]) # æ‰¾å‡ºåºåˆ—å¯¹åº”çš„ç´¢å¼• for i in range(N): realI = i + 1 if t == 0: deltas[i][t] = PI[0][i] * B[i][indexOfO] psis[i][t] = 0 print('delta1(%d)=pi%d * b%d(o1)=%.2f * %.2f=%.2f' % (realI, realI, realI, PI[0][i], B[i][indexOfO], deltas[i][t])) print('psis1(%d)=0' % (realI)) else: deltas[i][t] = np.max( np.multiply([delta[t - 1] for delta in deltas], [a[i] for a in A])) * B[i][indexOfO] print( 'delta%d(%d)=max[delta%d(j)aj%d]b%d(o%d)=%.2f*%.2f=%.5f' % (realT, realI, realT - 1, realI, realI, realT, np.max( np.multiply([delta[t - 1] for delta in deltas], [a[i] for a in A])), B[i][indexOfO], deltas[i][t])) psis[i][t] = np.argmax( np.multiply( [delta[t - 1] for delta in deltas], [a[i] for a in A])) + 1 #ç”±äºå…¶è¿”å›çš„æ˜¯ç´¢å¼•ï¼Œå› æ­¤åº”+1æ‰èƒ½å’Œæ­£å¸¸çš„ä¸‹æ ‡å€¼ç›¸ç¬¦åˆã€‚ print('psis%d(%d)=argmax[delta%d(j)aj%d]=%d' % (realT, realI, realT - 1, realI, psis[i][t])) print(deltas) print(psis) I[0][M - 1] = np.argmax([delta[M - 1] for delta in deltas ]) + 1 #ç”±äºå…¶è¿”å›çš„æ˜¯ç´¢å¼•ï¼Œå› æ­¤åº”+1æ‰èƒ½å’Œæ­£å¸¸çš„ä¸‹æ ‡å€¼ç›¸ç¬¦åˆã€‚ print('i%d=argmax[deltaT(i)]=%d' % (M, I[0][M - 1])) for t in range(M - 2, -1, -1): I[0][t] = psis[int(I[0][t + 1]) - 1][t + 1] print('i%d=psis%d(i%d)=%d' % (t + 1, t + 2, t + 2, I[0][t])) print(\"çŠ¶æ€åºåˆ—Iï¼š\", I) 123456789101112Q = [1, 2, 3]V = ['çº¢', 'ç™½']A = [[0.5, 0.2, 0.3], [0.3, 0.5, 0.2], [0.2, 0.3, 0.5]]B = [[0.5, 0.5], [0.4, 0.6], [0.7, 0.3]]O = ['çº¢', 'ç™½', 'çº¢', 'çº¢', 'ç™½', 'çº¢', 'ç™½', 'ç™½']PI = [[0.2, 0.3, 0.5]]HMM = HiddenMarkov()# HMM.forward(Q, V, A, B, O, PI)# HMM.backward(Q, V, A, B, O, PI)HMM.viterbi(Q, V, A, B, O, PI)HMM.forward(Q, V, A, B, O, PI)HMM.backward(Q, V, A, B, O, PI) 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768# -*- coding: utf-8 -*-# @Time : 2020/7/8# @Author : esyimport pandas as pdimport numpy as npimport warnings# å¿½ç•¥è­¦å‘Šwarnings.filterwarnings(\"ignore\")data = pd.read_excel('data1' + '.xlsx')data.fillna(0, inplace=True)list_data = np.array(data).tolist()X = pd.get_dummies(data.iloc[0:len(data), 3:7])list_y1 = [int(list_data[i][2]) for i in range(len(data))]y1_mean = np.array(list_y1).mean()# ç”¨å‡å€¼ä½œä¸ºçŠ¶æ€çš„åˆ’åˆ†Y_X = [0 if list_data[i][2] &lt; y1_mean else 1 for i in range(len(data))]# åºåˆ—é˜¶æ®µçš„åˆ’åˆ†# å°†14ä¸ªæ—¶æœŸå–å¹³å‡å€¼list_z_y = []for i in range(int(len(data)/14)): y1 = [] for j in range(len(data)): if 14 * i &lt;= j &lt; 14 * (i + 1): y1.append(list_data[j][2]) list_z_y.append(np.array(y1).mean())# 14ä¸ªå€¼çš„å¹³å‡å€¼å°äº1å³ä¸º0# è¿˜æ˜¯ç”¨å‡å€¼ä½œä¸ºçŠ¶æ€çš„åˆ’åˆ†Y_Z = [0 if list_z_y[i] &lt; y1_mean else 1 for i in range(len(list_z_y))]num = 0for i in range(len(Y_Z)): if Y_Z[i] == 1: num += 1print(f'æ€»æ•°ç›®ï¼š&#123;len(Y_Z)&#125;, é˜¶æ®µ0çš„æ•°ç›®&#123;len(Y_Z) - num&#125;, é˜¶æ®µ1çš„æ•°ç›®&#123;num&#125;')num_1 = 0for i in range(len(data)): if Y_X[i] == 1: num_1 += 1print(f'åºåˆ—ä¸­å‡ºç°1é˜¶æ®µçš„æ¬¡æ•°&#123;num_1&#125;')Y = []for j in range(int(len(data)/14)): x1 = [] for i in range(len(data)): if 14 * j &lt;= i &lt; 14 * (j + 1): x1.append(int(list_data[i][2])) Y.append(x1)# è®¡ç®—1çŠ¶æ€æ—¶ï¼Œå‡ºç°1çš„æ¦‚ç‡num_2 = 0for i in range(len(Y_Z)): if Y_Z[i] == 1: for j in range(14): if Y[i][j] == 1: num_2 += 1print(f'çŠ¶æ€1ä¸­å‡ºç°1çš„æ¬¡æ•°&#123;num_2&#125;')print(f'é˜¶æ®µ1ä¸­å‡ºç°1çš„æ¦‚ç‡&#123;num_2/(num*14)&#125;')B = [[1 - (num_1 - num_2) / ((len(Y_Z) - num) * 14), (num_1 - num_2) / ((len(Y_Z) - num) * 14)], [1 - num_2 / (num * 14), num_2 / (num * 14)]]print(f'åœ¨é˜ˆå€¼çº¿ä¸ºå¹³å‡å€¼ä¸‹çš„' f'&#123;B&#125;') åˆ©ç”¨å¹³å‡å€¼ä½œä¸ºé˜ˆå€¼æ—¶çš„Bå€¼ï¼š 123[[0.9118926758520667, 0.08810732414793329], [0.8428571428571429, 0.15714285714285714]] åˆ©ç”¨1ä½œä¸ºé˜ˆå€¼æ—¶çš„Bå€¼ä¸ºï¼š 123456Y_X = [0 if list_data[i][2] &lt; 1 else 1 for i in range(len(data))]Y_Z = [0 if list_z_y[i] &lt; 1 else 1 for i in range(len(list_z_y))][[0.78535170413343, 0.21464829586656997], [0.8428571428571429, 0.15714285 714285714]] æ¯”è¾ƒä¸‹æœ€å¤§ä¼¼ç„¶å€¼ å‡å€¼ä¸‹çš„ç»“æœ 12345678910åˆå§‹æ¦‚ç‡çŸ©é˜µ[[0.9041184041184042, 0.09588159588159584]]çŠ¶æ€è½¬ç§»æ¦‚ç‡çŸ©é˜µï¼š[[0.9964114832535885, 0.0035885167464114833], [0.26804123711340205, 0.7319587628865979]]å‡å€¼ä¸‹çš„ä¼¼ç„¶ä¼°è®¡å€¼ä¸ºï¼š -955.2942841591449åˆ†ç±»ä¸º2å‡å€¼ä¸‹çš„BICä¸ºï¼š-1028.7801594684208--------------------å‚æ•°ä¼°è®¡çŠ¶æ€è½¬ç§»æ¦‚ç‡çŸ©é˜µçš„ç³»æ•°ä¸ºï¼š[[ 1.29445779e-05 5.27657348e-06 -2.44868582e-02 3.68198497e+00]]çŠ¶æ€è½¬ç§»æ¦‚ç‡çŸ©é˜µçš„åå·®ä¸ºï¼š[-4.52277323]è§‚å¯ŸçŠ¶æ€æ¦‚ç‡è½¬ç§»çŸ©é˜µçš„ç³»æ•°ä¸ºï¼š[[ 0.00304877 -0.00165371]]è§‚å¯ŸçŠ¶æ€æ¦‚ç‡è½¬ç§»çŸ©é˜µçš„åå·®ä¸ºï¼š[-2.00454762] 1å€¼ä¸‹çš„ç»“æœ 12345678910åˆå§‹æ¦‚ç‡çŸ©é˜µ[[0.7918275418275418, 0.20817245817245822]]çŠ¶æ€è½¬ç§»æ¦‚ç‡çŸ©é˜µï¼š[[0.984869325997249, 0.015130674002751032], [0.4029126213592233, 0.5970873786407767]]1å€¼ä¸‹çš„ä¼¼ç„¶ä¼°è®¡å€¼ä¸ºï¼š -1589.5001457084938åˆ†ç±»ä¸º2é˜ˆå€¼ä¸º1ä¸‹çš„BICä¸ºï¼š-1662.9860210177699--------------------å‚æ•°ä¼°è®¡çŠ¶æ€è½¬ç§»æ¦‚ç‡çŸ©é˜µçš„ç³»æ•°ä¸ºï¼š[[ 3.54342024e-05 6.64259922e-05 -4.34313674e-03 3.76444931e+00]]çŠ¶æ€è½¬ç§»æ¦‚ç‡çŸ©é˜µçš„åå·®ä¸ºï¼š[-2.26616719]è§‚å¯ŸçŠ¶æ€æ¦‚ç‡è½¬ç§»çŸ©é˜µçš„ç³»æ•°ä¸ºï¼š[[-0.02040833 -0.00606398]]è§‚å¯ŸçŠ¶æ€æ¦‚ç‡è½¬ç§»çŸ©é˜µçš„åå·®ä¸ºï¼š[-1.81251543] ä¸»è¦è¿˜æ˜¯æ ¹æ®é˜ˆå€¼çº¿ï¼Œæ¥è¿›è¡Œåˆ¤å®šï¼ŒBICè¿™äº›å€¼çš„å¤§å°","categories":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/categories/work/"}],"tags":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/tags/work/"}]},{"title":"HMMæ¨¡å‹çš„å­¦ä¹ ","slug":"HMM/HMMæ¨¡å‹çš„å­¦ä¹ ","date":"2020-07-04T06:33:33.000Z","updated":"2020-07-04T06:33:33.000Z","comments":true,"path":"2020/07/04/HMM/HMMæ¨¡å‹çš„å­¦ä¹ /","link":"","permalink":"https://esyyes.github.io/2020/07/04/HMM/HMM%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%AD%A6%E4%B9%A0/","excerpt":"","text":"HMMæ¨¡å‹é©¬å°”ç§‘å¤«æ¨¡å‹ é©¬å°”å¯å¤«æ¨¡å‹ï¼ˆMarkov Modelï¼‰æ˜¯ä¸€ç§ç»Ÿè®¡æ¨¡å‹ï¼Œå¹¿æ³›åº”ç”¨åœ¨è¯­éŸ³è¯†åˆ«ï¼Œè¯æ€§è‡ªåŠ¨æ ‡æ³¨ï¼ŒéŸ³å­—è½¬æ¢ï¼Œæ¦‚ç‡æ–‡æ³•ç­‰å„ä¸ªè‡ªç„¶è¯­è¨€å¤„ç†ç­‰åº”ç”¨é¢†åŸŸã€‚ç»è¿‡é•¿æœŸå‘å±•ï¼Œå°¤å…¶æ˜¯åœ¨è¯­éŸ³è¯†åˆ«ä¸­çš„æˆåŠŸåº”ç”¨ï¼Œä½¿å®ƒæˆä¸ºä¸€ç§é€šç”¨çš„ç»Ÿè®¡å·¥å…·ã€‚ https://baike.baidu.com/item/%E9%A9%AC%E5%B0%94%E5%8F%AF%E5%A4%AB%E6%A8%A1%E5%9E%8B/4017874?fromtitle=%E9%A9%AC%E5%B0%94%E7%A7%91%E5%A4%AB%E6%A8%A1%E5%9E%8B&amp;fromid=11231643&amp;fr=aladdin åœ¨ç»™å®šå½“å‰åªæ˜¯æˆ–ä¿¡æ¯çš„æƒ…å†µä¸‹ï¼Œè¿‡å»ï¼ˆå³å½“å‰ä»¥å‰çš„å†å²çŠ¶æ€ï¼‰ï¼Œå¯¹äºé¢„æµ‹å°†æ¥ï¼ˆå³å½“å‰ä»¥åçš„æœªæ¥çŠ¶æ€ï¼‰æ˜¯æ— å…³çš„ æ¯ä¸ªçŠ¶æ€çš„è½¬ç§»åªä¾èµ–ä¸ä¹‹å‰çš„nä¸ªçŠ¶æ€ï¼Œè¿™ä¸ªè¿‡ç¨‹è¢«ç§°ä¸º1ä¸ªné˜¶çš„æ¨¡å‹ï¼Œå…¶ä¸­næ˜¯å½±å“è½¬ç§»çŠ¶æ€çš„æ•°ç›®ã€‚æœ€ç®€å•çš„é©¬å°”ç§‘å¤«è¿‡ç¨‹æ˜¯ä¸€é˜¶è¿‡ç¨‹ï¼Œç”¨æ•°å­¦è¡¨è¾¾å¼è¡¨ç¤ºå°±æ˜¯ä¸‹é¢çš„å½¢å¼ï¼š HMMæ¨¡å‹ éšé©¬å°”å¯å¤«æ¨¡å‹ï¼ˆHidden Markov Modelï¼ŒHMMï¼‰æ˜¯ç»Ÿè®¡æ¨¡å‹ï¼Œå®ƒç”¨æ¥æè¿°ä¸€ä¸ªå«æœ‰éšå«æœªçŸ¥å‚æ•°çš„é©¬å°”å¯å¤«è¿‡ç¨‹ã€‚å…¶éš¾ç‚¹æ˜¯ä»å¯è§‚å¯Ÿçš„å‚æ•°ä¸­ç¡®å®šè¯¥è¿‡ç¨‹çš„éšå«å‚æ•°ã€‚ç„¶ååˆ©ç”¨è¿™äº›å‚æ•°æ¥ä½œè¿›ä¸€æ­¥çš„åˆ†æï¼Œä¾‹å¦‚æ¨¡å¼è¯†åˆ«ã€‚ https://www.cnblogs.com/fulcra/p/11065474.html å‡è®¾æˆ‘æ‰‹é‡Œæœ‰ä¸‰ä¸ªä¸åŒçš„éª°å­ã€‚ç¬¬ä¸€ä¸ªéª°å­æ˜¯æˆ‘ä»¬å¹³å¸¸è§çš„éª°å­ï¼ˆç§°è¿™ä¸ªéª°å­ä¸ºD6ï¼‰ï¼Œ6ä¸ªé¢ï¼Œæ¯ä¸ªé¢ï¼ˆ1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5ï¼Œ6ï¼‰å‡ºç°çš„æ¦‚ç‡æ˜¯1/6ã€‚ç¬¬äºŒä¸ªéª°å­æ˜¯ä¸ªå››é¢ä½“ï¼ˆç§°è¿™ä¸ªéª°å­ä¸ºD4ï¼‰ï¼Œæ¯ä¸ªé¢ï¼ˆ1ï¼Œ2ï¼Œ3ï¼Œ4ï¼‰å‡ºç°çš„æ¦‚ç‡æ˜¯1/4ã€‚ç¬¬ä¸‰ä¸ªéª°å­æœ‰å…«ä¸ªé¢ï¼ˆç§°è¿™ä¸ªéª°å­ä¸ºD8ï¼‰ï¼Œæ¯ä¸ªé¢ï¼ˆ1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5ï¼Œ6ï¼Œ7ï¼Œ8ï¼‰å‡ºç°çš„æ¦‚ç‡æ˜¯1/8ã€‚ https://www.bilibili.com/video/BV1DK411W7jJ å‡è®¾æˆ‘ä»¬å¼€å§‹æ·éª°å­ï¼Œæˆ‘ä»¬å…ˆä»ä¸‰ä¸ªéª°å­é‡ŒæŒ‘ä¸€ä¸ªï¼ŒæŒ‘åˆ°æ¯ä¸€ä¸ªéª°å­çš„æ¦‚ç‡éƒ½æ˜¯1/3ã€‚ç„¶åæˆ‘ä»¬æ·éª°å­ï¼Œå¾—åˆ°ä¸€ä¸ªæ•°å­—ï¼Œ1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5ï¼Œ6ï¼Œ7ï¼Œ8ä¸­çš„ä¸€ä¸ªã€‚ä¸åœçš„é‡å¤ä¸Šè¿°è¿‡ç¨‹ï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°ä¸€ä¸²æ•°å­—ï¼Œæ¯ä¸ªæ•°å­—éƒ½æ˜¯1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5ï¼Œ6ï¼Œ7ï¼Œ8ä¸­çš„ä¸€ä¸ªã€‚ä¾‹å¦‚æˆ‘ä»¬å¯èƒ½å¾—åˆ°è¿™ä¹ˆä¸€ä¸²æ•°å­—ï¼ˆæ·éª°å­10æ¬¡ï¼‰ï¼š1 6 3 5 2 7 3 5 2 4 è¿™ä¸²æ•°å­—å«åšå¯è§çŠ¶æ€é“¾ã€‚ä½†æ˜¯åœ¨éšé©¬å°”å¯å¤«æ¨¡å‹ä¸­ï¼Œæˆ‘ä»¬ä¸ä»…ä»…æœ‰è¿™ä¹ˆä¸€ä¸²å¯è§çŠ¶æ€é“¾ï¼Œè¿˜æœ‰ä¸€ä¸²éšå«çŠ¶æ€é“¾ã€‚åœ¨è¿™ä¸ªä¾‹å­é‡Œï¼Œè¿™ä¸²éšå«çŠ¶æ€é“¾å°±æ˜¯ä½ ç”¨çš„éª°å­çš„åºåˆ—ã€‚æ¯”å¦‚ï¼Œéšå«çŠ¶æ€é“¾æœ‰å¯èƒ½æ˜¯ï¼šD6 D8 D8 D6 D4 D8 D6 D6 D4 D8 ä¸€èˆ¬æ¥è¯´ï¼ŒHMMä¸­è¯´åˆ°çš„é©¬å°”å¯å¤«é“¾å…¶å®æ˜¯æŒ‡éšå«çŠ¶æ€é“¾ï¼Œå› ä¸ºéšå«çŠ¶æ€ï¼ˆéª°å­ï¼‰ä¹‹é—´å­˜åœ¨è½¬æ¢æ¦‚ç‡ï¼ˆtransition probabilityï¼‰ã€‚åœ¨æˆ‘ä»¬è¿™ä¸ªä¾‹å­é‡Œï¼ŒD6çš„ä¸‹ä¸€ä¸ªçŠ¶æ€æ˜¯D4ï¼ŒD6ï¼ŒD8çš„æ¦‚ç‡éƒ½æ˜¯1/3ã€‚D4ï¼ŒD8çš„ä¸‹ä¸€ä¸ªçŠ¶æ€æ˜¯D4ï¼ŒD6ï¼ŒD8çš„è½¬æ¢æ¦‚ç‡ä¹Ÿéƒ½ä¸€æ ·æ˜¯1/3ã€‚è¿™æ ·è®¾å®šæ˜¯ä¸ºäº†æœ€å¼€å§‹å®¹æ˜“è¯´æ¸…æ¥šï¼Œä½†æ˜¯æˆ‘ä»¬å…¶å®æ˜¯å¯ä»¥éšæ„è®¾å®šè½¬æ¢æ¦‚ç‡çš„ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·å®šä¹‰ï¼ŒD6åé¢ä¸èƒ½æ¥D4ï¼ŒD6åé¢æ˜¯D6çš„æ¦‚ç‡æ˜¯0.9ï¼Œæ˜¯D8çš„æ¦‚ç‡æ˜¯0.1ã€‚è¿™æ ·å°±æ˜¯ä¸€ä¸ªæ–°çš„HMMã€‚ åŒæ ·çš„ï¼Œå°½ç®¡å¯è§çŠ¶æ€ä¹‹é—´æ²¡æœ‰è½¬æ¢æ¦‚ç‡ï¼Œä½†æ˜¯éšå«çŠ¶æ€å’Œå¯è§çŠ¶æ€ä¹‹é—´æœ‰ä¸€ä¸ªæ¦‚ç‡å«åšè¾“å‡ºæ¦‚ç‡ï¼ˆemission probabilityï¼‰ã€‚å°±æˆ‘ä»¬çš„ä¾‹å­æ¥è¯´ï¼Œå…­é¢éª°ï¼ˆD6ï¼‰äº§ç”Ÿ1çš„è¾“å‡ºæ¦‚ç‡æ˜¯1/6ã€‚äº§ç”Ÿ2ï¼Œ3ï¼Œ4ï¼Œ5ï¼Œ6çš„æ¦‚ç‡ä¹Ÿéƒ½æ˜¯1/6ã€‚æˆ‘ä»¬åŒæ ·å¯ä»¥å¯¹è¾“å‡ºæ¦‚ç‡è¿›è¡Œå…¶ä»–å®šä¹‰ã€‚æ¯”å¦‚ï¼Œæˆ‘æœ‰ä¸€ä¸ªè¢«èµŒåœºåŠ¨è¿‡æ‰‹è„šçš„å…­é¢éª°å­ï¼Œæ·å‡ºæ¥æ˜¯1çš„æ¦‚ç‡æ›´å¤§ï¼Œæ˜¯1/2ï¼Œæ·å‡ºæ¥æ˜¯2ï¼Œ3ï¼Œ4ï¼Œ5ï¼Œ6çš„æ¦‚ç‡æ˜¯1/10ã€‚ å›åˆ°æ­£é¢˜ï¼Œå’ŒHMMæ¨¡å‹ç›¸å…³çš„ç®—æ³•ä¸»è¦åˆ†ä¸ºä¸‰ç±»ï¼Œåˆ†åˆ«è§£å†³ä¸‰ç§é—®é¢˜ï¼š 1ï¼‰çŸ¥é“éª°å­æœ‰å‡ ç§ï¼ˆéšå«çŠ¶æ€æ•°é‡ï¼‰ï¼Œæ¯ç§éª°å­æ˜¯ä»€ä¹ˆï¼ˆè½¬æ¢æ¦‚ç‡ï¼‰ï¼Œæ ¹æ®æ·éª°å­æ·å‡ºçš„ç»“æœï¼ˆå¯è§çŠ¶æ€é“¾ï¼‰ï¼Œæˆ‘æƒ³çŸ¥é“æ¯æ¬¡æ·å‡ºæ¥çš„éƒ½æ˜¯å“ªç§éª°å­ï¼ˆéšå«çŠ¶æ€é“¾ï¼‰ã€‚ è¿™ä¸ªé—®é¢˜å‘¢ï¼Œåœ¨è¯­éŸ³è¯†åˆ«é¢†åŸŸå‘¢ï¼Œå«åšè§£ç é—®é¢˜ã€‚è¿™ä¸ªé—®é¢˜å…¶å®æœ‰ä¸¤ç§è§£æ³•ï¼Œä¼šç»™å‡ºä¸¤ä¸ªä¸åŒçš„ç­”æ¡ˆã€‚æ¯ä¸ªç­”æ¡ˆéƒ½å¯¹ï¼Œåªä¸è¿‡è¿™äº›ç­”æ¡ˆçš„æ„ä¹‰ä¸ä¸€æ ·ã€‚ç¬¬ä¸€ç§è§£æ³•æ±‚æœ€å¤§ä¼¼ç„¶çŠ¶æ€è·¯å¾„ï¼Œè¯´é€šä¿—ç‚¹å‘¢ï¼Œå°±æ˜¯æˆ‘æ±‚ä¸€ä¸²éª°å­åºåˆ—ï¼Œè¿™ä¸²éª°å­åºåˆ—äº§ç”Ÿè§‚æµ‹ç»“æœçš„æ¦‚ç‡æœ€å¤§ã€‚ç¬¬äºŒç§è§£æ³•å‘¢ï¼Œå°±ä¸æ˜¯æ±‚ä¸€ç»„éª°å­åºåˆ—äº†ï¼Œè€Œæ˜¯æ±‚æ¯æ¬¡æ·å‡ºçš„éª°å­åˆ†åˆ«æ˜¯æŸç§éª°å­çš„æ¦‚ç‡ã€‚æ¯”å¦‚è¯´æˆ‘çœ‹åˆ°ç»“æœåï¼Œæˆ‘å¯ä»¥æ±‚å¾—ç¬¬ä¸€æ¬¡æ·éª°å­æ˜¯D4çš„æ¦‚ç‡æ˜¯0.5ï¼ŒD6çš„æ¦‚ç‡æ˜¯0.3ï¼ŒD8çš„æ¦‚ç‡æ˜¯0.2.ç¬¬ä¸€ç§è§£æ³•æˆ‘ä¼šåœ¨ä¸‹é¢è¯´åˆ°ï¼Œä½†æ˜¯ç¬¬äºŒç§è§£æ³•æˆ‘å°±ä¸å†™åœ¨è¿™é‡Œäº†ï¼Œå¦‚æœå¤§å®¶æœ‰å…´è¶£ï¼Œæˆ‘ä»¬å¦å¼€ä¸€ä¸ªé—®é¢˜ç»§ç»­å†™å§ã€‚ 2ï¼‰è¿˜æ˜¯çŸ¥é“éª°å­æœ‰å‡ ç§** ï¼ˆéšå«çŠ¶æ€æ•°é‡ï¼‰ï¼Œæ¯ç§éª°å­æ˜¯ä»€ä¹ˆï¼ˆè½¬æ¢æ¦‚ç‡ï¼‰ï¼Œæ ¹æ®æ·éª°å­æ·å‡ºçš„ç»“æœï¼ˆå¯è§çŠ¶æ€é“¾ï¼‰ï¼Œæˆ‘æƒ³çŸ¥é“æ·å‡ºè¿™ä¸ªç»“æœçš„æ¦‚ç‡ã€‚** çœ‹ä¼¼è¿™ä¸ªé—®é¢˜æ„ä¹‰ä¸å¤§ï¼Œå› ä¸ºä½ æ·å‡ºæ¥çš„ç»“æœå¾ˆå¤šæ—¶å€™éƒ½å¯¹åº”äº†ä¸€ä¸ªæ¯”è¾ƒå¤§çš„æ¦‚ç‡ã€‚é—®è¿™ä¸ªé—®é¢˜çš„ç›®çš„å‘¢ï¼Œå…¶å®æ˜¯æ£€æµ‹è§‚å¯Ÿåˆ°çš„ç»“æœå’Œå·²çŸ¥çš„æ¨¡å‹æ˜¯å¦å»åˆã€‚å¦‚æœå¾ˆå¤šæ¬¡ç»“æœéƒ½å¯¹åº”äº†æ¯”è¾ƒå°çš„æ¦‚ç‡ï¼Œé‚£ä¹ˆå°±è¯´æ˜æˆ‘ä»¬å·²çŸ¥çš„æ¨¡å‹å¾ˆæœ‰å¯èƒ½æ˜¯é”™çš„ï¼Œæœ‰äººå·å·æŠŠæˆ‘ä»¬çš„éª°å­çµ¦æ¢äº†ã€‚ 3ï¼‰çŸ¥é“éª°å­æœ‰å‡ ç§** ï¼ˆéšå«çŠ¶æ€æ•°é‡ï¼‰ï¼Œä¸çŸ¥é“æ¯ç§éª°å­æ˜¯ä»€ä¹ˆï¼ˆè½¬æ¢æ¦‚ç‡ï¼‰ï¼Œè§‚æµ‹åˆ°å¾ˆå¤šæ¬¡æ·éª°å­çš„ç»“æœï¼ˆå¯è§çŠ¶æ€é“¾ï¼‰ï¼Œæˆ‘æƒ³åæ¨å‡ºæ¯ç§éª°å­æ˜¯ä»€ä¹ˆï¼ˆè½¬æ¢æ¦‚ç‡ï¼‰ã€‚** è¿™ä¸ªé—®é¢˜å¾ˆé‡è¦ï¼Œå› ä¸ºè¿™æ˜¯æœ€å¸¸è§çš„æƒ…å†µã€‚å¾ˆå¤šæ—¶å€™æˆ‘ä»¬åªæœ‰å¯è§ç»“æœï¼Œä¸çŸ¥é“HMMæ¨¡å‹é‡Œçš„å‚æ•°ï¼Œæˆ‘ä»¬éœ€è¦ä»å¯è§ç»“æœä¼°è®¡å‡ºè¿™äº›å‚æ•°ï¼Œè¿™æ˜¯å»ºæ¨¡çš„ä¸€ä¸ªå¿…è¦æ­¥éª¤ã€‚ éšé©¬å°”ç§‘å¤«æ¨¡å‹æ€»ç»“å°±æ˜¯ä¸€ä¸ªå­¦ä¹ é—®é¢˜ï¼Œ ç„¶ååˆ¤æ–­æ—¶æœ‰ç›‘ç£å­¦ä¹ è¿˜æ˜¯æ— ç›‘ç£å­¦ä¹  æœ‰ç›‘ç£å­¦ä¹ ï¼šè§‚æµ‹åºåˆ—å’ŒçŠ¶æ€åºåˆ—éƒ½è¦æœ‰ï¼š æå¤§ä¼¼ç„¶æ³•ï¼ˆpi, A, Bï¼‰ æ— ç›‘ç£å­¦ä¹ ï¼šè§‚æµ‹åºåˆ—,emç®—æ³•ï¼Œ é©¬å°”ç§‘å¤«æ¨¡å‹æ˜¯ä¸€ç§å…·æœ‰ä»£è¡¨æ€§çš„ä¸€é˜¶æ¦‚ç‡ç»Ÿè®¡æ¨¡å‹ã€‚éšé©¬å°”ç§‘å¤«æ¨¡å‹å¼ºè°ƒäº†ä¸ç¡®å®šæ€§å’Œæ½œåœ¨æ€§ï¼Œæ­£æ˜¯ç”±äºè¿™ç§æ€§è´¨ï¼Œæ»¡è¶³ç°å®ç”Ÿæ´»ä¸­è¯¸å¤šé—®é¢˜çš„åŸºæœ¬è¦æ±‚ï¼Œå› æ­¤ç ”ç©¶äººå‘˜ç»å¸¸ç”¨è¯¥æ¨¡å‹è¿›è¡Œå®é™…çŠ¶æ€ä¸è¡Œä¸ºä¹‹é—´é—®é¢˜çš„æŠ½è±¡ç ”ç©¶ä¸æ¦‚å†µã€‚éšé©¬å°”ç§‘å¤«æ¨¡å‹å¯¹äºæ½œåœ¨å’Œéšæœºçš„çœŸå®é—®é¢˜æœ‰ç€é«˜åº¦çš„æ‹Ÿåˆæ€§ï¼Œä¹Ÿå­˜åœ¨ç€è¯¸å¤šçš„ä¼˜åŠ¿ã€‚éšé©¬å°”ç§‘å¤«æ¨¡å‹æ˜¯ä¸€ä¸ªåŒé‡éšæœºæ¦‚ç‡æ¨¡å‹ï¼Œè¯¥è¯¥å‹çš„ä¸€èˆ¬ç»“æ„æ˜¯ éšé©¬å°”ç§‘å¤«æ¨¡å‹çš„ä¸‰ä¸ªåŸºæœ¬é—®é¢˜ï¼ˆ1ï¼‰è¯„ä¼°é—®é¢˜éšé©¬å°”ç§‘å¤«æ¨¡å‹çš„è¯„ä¼°é—®é¢˜æ˜¯ï¼Œå·²çŸ¥ä¸€ä¸ªéšè—çŠ¶æ€åºåˆ—å¯¹åº”çš„è§‚å¯Ÿå€¼åºåˆ— O=O1O2â€¦OTï¼ŒåŒæ—¶å·²çŸ¥ç¡®å®šäº†åŸºæœ¬ç»„æˆçŸ©é˜µçš„æ¨¡å‹ Î»(Ï€ï¼ŒQï¼ŒA)çš„æ¡ä»¶ä¸‹ï¼Œè¾“å…¥ä¸€ç»„å¾…å®ç°çš„è§‚å¯Ÿå€¼æ ·æœ¬åºåˆ—ï¼Œè®¡ç®—å¾—åˆ°è¯¥æ¨¡å‹æ¡ä»¶ä¸‹ç”Ÿæˆè¯¥æ ·æœ¬åºåˆ—çš„æ¦‚ç‡ï¼Œå³ Pï¼ˆO/Î»ï¼‰ ã€‚åœ¨éšé©¬å°”ç§‘å¤«æ¨¡å‹çš„è¯„ä¼°é—®é¢˜ä¸­ï¼Œè®¡ç®—å¾—åˆ°å·²çŸ¥æ¨¡å‹ç»„æˆéƒ¨åˆ†ä¸‹çš„æ¡ä»¶æ¦‚ç‡çš„ç®—æ³•è¢«ç§°ä¸ºå‰å‘ç®—æ³•ã€‚è¯„ä¼°é—®é¢˜çš„ç›®çš„æ˜¯åœ¨äºæ ¹æ®æ¨¡å‹äº§ç”Ÿå¾…å®ç°çš„è§‚å¯Ÿå€¼åºåˆ—çš„å¤§å°ï¼Œå¦‚æœäº§ç”Ÿè¯¥åºåˆ—çš„æ¦‚ç‡è¶Šå¤§ï¼Œåˆ™è¯´æ˜æ¨¡å‹è§£å†³è¯¥æ ·æœ¬åºåˆ—ä½œä¸ºå®é™…é—®é¢˜çš„èƒ½åŠ›å°±è¶Šå¼ºï¼Œè¿›è€Œåˆ¤æ–­å·²çŸ¥æ¨¡å‹å¯¹å¾…è§£å†³é—®é¢˜çš„é€‚ç”¨æ€§ã€‚ ï¼ˆ2ï¼‰è§£ç é—®é¢˜ éšé©¬å°”ç§‘å¤«æ¨¡å‹çš„è¯„ä¼°é—®é¢˜æ˜¯ï¼Œå·²çŸ¥ä¸€ä¸ªéšè—çŠ¶æ€åºåˆ—å¯¹åº”çš„è§‚å¯Ÿå€¼åºåˆ— O=O1O2â€¦OTï¼ŒåŒæ—¶å·²çŸ¥ç¡®å®šäº†åŸºæœ¬ç»„æˆçŸ©é˜µçš„æ¨¡å‹ Î»(Ï€ï¼ŒQï¼ŒA)çš„æ¡ä»¶ä¸‹ï¼Œåˆ©ç”¨ç®—æ³•è¿›è¡Œè®¡ç®—ï¼Œèƒ½å¤Ÿå¿«é€Ÿæœ‰æ•ˆçš„é€‰æ‹©ä¸€å®šç¨‹åº¦ä¸‹çš„æœ€å¥½çš„çŠ¶æ€åºåˆ—Q=Q1Q2ã€‚ ã€‚ ã€‚QTï¼Œç”Ÿæˆè¿™ä¸€éšè—çŠ¶æ€åºåˆ—çš„æ¦‚ç‡å€¼æœ€å¤§ï¼Œèƒ½å¤Ÿå¾ˆå¥½çš„æ»¡è¶³å¯¹è§‚å¯Ÿå€¼åºåˆ—çš„è§£é‡Šã€‚éšé©¬å°”ç§‘å¤«æ¨¡å‹çš„è¯„ä¼°é—®é¢˜ä½¿ç”¨çš„ç®—æ³•ä¸ºç»´ç‰¹æ¯”ç®—æ³•ï¼Œè§£ç é—®é¢˜çš„ç›®çš„æ˜¯ç¡®å®šæœ€é€‚å®œçš„éšè—çŠ¶æ€é‡çš„åºåˆ—ï¼Œè¿™ç§æœ€é€‚åˆå¹¶æ²¡æœ‰æ˜ç¡®çš„å®šä¹‰å’Œè§„èŒƒï¼Œæ ¹æ®å…·ä½“çš„ç°å®ç ”ç©¶é—®é¢˜è¿›è¡Œå…·ä½“çš„ç•Œå®šã€‚ ï¼ˆ3ï¼‰å­¦ä¹ é—®é¢˜éšé©¬å°”ç§‘å¤«æ¨¡å‹çš„å­¦ä¹ é—®é¢˜æ˜¯å®é™…é—®é¢˜ä¸­æœ€å¸¸è§çš„é—®é¢˜ç±»å‹ã€‚åœ¨éšé©¬å°”ç§‘å¤«æ¨¡å‹çš„å­¦ä¹ é—®é¢˜ä¸­ï¼Œä»…ä»…èƒ½å¤Ÿå·²çŸ¥ä¸€ç»„è¾“å‡ºçš„æ¨¡å‹çŠ¶æ€è§‚å¯Ÿå€¼çš„åºåˆ—O=O1O2â€¦OTï¼Œå¯¹éšé©¬å°”ç§‘å¤«æ¨¡å‹ Î»(Ï€ï¼ŒQï¼ŒA)ä¸­çš„åŸºæœ¬ç»„æˆéƒ¨åˆ†å¹¶ä¸èƒ½ç›´æ¥ç¡®å®šï¼Œæ ¹æ®å·²æœ‰çš„è§‚å¯Ÿå€¼æ ·æœ¬æ•°æ®ï¼Œå¯¹æ¨¡å‹è¿›è¡Œåå¤çš„è®­ç»ƒå’Œè¯„ä»·ï¼Œè°ƒèŠ‚æ¨¡å‹ Î»(Ï€ï¼ŒQï¼ŒA)ä¸­çš„ä¸‰ä¸ªåŸºæœ¬éƒ¨åˆ†çš„å‚æ•°ï¼Œä½¿å¾—è¾“å‡ºè¯¥è§‚å¯Ÿå€¼åºåˆ—çš„æ¦‚ç‡å€¼æœ€å¤§ï¼Œå³é€šè¿‡å­¦ä¹ è®­ç»ƒè¿‡ç¨‹ä½¿å¾—è¯¥æ¨¡å‹å…·å¤‡æœ€ä¼˜çš„æ‹Ÿåˆç¨‹åº¦ã€‚éšé©¬å°”ç§‘å¤«æ¨¡å‹çš„å­¦ä¹ é—®é¢˜ä¸­ï¼Œä¸»è¦æ˜¯é€šè¿‡å‰å‘åå‘ç®—æ³•ï¼ˆBaum-Welch ç®—æ³•ï¼‰æ¥è¿›è¡Œè®­ç»ƒå’Œå­¦ä¹ çš„ï¼›åœ¨æ¨¡å‹è®­ç»ƒå­¦ä¹ ä¸­ï¼Œæœ€å¸¸è§çš„æ˜¯é‡‡ç”¨è´å¶æ–¯åˆ†ææ–¹æ³•å’Œæœ€å¤§ä¼¼ç„¶ä¼°è®¡æ–¹æ³•ï¼Œå¯¹æ¨¡å‹ä¸­çš„å‚æ•°è¿›è¡Œè¯„ä¼°å’Œä¼˜åŒ–ï¼Œä¿è¯æ¨¡å‹è‡³å°‘è¾¾åˆ°å±€éƒ¨æœ€ä¼˜ã€‚ åœ¨å®é™…é—®é¢˜çš„ç ”ç©¶ä¸­ï¼Œé€šå¸¸éƒ½åªèƒ½è·å–åˆ°è¾“å‡ºåºåˆ—å€¼ï¼Œå› æ­¤å‰å‘-åå‘ç®—æ³•å®ç°éšé©¬å°”ç§‘å¤«æ¨¡å‹çš„è®­ç»ƒå­¦ä¹ é—®é¢˜å…·æœ‰å¹¿æ³›åº”ç”¨ã€‚ 2ã€æ¨¡å‹å­¦ä¹ é—®é¢˜ï¼šå·²çŸ¥è§‚æµ‹åºåˆ—ï¼Œä¼°è®¡æ¨¡å‹ä¸­çš„å‚æ•°ï¼Œä½¿å¾—åœ¨è¯¥æ¨¡å‹ä¸‹è§‚æµ‹åºåˆ—æ¦‚ç‡æœ€å¤§ï¼Œå³ç”¨æå¤§ä¼¼ç„¶ä¼°è®¡çš„æ–¹æ³•ä¼°è®¡å‚æ•°ã€‚ Baum-Welchç®—æ³•è§£å†³çš„æ˜¯ä¸€ä¸ªæ¨¡å‹è®­ç»ƒé—®é¢˜ï¼Œå³å‚æ•°ä¼°è®¡ï¼Œæ˜¯ä¸€ç§æ— ç›‘ç£çš„è®­ç»ƒæ–¹æ³•ï¼Œä¸»è¦é€šè¿‡EMè¿­ä»£å®ç°ï¼›å³åªæœ‰è§‚æµ‹åºåˆ—ï¼Œæ— çŠ¶æ€åºåˆ—æ—¶è®­ç»ƒæ¨¡å‹ã€‚ æå¤§ä¼¼ç„¶ä¼°è®¡ï¼šè§‚æµ‹åºåˆ—å’Œç›¸åº”çš„çŠ¶æ€åºåˆ—éƒ½å­˜åœ¨çš„ç›‘ç£å­¦ä¹ ç®—æ³•ï¼Œç”¨æ¥ä¼°è®¡å‚æ•°ã€‚ ä¸»è¦ç”¨åˆ°è¿™ä¸¤ä¸ªï¼Œç„¶åç°åœ¨å°±æ˜¯å­¦ä¹ EMè¿­ä»£ï¼Œå’Œç”¨æœ€å¤§ä¼¼ç„¶ä¼°è®¡æ¥ç¡®å®šå‚æ•°ï¼ ç¬¬ä¸€æ­¥æ˜¯ç¡®å®šï¼ŒçŠ¶æ€æ•°ç›®ï¼Œæˆ–è€…æ˜¯ç”Ÿäº§è½¬ç§»çŸ©é˜µã€‚","categories":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/categories/work/"}],"tags":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/tags/work/"}]},{"title":"äº¤å‰éªŒè¯","slug":"sleep apnea and sleep stage/äº¤å‰éªŒè¯","date":"2020-07-02T00:49:24.000Z","updated":"2020-07-02T00:49:24.000Z","comments":true,"path":"2020/07/02/sleep apnea and sleep stage/äº¤å‰éªŒè¯/","link":"","permalink":"https://esyyes.github.io/2020/07/02/sleep%20apnea%20and%20sleep%20stage/%E4%BA%A4%E5%8F%89%E9%AA%8C%E8%AF%81/","excerpt":"","text":"äº¤å‰éªŒè¯äº¤å‰éªŒè¯ï¼šè¯„ä¼°ä¼°ç®—å™¨çš„è¡¨ç°å­¦ä¹ é¢„æµ‹å‡½æ•°çš„å‚æ•°ï¼Œå¹¶åœ¨ç›¸åŒæ•°æ®é›†ä¸Šè¿›è¡Œæµ‹è¯•æ˜¯ä¸€ç§é”™è¯¯çš„åšæ³•: ä¸€ä¸ªä»…ç»™å‡ºæµ‹è¯•ç”¨ä¾‹æ ‡ç­¾çš„æ¨¡å‹å°†ä¼šè·å¾—æé«˜çš„åˆ†æ•°ï¼Œä½†å¯¹äºå°šæœªå‡ºç°è¿‡çš„æ•°æ®å®ƒåˆ™æ— æ³•é¢„æµ‹å‡ºä»»ä½•æœ‰ç”¨çš„ä¿¡æ¯ã€‚ è¿™ç§æƒ…å†µç§°ä¸º overfittingï¼ˆè¿‡æ‹Ÿåˆï¼‰. ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œåœ¨è¿›è¡Œï¼ˆç›‘ç£ï¼‰æœºå™¨å­¦ä¹ å®éªŒæ—¶ï¼Œé€šå¸¸å–å‡ºéƒ¨åˆ†å¯åˆ©ç”¨æ•°æ®ä½œä¸º test setï¼ˆæµ‹è¯•æ•°æ®é›†ï¼‰ ç½®ä¿¡åŒºé—´ https://baike.baidu.com/item/%E7%BD%AE%E4%BF%A1%E5%8C%BA%E9%97%B4/7442583?fr=aladdin ç½®ä¿¡åŒºé—´æ˜¯æŒ‡ç”±æ ·æœ¬ç»Ÿè®¡é‡æ‰€æ„é€ çš„æ€»ä½“å‚æ•°çš„ä¼°è®¡åŒºé—´ã€‚åœ¨ç»Ÿè®¡å­¦ä¸­ï¼Œä¸€ä¸ªæ¦‚ç‡æ ·æœ¬çš„ç½®ä¿¡åŒºé—´ï¼ˆConfidence intervalï¼‰æ˜¯å¯¹è¿™ä¸ªæ ·æœ¬çš„æŸä¸ªæ€»ä½“å‚æ•°çš„åŒºé—´ä¼°è®¡ã€‚ ç½®ä¿¡åŒºé—´ä¸ç½®ä¿¡æ°´å¹³ã€æ ·æœ¬é‡ç­‰å› ç´ å‡æœ‰å…³ç³»ï¼Œå…¶ä¸­æ ·æœ¬é‡å¯¹ç½®ä¿¡åŒºé—´çš„å½±å“ä¸ºï¼šåœ¨ç½®ä¿¡æ°´å¹³å›ºå®šçš„æƒ…å†µä¸‹ï¼Œæ ·æœ¬é‡è¶Šå¤šï¼Œç½®ä¿¡åŒºé—´è¶Šçª„ã€‚å…¶æ¬¡ï¼Œåœ¨æ ·æœ¬é‡ç›¸åŒçš„æƒ…å†µä¸‹ï¼Œç½®ä¿¡æ°´å¹³è¶Šé«˜ï¼Œç½®ä¿¡åŒºé—´è¶Šå®½ 95%ç½®ä¿¡åŒºé—´ï¼ˆConfidence Interval,CIï¼‰ï¼šå½“ç»™å‡ºæŸä¸ªä¼°è®¡å€¼çš„95%ç½®ä¿¡åŒºé—´ä¸ºã€a,bã€‘æ—¶ï¼Œå¯ä»¥ç†è§£ä¸ºæˆ‘ä»¬æœ‰95%çš„ä¿¡å¿ƒï¼ˆConfidenceï¼‰å¯ä»¥è¯´æ ·æœ¬çš„å¹³å‡å€¼ä»‹äºaåˆ°bä¹‹é—´ï¼Œè€Œå‘ç”Ÿé”™è¯¯çš„æ¦‚ç‡ä¸º5%ã€‚ æœ‰æ—¶ä¹Ÿä¼šè¯´90%ï¼Œ99%çš„ç½®ä¿¡åŒºé—´ï¼Œå…·ä½“å«ä¹‰å¯å‚è€ƒ95%ç½®ä¿¡åŒºé—´ã€‚ 12print(\"Accuracy: %0.2f (+/- %0.2f)\" % (scores.mean(), scores.std() * 2))Accuracy: 0.98 (+/- 0.03) äº¤å‰éªŒè¯ç”¨æ¥éªŒè¯åˆ†ç±»å™¨çš„æ€§èƒ½ä¸€ç§ç»Ÿè®¡åˆ†ææ–¹æ³•ï¼ŒåŸºæœ¬æ€æƒ³æ˜¯æŠŠåœ¨æŸç§æ„ä¹‰ä¸‹å°†åŸå§‹æ•°æ®(data set)è¿›è¡Œåˆ†ç»„ï¼Œä¸€éƒ¨åˆ†åšä¸ºè®­ç»ƒé›†(training set)ï¼Œå¦ä¸€éƒ¨åˆ†åšä¸ºéªŒè¯é›†(validation set)ï¼Œé¦–å…ˆç”¨è®­ç»ƒé›†å¯¹åˆ†ç±»å™¨è¿›è¡Œè®­ç»ƒï¼Œåœ¨åˆ©ç”¨éªŒè¯é›†æ¥æµ‹è¯•è®­ç»ƒå¾—åˆ°çš„æ¨¡å‹(model)ï¼Œä»¥æ­¤æ¥åšä¸ºè¯„ä»·åˆ†ç±»å™¨çš„æ€§èƒ½æŒ‡æ ‡ã€‚ kæŠ˜äº¤å‰éªŒè¯(k-fold cross validation)å°†æ•°æ®é›†æ— æ›¿æ¢çš„éšæœºåˆ†ä¸ºkä»½ï¼Œk-1ä»½ç”¨æ¥è®­ç»ƒæ¨¡å‹ï¼Œå‰©ä¸‹ä¸€ä»½ç”¨æ¥æ¨¡å‹æ€§èƒ½è¯„ä¼°ã€‚é‡å¤kæ¬¡ï¼Œå¾—åˆ°kä¸ªæ¨¡å‹å’Œæ€§èƒ½è¯„ä¼°ç»“æœã€‚å¾—åˆ°kä¸ªæ€§èƒ½è¯„ä¼°åï¼Œå–å¹³å‡æ±‚å‡ºæœ€ç»ˆæ€§èƒ½è¯„ä¼°ã€‚å³ï¼šç¬¬ä¸€æ­¥ï¼šä¸é‡å¤æŠ½æ ·å°†åŸå§‹æ•°æ®éšæœºåˆ†ä¸ºkä»½ã€‚ç¬¬äºŒæ­¥ï¼šæ¯ä¸€æ¬¡æŒ‘é€‰å…¶ä¸­ 1 ä»½ä½œä¸ºæµ‹è¯•é›†ï¼Œå‰©ä½™k-1ä»½ä½œä¸ºè®­ç»ƒé›†ç”¨äºæ¨¡å‹è®­ç»ƒã€‚ç¬¬ä¸‰æ­¥ï¼šé‡å¤ç¬¬äºŒæ­¥kæ¬¡ï¼Œæ¯ä¸ªå­é›†éƒ½æœ‰ä¸€æ¬¡ä½œä¸ºæµ‹è¯•é›†ï¼Œå…¶ä½™å­é›†ä½œä¸ºè®­ç»ƒé›†ã€‚åœ¨æ¯ä¸ªè®­ç»ƒé›†ä¸Šè®­ç»ƒåå¾—åˆ°ä¸€ä¸ªæ¨¡å‹ï¼Œç”¨è¿™ä¸ªæ¨¡å‹åœ¨ç›¸åº”æµ‹è¯•é›†ä¸Šæµ‹è¯•ï¼Œè®¡ç®—å¹¶ä¿å­˜æ¨¡å‹çš„è¯„ä¼°æŒ‡æ ‡ã€‚ç¬¬å››æ­¥ï¼šè®¡ç®—kç»„æµ‹è¯•ç»“æœçš„å¹³å‡å€¼ä½œä¸ºæ¨¡å‹ç²¾åº¦çš„ä¼°è®¡ï¼Œå¹¶ä½œä¸ºå½“å‰kæŠ˜äº¤å‰éªŒè¯ä¸‹æ¨¡å‹çš„æ€§èƒ½æŒ‡æ ‡ã€‚ ä¼˜ç‚¹ï¼šåˆ†ç»„åå–å¹³å‡å‡å°‘æ–¹å·®ï¼Œä½¿å¾—æ¨¡å‹å¯¹æ•°æ®åˆ’åˆ†ä¸æ•æ„Ÿã€‚ç¼ºç‚¹ï¼škå–å€¼éœ€è¦å°è¯• 123456789101112131415161718192021222324252627282930313233343536# -*- coding: utf-8 -*-# @time : 2020/6/30 0030# @Author : esyfrom sklearn.ensemble import RandomForestClassifierfrom sklearn.metrics import accuracy_scorefrom data_preprocessing import *from sklearn.model_selection import cross_val_scoreimport warningswarnings.filterwarnings(\"ignore\")def run_rf(train_x, test_x, train_y, test_y): clf = RandomForestClassifier() clf.fit(train_x, train_y) pred_y = clf.predict(test_x) acr = accuracy_score(test_y, pred_y) return acrfeature = pd.read_excel('D:/zccode/all_feature' + '/features' + '%s' % 1 + '.xlsx')data = pd.get_dummies(feature.iloc[0:len(feature), 1:])note = pd.read_excel('D:/zccode/all_note' + '/note' + '%s' % 1 + '.xlsx')tag = pd.get_dummies(note.iloc[0:len(data), 1:])# é€‰å®šå›ºå®šçš„ç‰¹å¾å€¼feature_import = pd.read_excel('D:/zccode' + '/feature_important' + '%s' % 2 + '.xlsx')df = pd.get_dummies(feature_import.iloc[0:len(feature_import), 1:16])std_data = data_pre(data[df.keys()])label = pd.get_dummies(tag.iloc[0:len(data), 2:3])scores = cross_val_score(RandomForestClassifier(), std_data, label, cv=10)print(f'&#123;scores&#125;')print(\"Accuracy: %0.2f (+/- %0.2f)\" % (scores.mean(), scores.std() * 2)) 123[0.88 0.92 0.86956522 0.91304348 0.95652174 1. 1. 0.86363636 1. 0.59090909]Accuracy: 0.90 (+/- 0.23) äº¤å‰éªŒè¯Kå€¼çš„ç¡®å®šï¼Œæ‰¾ä¸€ä¸ªæ ·æœ¬å¾ˆå¹³å‡çš„ï¼Œç„¶åå†å»åˆ©ç”¨æ ·æœ¬æ¥è¿›è¡Œåˆ¤å®š äº¤å‰éªŒè¯çš„ä½œç”¨ï¼šè¯„ä¼°æ¨¡å‹çš„ç¨³å®šæ€§åŠè°ƒå‚æ¯”å¦‚5æŠ˜äº¤å‰éªŒè¯ï¼Œåœ¨å‚æ•°ç¡®å®šäº†çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ•°æ®å¼„æˆäº”ä»½ï¼Œæ¯ä¸€ä»½ä¸­80%è®­ç»ƒï¼Œ20%ä½œä¸ºæµ‹è¯•é›†ï¼Œè¿™æ ·å¯ä»¥è®­ç»ƒäº”ä¸ªæ¨¡å‹ï¼Œè¿™äº”ä¸ªæ¨¡å‹é™¤äº†è®­ç»ƒé›†æµ‹è¯•é›†ä¸åŒå¤–ï¼Œå…¶ä»–çš„éƒ½ç›¸åŒï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥å¾—åˆ°äº”ä¸ªæ¨¡å‹çš„è¯„ä¼°æŒ‡æ ‡æ¯”å¦‚auc,è®¡ç®—äº”ä¸ªæ¨¡å‹å¾—åˆ°çš„aucçš„æ–¹å·®ï¼Œå¦‚æœæ–¹å·®å°è¯´æ˜æ¨¡å‹çš„æ³›åŒ–æ€§æ¯”è¾ƒå¥½ï¼Œæ¨¡å‹æ¯”è¾ƒç¨³å®šæ˜¯ä¸ªå¥½æ¨¡å‹ï¼Œå¦åˆ™è¯´æ˜æ¨¡å‹æ³›åŒ–æ€§ä¸å¥½ã€‚xgboostä¸­cvå‡½æ•°è¿”å›çš„å€¼åŒ…æ‹¬ä¸¤ä¸ªï¼Œä¸€ä¸ªæ˜¯å•æ¨¡å‹çš„è¯„ä»·æŒ‡æ ‡ï¼ˆæ¯”å¦‚aucï¼‰ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯æ¨¡å‹çš„æ–¹å·®ã€‚ å‚æ•°ä¸ç¡®å®šçš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬é€šè¿‡æ¨¡å‹çš„å‡†ç¡®æ€§å’Œç¨³å®šæ€§æ¥é€‰æ‹©æœ€åˆé€‚çš„å‚æ•°ã€‚ https://blog.csdn.net/weixin_41060109/article/details/80878325?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-4.nonecase&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-4.nonecase åœ¨å®é™…è®­ç»ƒä¸­ï¼Œæ¨¡å‹é€šå¸¸å¯¹è®­ç»ƒæ•°æ®å¥½ï¼Œä½†æ˜¯å¯¹è®­ç»ƒæ•°æ®ä¹‹å¤–çš„æ•°æ®æ‹Ÿåˆç¨‹åº¦å·®ã€‚ç”¨äºè¯„ä»·æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ï¼Œä»è€Œè¿›è¡Œæ¨¡å‹é€‰æ‹©ã€‚ äº¤å‰éªŒè¯çš„åˆæ­¥ç›®æ ‡åˆæ­¥é€‰æ‹©å¤§éƒ¨åˆ†çš„æ¨¡å‹ï¼Œç„¶åé€šè¿‡äº¤å‰éªŒè¯ï¼Œä¾‹å¦‚ï¼š10æ¬¡10æŠ˜ï¼Œå…ˆåˆæ­¥å»ç­›é€‰å¾—åˆ°æ€§èƒ½æ•ˆæœå¥½çš„æ¨¡å‹ï¼Œç„¶åå†å¯¹è¿™å‡ ä¸ªå¥½çš„æ¨¡å‹ï¼Œè¿›è¡Œç½‘æ ¼æœç´¢çš„è¶…å‚æ•°ä¼˜åŒ– äº¤å‰éªŒè¯å¾—åˆ°ä¸€ä¸ªå‡†ç¡®ç‡ï¼Œä½†æ˜¯ä¸èƒ½ç”¨å‡†ç¡®ç‡è¿™ä¸ªæŒ‡æ ‡å»ç›´æ¥åˆ¤å®šåˆ†ç±»å™¨çš„æ€§èƒ½ æœ€åç”¨æ··æ·†çŸ©é˜µã€ç²¾åº¦ã€å¬å›ç‡ç­‰å»è¯„ä¼°åˆ†ç±»çš„æ•ˆæœå’Œæ€§èƒ½","categories":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/categories/work/"}],"tags":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/tags/work/"}]},{"title":"ä¸­æœŸç­”è¾©é¢˜ç›®","slug":"sleep apnea and sleep stage/ä¸­æœŸç­”è¾©é¢˜ç›®","date":"2020-06-29T02:58:18.000Z","updated":"2020-06-29T02:58:18.000Z","comments":true,"path":"2020/06/29/sleep apnea and sleep stage/ä¸­æœŸç­”è¾©é¢˜ç›®/","link":"","permalink":"https://esyyes.github.io/2020/06/29/sleep%20apnea%20and%20sleep%20stage/%E4%B8%AD%E6%9C%9F%E7%AD%94%E8%BE%A9%E9%A2%98%E7%9B%AE/","excerpt":"","text":"ä¸­æœŸç­”è¾©é¢˜ç›®è€ƒè™‘ç¡çœ åˆ†æœŸã€ç¡çœ è´¨é‡ã€ç¡çœ å‘¼å¸æš‚åœã€å¿ƒç”µä¿¡å·ã€ç‰¹å¾é€‰æ‹© â€‹ ç¡çœ ç›¸å…³çš„ç†è®ºçŸ¥è¯†ï¼ŒåŒ…æ‹¬ç¡çœ å‘¨æœŸæ€§ï¼Œç¡çœ åˆ†æœŸæ–¹æ³•ä»¥åŠç¡çœ å‘¼å¸æš‚åœç­‰ã€‚ å‚è€ƒé¢˜ç›®ï¼šåŸºäºPVDFçš„ç¡çœ ç›‘æµ‹ç³»ç»Ÿè®¾è®¡ä¸å®ç° ç›´æ¥å°†ç¡çœ è¿™å‡ ä¸ªç»Ÿè®¡åˆ°ç¡çœ  åŸºäºå¿ƒç”µä¿¡å·çš„ç‰¹å¾é€‰æ‹©å’Œç¡çœ ç›‘æµ‹æ–¹æ³•ç ”ç©¶ åŸºäºå¿ƒç”µä¿¡å·çš„ç¡çœ åˆ†æœŸå’Œé˜»å¡æ€§å‘¼å¸æš‚åœç›¸å…³æ€§ç ”ç©¶ åŸºäºå¿ƒç”µä¿¡å·çš„ç¡çœ åˆ†æœŸå’Œå‘¼å¸æš‚åœæ£€æµ‹ç®—æ³•çš„ç ”ç©¶","categories":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/categories/work/"}],"tags":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/tags/work/"}]},{"title":"æŸ¥çœ‹åˆ†ç±»å™¨å¯¹åº”çš„æ•°æ®ç³»åˆ—","slug":"sleep apnea and sleep stage/æŸ¥çœ‹åˆ†ç±»å™¨å¯¹åº”çš„æ•°æ®ç³»åˆ—","date":"2020-06-24T13:02:27.000Z","updated":"2020-06-24T13:02:27.000Z","comments":true,"path":"2020/06/24/sleep apnea and sleep stage/æŸ¥çœ‹åˆ†ç±»å™¨å¯¹åº”çš„æ•°æ®ç³»åˆ—/","link":"","permalink":"https://esyyes.github.io/2020/06/24/sleep%20apnea%20and%20sleep%20stage/%E6%9F%A5%E7%9C%8B%E5%88%86%E7%B1%BB%E5%99%A8%E5%AF%B9%E5%BA%94%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B3%BB%E5%88%97/","excerpt":"","text":"","categories":[],"tags":[]},{"title":"ä¸åŒç‰¹å¾æ•°ä¹‹é—´çš„åˆ†ç±»æ¨¡å‹æ¯”è¾ƒ","slug":"sleep apnea and sleep stage/ä¸åŒç‰¹å¾æ•°ä¹‹é—´çš„åˆ†ç±»æ¨¡å‹æ¯”è¾ƒ","date":"2020-06-24T02:57:17.000Z","updated":"2020-06-24T02:57:17.000Z","comments":true,"path":"2020/06/24/sleep apnea and sleep stage/ä¸åŒç‰¹å¾æ•°ä¹‹é—´çš„åˆ†ç±»æ¨¡å‹æ¯”è¾ƒ/","link":"","permalink":"https://esyyes.github.io/2020/06/24/sleep%20apnea%20and%20sleep%20stage/%E4%B8%8D%E5%90%8C%E7%89%B9%E5%BE%81%E6%95%B0%E4%B9%8B%E9%97%B4%E7%9A%84%E5%88%86%E7%B1%BB%E6%A8%A1%E5%9E%8B%E6%AF%94%E8%BE%83/","excerpt":"","text":"ä¸åŒç‰¹å¾æ•°ä¹‹é—´çš„åˆ†ç±»æ¨¡å‹æ¯”è¾ƒé¦–å…ˆç¡®å®šç‰¹å¾çš„ä¸ªæ•°ï¼Œç¡®å®šindexå’Œç‰¹å¾æ•°ä¹‹é—´çš„å…³ç³» 12345import pandas as pd# é€‰å®šå›ºå®šçš„ç‰¹å¾å€¼feature_import = pd.read_excel('D:/zccode' + '/feature_important' + '%s' % 2 + '.xlsx')df = pd.get_dummies(feature_import.iloc[0:len(feature_import), 1:5]) 12 5NN20 5pNN20 5pNN50 5NN500 0.023794 0.023346 0.022757 0.022194 æ ¹æ®è®¾å®šçš„index,è¿˜æ˜¯å–çš„æ˜¯å·¦é—­å³å¼€ï¼Œå› æ­¤å¯¹äºä¸‹é¢çš„ç‰¹å¾ï¼Œindex åº”è¯¥ä¸ºç‰¹å¾æ•°åŠ 1 12345678æœ€å¤§å‡†ç¡®ç‡æ—¶å¯¹åº”çš„ç‰¹å¾æ•°åˆ†æœŸä¸º5æ—¶ æœ€é«˜å‡†ç¡®ç‡ä¸º79.65% ç‰¹å¾æ•°ä¸º23åˆ†æœŸä¸º4æ—¶ æœ€é«˜å‡†ç¡®ç‡ä¸º86.40% ç‰¹å¾æ•°ä¸º23åˆ†æœŸä¸º3æ—¶ æœ€é«˜å‡†ç¡®ç‡ä¸º89.04% ç‰¹å¾æ•°ä¸º15å‡†ç¡®ç‡é™ä½1%åå¯¹åº”çš„ç‰¹å¾æ•°åˆ†æœŸä¸º5æ—¶ æœ€é«˜å‡†ç¡®ç‡ä¸º79.65% æœ€é«˜å‡†ç¡®ç‡é™ä½1%åä¸º78.85% æ¯”è¾ƒç­›é€‰çš„å‡†ç¡®ç‡ä¸º78.86% ç‰¹å¾æ•°ä¸º9åˆ†æœŸä¸º4æ—¶ æœ€é«˜å‡†ç¡®ç‡ä¸º86.40% æœ€é«˜å‡†ç¡®ç‡é™ä½1%åä¸º85.54% æ¯”è¾ƒç­›é€‰çš„å‡†ç¡®ç‡ä¸º85.66% ç‰¹å¾æ•°ä¸º8åˆ†æœŸä¸º3æ—¶ æœ€é«˜å‡†ç¡®ç‡ä¸º89.04% æœ€é«˜å‡†ç¡®ç‡é™ä½1%åä¸º88.15% æ¯”è¾ƒç­›é€‰çš„å‡†ç¡®ç‡ä¸º88.22% ç‰¹å¾æ•°ä¸º7 é‡æ–°è·‘ä¸‹ç»“æœï¼› å› æ­¤å¯¹äºæœ€å¤§å‡†ç¡®ç‡æ—¶ï¼ŒåŸºäºç‰¹å¾æ•°çš„åˆ†ç±»æ¨¡å‹å°±è¯¥ä¸ºä¸‹é¢ç¨‹åº æœ€å¤§å‡†ç¡®ç‡æ—¶ç‰¹å¾å¯¹åº”çš„åˆ†ç±»ç»“æœ123456789101112131415# -*- coding: utf-8 -*-# @time : 2020/6/23 0023# @Author : esyfrom sleep_class import *for k in range(3): if k == 0: index = 24 class_feature(k, index) elif k == 1: index = 24 class_feature(k, index) else: index = 16 class_feature(k, index) sleep class ä¸­çš„å‡½æ•°12345678910111213141516171819202122232425262728293031323334353637383940414243# -*- coding: utf-8 -*-# @time : 2020/6/23 0023# @Author : esyfrom data_preprocessing import *from sklearn.model_selection import train_test_splitfrom classifiers import *import warningswarnings.filterwarnings(\"ignore\")def class_feature(k, index): class_scores = [] kappa_scores = [] for i in range(1, 19): feature = pd.read_excel('D:/zccode/all_feature' + '/features' + '%s' % i + '.xlsx') data = pd.get_dummies(feature.iloc[0:len(feature), 1:]) note = pd.read_excel('D:/zccode/all_note' + '/note' + '%s' % i + '.xlsx') tag = pd.get_dummies(note.iloc[0:len(data), 1:]) feature_import = pd.read_excel('D:/zccode' + '/feature_important' + '%s' % (k+1) + '.xlsx') df = pd.get_dummies(feature_import.iloc[0:len(feature_import), 1:index]) std_data = data_pre(data[df.keys()]) label = pd.get_dummies(tag.iloc[0:len(data), k:k+1]) class_score = [] kappa_score = [] for x in range(50): X_train, X_test, y_train, y_test = train_test_split(std_data, label, test_size=0.3) score = run_classifiers(X_train, X_test, y_train, y_test) class_score.append(score[0]) kappa_score.append(score[1]) class_scores.append([(np.array([class_score[a][k] for a in range(50)])).mean() for k in range(9)]) kappa_scores.append([(np.array([kappa_score[a][k] for a in range(50)])).mean() for k in range(9)]) print(f'å·²ç»è¿è¡Œ&#123;i&#125;æ¬¡') class_total = pd.DataFrame(class_scores) kappa_total = pd.DataFrame(kappa_scores) class_total.to_excel('feature_section_class' + '%d' % k + \".xlsx\") kappa_total.to_excel('feature_section_kappa' + '%d' % k + \".xlsx\") return f'è¿è¡Œä¸€æ¬¡' ç‰¹å¾é™ç»´åçš„åˆ†ç±»ç»“æœ123456789101112131415# -*- coding: utf-8 -*-# @time : 2020/6/23 0023# @Author : esyfrom sleep_class import *for k in range(3): if k == 0: index = 10 class_feature(k, index) elif k == 1: index = 9 class_feature(k, index) else: index = 8 class_feature(k, index) ä¿å­˜åå­—ä¸º features_section_class ç„¶åå°†å…¶å–å¹³å‡å€¼ï¼Œå¹¶ç»˜åˆ¶æŸ±çŠ¶å›¾ åˆ†ç±»ç»“æœæ–‡ä»¶ä¿å­˜ä¸ºï¼š E:\\feature section features_section_classæ˜¯é™ç»´å feature_section_class æ˜¯æœ€å¼€å§‹çš„æ•°æ®åˆ†ç±»ç»“æœ ç»è¿‡æŸ¥çœ‹ï¼Œåœ¨å³ä½¿åœ¨æœ€é«˜åˆ†æœŸå‡†ç¡®ç‡çš„ç»“æœä¸‹ï¼Œéƒ½ä¼šå‡ºç°æ•°æ®ä¸€éƒ¨åˆ†ç‰¹åˆ«å¥½ä¸€éƒ¨åˆ†éƒ½å¾ˆå·®çš„æƒ…å†µ æš‚æ—¶åªè¿›è¡Œæ•°æ®çš„å¹³å‡åˆ†ç±»å‡†ç¡®ç‡ï¼Œç„¶åç­›é€‰å‡ºæœ€ä¼˜çš„åˆ†ç±»æ¨¡å‹ï¼Œæ¯”è¾ƒæ¯ä¸ªæ¨¡å‹ä¸­æœ€ä¼˜çš„ç»“æœ ç„¶åå†å»è€ƒè™‘å•ç‹¬çš„äººï¼Œä¸ºä»€ä¹ˆä¼šå·®è·è¿™ä¹ˆå¤§ï¼Œæ˜¯ä»€ä¹ˆå› ç´ å½±å“äº†åˆ†æœŸå‡†ç¡®ç‡ 12345678910111213141516171819 0 1 2 ... 6 7 80 0.785217 0.862609 0.828406 ... 0.874493 0.879130 0.8820291 0.789143 0.824000 0.843429 ... 0.844952 0.845714 0.8478102 0.834667 0.866286 0.857714 ... 0.848381 0.853524 0.8603813 0.881538 0.890000 0.886154 ... 0.881795 0.864615 0.8987184 0.601373 0.694902 0.687745 ... 0.756569 0.765588 0.7683335 0.754366 0.805540 0.804131 ... 0.850704 0.847512 0.8277936 0.615450 0.674597 0.664171 ... 0.706161 0.702749 0.7157357 0.754732 0.831122 0.803415 ... 0.840293 0.824195 0.8459518 0.811746 0.826984 0.831429 ... 0.822751 0.834921 0.8443399 0.915749 0.928309 0.927246 ... 0.941739 0.935556 0.93874410 0.535238 0.640173 0.591602 ... 0.674026 0.670216 0.66952411 0.695733 0.780800 0.759822 ... 0.809689 0.798489 0.79528912 0.640356 0.700889 0.687911 ... 0.690844 0.696978 0.70542213 0.694667 0.804148 0.751852 ... 0.786519 0.801037 0.81155614 0.803824 0.833137 0.834608 ... 0.841373 0.833529 0.85039215 0.646479 0.679531 0.723192 ... 0.772582 0.776901 0.80347416 0.682636 0.745271 0.743101 ... 0.760930 0.770078 0.75814017 0.668372 0.708837 0.700465 ... 0.719535 0.696744 0.721395 å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼Œæœ‰äº›åˆ—çš„æ•°æ®å¯¹åº”èµ·æ¥å°±å¹¶ä¸å¥½ï¼Œå…ˆåŸºäºå¹³å‡å€¼ç„¶åå†å»ç­›é€‰ä¸ºä»€ä¹ˆä¸ºåœ°åŸŸ80%çš„åŸå› ï¼Œæ‰¾å•ç‹¬çš„æ•°æ®åºåˆ—ï¼Œå»å¯¹åº”æŸ¥çœ‹å…¶ä¸­çš„å½±å“å› ç´ ã€‚ 12345678910111213141516171819 0 1 2 ... 6 7 80 0.721449 0.851304 0.764348 ... 0.848116 0.836232 0.8515941 0.712571 0.770095 0.768381 ... 0.808571 0.814476 0.7697142 0.806476 0.858286 0.844000 ... 0.837524 0.842095 0.8619053 0.818205 0.846154 0.870513 ... 0.854103 0.851538 0.8564104 0.495882 0.645000 0.575392 ... 0.700294 0.696961 0.6820595 0.720845 0.784695 0.757934 ... 0.818592 0.814554 0.7642256 0.521991 0.613175 0.576967 ... 0.637820 0.638768 0.6357357 0.676488 0.782634 0.677366 ... 0.799707 0.803220 0.8079028 0.782540 0.819153 0.817460 ... 0.810794 0.820106 0.8326989 0.906377 0.917005 0.916908 ... 0.920000 0.916908 0.92048310 0.484762 0.586667 0.511688 ... 0.642511 0.638182 0.61497811 0.683378 0.739111 0.730667 ... 0.785156 0.779111 0.75822212 0.637956 0.688356 0.688267 ... 0.670578 0.679467 0.68853313 0.528741 0.705778 0.642519 ... 0.723852 0.733333 0.69051914 0.736569 0.810686 0.774216 ... 0.818431 0.817647 0.81911815 0.490704 0.595869 0.573052 ... 0.724413 0.706291 0.63953116 0.666977 0.746202 0.727907 ... 0.754884 0.753488 0.76031017 0.595814 0.668372 0.650233 ... 0.676279 0.657209 0.696279 12345678910111213141516171819202122232425262728293031323334353637383940414243444546# -*- coding: utf-8 -*-# @Time : 2020/6/24# @Author : esyimport numpy as npimport pandas as pdimport matplotlib.pyplot as pltimport warnings# å¿½ç•¥è­¦å‘Šwarnings.filterwarnings(\"ignore\")# æœ€é«˜å‡†ç¡®ç‡æ—¶å¯¹åº”ç‰¹å¾æ•°ï¼Œå¯¹åº”çš„åˆ†ç±»å‡†ç¡®ç‡feature = pd.read_excel('E:/feature section' + '/feature_section_class' + '%s' % 1 + '.xlsx')data = pd.get_dummies(feature.iloc[0:len(feature), 1:])data.rename(columns=&#123;0: 'SGD', 1: 'SVM', 2: 'LSVM', 3: 'LR', 4: 'KNN', 5: 'DT', 6: 'RF', 7: 'GBT', 8: 'NN'&#125;, inplace=True)# ç»è¿‡1%ç‰ºç‰²åçš„åˆ†ç±»å‡†ç¡®ç‡section = pd.read_excel('E:/feature section' + '/features_section_class' + '%s' % 1 + '.xlsx')df = pd.get_dummies(section.iloc[0:len(section), 1:])df.rename(columns=&#123;0: 'SGD', 1: 'SVM', 2: 'LSVM', 3: 'LR', 4: 'KNN', 5: 'DT', 6: 'RF', 7: 'GBT', 8: 'NN'&#125;, inplace=True)x = np.arange(9)y1 = [(np.array([np.array(data).tolist()[i][j] * 100 for i in range(18)])).mean() for j in range(9)]y2 = [(np.array([np.array(df).tolist()[i][j] * 100 for i in range(18)])).mean() for j in range(9)]width = 0.4plt.rcParams['font.sans-serif'] = ['Microsoft YaHei']plt.rcParams['axes.unicode_minus'] = Falsefig, ax = plt.subplots(figsize=(7, 5))rects1 = ax.bar(x - width/2, y1, width, color='SkyBlue', label='Before dimensionality reduction')rects2 = ax.bar(x + width/2, y2, width, color='IndianRed', label='After dimensionality reduction')plt.xticks(x, (df.keys()), fontsize=10, rotation=0)plt.ylabel('Average Accuracy/%', fontsize=15)ax.set_title('DLRWä¸»é¢˜ä¸‹é™ç»´å‰åå‡†ç¡®ç‡å¯¹æ¯”', fontsize=15)ax.legend()plt.ylim((60, 95))new_ticks = np.linspace(60, 95, 5)plt.yticks(new_ticks, fontsize=10)for y in rects1+rects2: h = y.get_height() ax.text(y.get_x()+y.get_width()/2, h, '%.1f' % h, ha='center', va='bottom', fontsize=10)plt.show()fig.savefig('feature_class4_number.png', dpi=1600, bbox_inches='tight') æ„Ÿè§‰æ•ˆæœå¹¶ä¸å¥½ï¼Œè€ƒè™‘ä¸‹ä¸€ä¸ªæ­¥éª¤","categories":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/categories/work/"}],"tags":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/tags/work/"}]},{"title":"ç‰¹å¾æ•°çš„ç¡®å®š","slug":"sleep apnea and sleep stage/ç‰¹å¾æ•°çš„ç¡®å®š","date":"2020-06-24T01:42:09.000Z","updated":"2020-06-24T01:42:09.000Z","comments":true,"path":"2020/06/24/sleep apnea and sleep stage/ç‰¹å¾æ•°çš„ç¡®å®š/","link":"","permalink":"https://esyyes.github.io/2020/06/24/sleep%20apnea%20and%20sleep%20stage/%E7%89%B9%E5%BE%81%E6%95%B0%E7%9A%84%E7%A1%AE%E5%AE%9A/","excerpt":"","text":"ç‰¹å¾æ•°çš„ç¡®å®šç»è¿‡50æ¬¡å¹³å‡å€¼ç­›é€‰åï¼Œå¯çœ‹å‡ºå¯¹åº”3åˆ†æœŸæ—¶ï¼Œç‰¹å¾æ•°ä¸º15,4ã€5åˆ†æœŸçš„ç‰¹å¾æ•°éƒ½ä¸º23ï¼Œæ­¤æ—¶ä¸ºæœ€é«˜çš„ç‰¹å¾å€¼ã€‚ ä¸ºäº†ç¡®å®šç‰¹å¾æ•°å¯¹å‡†ç¡®ç‡çš„å½±å“ï¼Œç¬¬ä¸€ä¸ªæ–¹æ¡ˆ é€‰æ‹©(10-22)ä¸ªç‰¹å¾ï¼Œå°†æ¯ä¸ªç‰¹å¾éƒ½ç”¨äºåˆ†ç±»ï¼Œç„¶åå°†å¯¹æ¯”çœ‹çœ‹åˆ†ç±»çš„ç»“æœ ç‰¹å¾ç¼©å‡12345678910111213141516171819202122232425262728293031323334353637383940414243# -*- coding: utf-8 -*-# @Time : 2020/6/17# @Author : esyfrom data_preprocessing import *from sklearn.model_selection import train_test_splitfrom classifiers import *import warningswarnings.filterwarnings(\"ignore\")for index in range(10, 22): class_scores = [] kappa_scores = [] for i in range(1, 19): feature = pd.read_excel('D:/zccode/all_feature' + '/features' + '%s' % i + '.xlsx') data = pd.get_dummies(feature.iloc[0:len(feature), 1:]) note = pd.read_excel('D:/zccode/all_note' + '/note' + '%s' % i + '.xlsx') tag = pd.get_dummies(note.iloc[0:len(data), 1:]) # é€‰å®šå›ºå®šçš„ç‰¹å¾å€¼ feature_import = pd.read_excel('D:/zccode' + '/feature_important' + '%s' % 2 + '.xlsx') df = pd.get_dummies(feature_import.iloc[0:len(feature_import), 1:index]) std_data = data_pre(data[df.keys()]) label = pd.get_dummies(tag.iloc[0:len(data), 1:2]) class_score = [] kappa_score = [] for x in range(50): X_train, X_test, y_train, y_test = train_test_split(std_data, label, test_size=0.3) score = run_classifiers(X_train, X_test, y_train, y_test) class_score.append(score[0]) kappa_score.append(score[1]) class_scores.append([(np.array([class_score[a][k] for a in range(50)])).mean() for k in range(9)]) kappa_scores.append([(np.array([kappa_score[a][k] for a in range(50)])).mean() for k in range(9)]) print(f'å·²ç»è¿è¡Œ&#123;i&#125;æ¬¡') class_total = pd.DataFrame(class_scores) kappa_total = pd.DataFrame(kappa_scores) class_total.to_excel('no RFE classf' + '%d' % index + \".xlsx\") kappa_total.to_excel('no RFE kappaf' + '%d' % index + \".xlsx\") æ­¤æ¬¡æ–¹æ¡ˆï¼Œåœ¨è¿›è¡Œåˆ†ç±»æ—¶ï¼Œç›´æ¥é€‰ç”¨çš„æ˜¯å›ºå®šçš„ç‰¹å¾ï¼Œå³è¿­ä»£50æ¬¡ç‰¹å¾è´¡çŒ®åº¦ï¼Œå¹³å‡åçš„ç»“æœï¼Œç”¨å›ºå®šç‰¹å¾å¯¹åº”çš„ç‰¹å¾æ•°ï¼Œå»è¿›è¡Œåˆ†ç±»ã€‚ åˆ†ç±»æ¨¡å‹123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115# -*- coding: utf-8 -*-# @Time : 2020/6/15# @Author : esyfrom sklearn.ensemble import RandomForestClassifierfrom sklearn.ensemble import GradientBoostingClassifierfrom sklearn.neighbors import KNeighborsClassifierfrom sklearn.tree import DecisionTreeClassifierfrom sklearn.svm import SVCfrom sklearn.svm import LinearSVCfrom sklearn.linear_model import LogisticRegressionfrom sklearn.neural_network import MLPClassifierfrom sklearn.linear_model import SGDClassifierfrom sklearn.metrics import accuracy_scorefrom sklearn.metrics import cohen_kappa_scoredef run_rf(train_x, test_x, train_y, test_y): clf = RandomForestClassifier() clf.fit(train_x, train_y) pred_y = clf.predict(test_x) acr = accuracy_score(test_y, pred_y) kappa = cohen_kappa_score(test_y, pred_y) return [acr, kappa]def run_gbt(train_x, test_x, train_y, test_y): clf = GradientBoostingClassifier() clf.fit(train_x, train_y) pred_y = clf.predict(test_x) acr = accuracy_score(test_y, pred_y) kappa = cohen_kappa_score(test_y, pred_y) return [acr, kappa]def run_knn(train_x, test_x, train_y, test_y): clf = KNeighborsClassifier() clf.fit(train_x, train_y) pred_y = clf.predict(test_x) acr = accuracy_score(test_y, pred_y) kappa = cohen_kappa_score(test_y, pred_y) return [acr, kappa]def run_dt(train_x, test_x, train_y, test_y): clf = DecisionTreeClassifier() clf.fit(train_x, train_y) pred_y = clf.predict(test_x) acr = accuracy_score(test_y, pred_y) kappa = cohen_kappa_score(test_y, pred_y) return [acr, kappa]def run_svm(train_x, test_x, train_y, test_y): clf = SVC() clf.fit(train_x, train_y) pred_y = clf.predict(test_x) acr = accuracy_score(test_y, pred_y) kappa = cohen_kappa_score(test_y, pred_y) return [acr, kappa]def run_lsvm(train_x, test_x, train_y, test_y): clf = LinearSVC() clf.fit(train_x, train_y) pred_y = clf.predict(test_x) acr = accuracy_score(test_y, pred_y) kappa = cohen_kappa_score(test_y, pred_y) return [acr, kappa]def run_lr(train_x, test_x, train_y, test_y): clf = LogisticRegression() clf.fit(train_x, train_y) pred_y = clf.predict(test_x) acr = accuracy_score(test_y, pred_y) kappa = cohen_kappa_score(test_y, pred_y) return [acr, kappa]def run_ml(train_x, test_x, train_y, test_y): clf = MLPClassifier() clf.fit(train_x, train_y) pred_y = clf.predict(test_x) acr = accuracy_score(test_y, pred_y) kappa = cohen_kappa_score(test_y, pred_y) return [acr, kappa]def run_sgd(train_x, test_x, train_y, test_y): clf = SGDClassifier() clf.fit(train_x, train_y) pred_y = clf.predict(test_x) acr = accuracy_score(test_y, pred_y) kappa = cohen_kappa_score(test_y, pred_y) return [acr, kappa]# ç›´æ¥è¿è¡Œç»“æœdef run_classifiers(train_x, test_x, train_y, test_y): rf = run_rf(train_x, test_x, train_y, test_y) gbt = run_gbt(train_x, test_x, train_y, test_y) knn = run_knn(train_x, test_x, train_y, test_y) dt = run_dt(train_x, test_x, train_y, test_y) svm = run_svm(train_x, test_x, train_y, test_y) lsvm = run_lsvm(train_x, test_x, train_y, test_y) lr = run_lr(train_x, test_x, train_y, test_y) ml = run_ml(train_x, test_x, train_y, test_y) sgd = run_sgd(train_x, test_x, train_y, test_y) class_s = [sgd[0], svm[0], lsvm[0], lr[0], knn[0], dt[0], rf[0], gbt[0], ml[0]] kappa_s = [sgd[1], svm[1], lsvm[1], lr[1], knn[1], dt[1], rf[1], gbt[1], ml[1]] return [class_s, kappa_s] åˆ†ç±»æ¨¡å‹å¯¹åº”çš„ä¸ºä»¥ä¸‹9ç§ï¼Œå¹¶åˆ†åˆ«è®¡ç®—å‡ºçš„kappaå€¼ 1[sgd[0], svm[0], lsvm[0], lr[0], knn[0], dt[0], rf[0], gbt[0], ml[0]] æ–‡ä»¶ä¿å­˜ä¸ºï¼š E:\\sleep_stage ä¾‹å¦‚ï¼šno RFE class10.xlsx 10å…¶å®å¯¹åº”çš„æ˜¯9ï¼Œåœ¨indexä¸­ï¼Œè€Œä¸”ä¸ä¸€å®šå¯¹åº”çš„æ˜¯9è¿˜å¯èƒ½æ˜¯å¯¹åº”çš„8ï¼Œè¿™ç‚¹å¾…ä¼šå„¿è¿˜éœ€è¦æ£€éªŒä¸‹ï¼Œç›´æ¥è¿›è¡Œæœ€é«˜çš„å’Œç‰ºç‰²å¯¹æ¯”çš„ æ€»ç»“å¯¹æ¯”ç»“æœå‘ç°ï¼Œç‰¹å¾è¶Šå¤šï¼Œå‡†ç¡®ç‡è¶Šé«˜ï¼Œåœ¨å…¶ä»–åˆ†ç±»æ¨¡å‹ä¸­ï¼Œéšæœºæ£®æ—ç›¸å¯¹å˜åŒ–ä¸å¤§ æ–¹æ¡ˆäºŒæœ€å¤§å‡†ç¡®ç‡è™½ç„¶æ­¤æ—¶çš„maxå¯¹åº”çš„ç‰¹å¾æ•°å·²ç»ç¡®å®šï¼Œä½†æ˜¯å¯ä»¥æ˜æ˜¾çœ‹å‡ºï¼Œä»ç‰¹å¾æ•°7-9è¿™äº›å¼€å§‹å·²ç»æ²¡æœ‰å¤ªå¤šçš„æ˜æ˜¾å˜åŒ– æ‰€ä»¥ä¸ºäº†è¿›ä¸€æ­¥çš„ç¼©å‡ç‰¹å¾å€¼ï¼Œåœ¨æ­¤æ¬¡æ–¹æ¡ˆä¸­é‡‡å–ç‰ºç‰²1%çš„å‡†ç¡®ç‡ï¼Œæ¥é™ä½ç‰¹å¾æ•°çš„æ–¹é’ˆã€‚ 123456789101112131415161718192021222324252627# -*- coding: utf-8 -*-# @Time : 2020/6/24# @Author : esyimport pandas as pdimport numpy as npimport warnings# å¿½ç•¥è­¦å‘Šwarnings.filterwarnings(\"ignore\")all_section = []for q in range(3): data = pd.read_excel('E:/features' + '/themes' + '%s' % q + '.xlsx') train_data = np.array(data).tolist() list_mean = [[np.array([eval(train_data[i][k])[j] for k in range(50)]).mean() for j in range(25)] for i in range(18)] feature_section = [np.array([list_mean[j][i] * 100 for j in range(18)]).mean() for i in range(25)] all_section.append(feature_section)x = np.arange(1, 26)class_5 = all_section[0]class_4 = all_section[1]class_3 = all_section[2]class_num = [x[all_section[i].index(max(all_section[i]))] for i in range(3)]class_max = [max(all_section[i]) for i in range(3)] å…ˆæ‰¾åˆ°å¯¹åº”çš„æœ€å¤§å€¼å¯¹åº”çš„ä½ç½®class_numå’Œå€¼class_max [23, 23, 15] [79.64724146295774, 86.40048338502821, 89.03929260177847] æ¥ä¸ªåˆ¶è¡¨ç¬¦ï¼Œç›´æ¥è¾“å‡ºï¼Œè®©ä»–çœ‹èµ·æ¥å¥½çœ‹ç‚¹ 1234for i in range(3): print(f'åˆ†æœŸä¸º&#123;5-i&#125;æ—¶', end='\\t') print(f'æœ€é«˜å‡†ç¡®ç‡ä¸º%.2f%%' % max(all_section[i]), end='\\t') print(f'ç‰¹å¾æ•°ä¸º&#123;x[all_section[i].index(max(all_section[i]))]&#125;') è¾“å‡ºè¦%æ—¶ï¼Œå³ä¸º%% 123åˆ†æœŸä¸º5æ—¶ æœ€é«˜å‡†ç¡®ç‡ä¸º79.65% ç‰¹å¾æ•°ä¸º23åˆ†æœŸä¸º4æ—¶ æœ€é«˜å‡†ç¡®ç‡ä¸º86.40% ç‰¹å¾æ•°ä¸º23åˆ†æœŸä¸º3æ—¶ æœ€é«˜å‡†ç¡®ç‡ä¸º89.04% ç‰¹å¾æ•°ä¸º15 é™ä½1%åå¯¹åº”ç»“æœ12345678910print(f'å‡†ç¡®ç‡é™ä½1%åå¯¹åº”çš„ç‰¹å¾æ•°')for i in range(3): print(f'åˆ†æœŸä¸º&#123;5-i&#125;æ—¶', end='\\t') print(f'æœ€é«˜å‡†ç¡®ç‡ä¸º%.2f%%' % max(all_section[i]), end='\\t') print(f'æœ€é«˜å‡†ç¡®ç‡é™ä½1%%åä¸º%.2f%%' % (max(all_section[i]) * 0.99), end='\\t') for j in range(len(all_section[i])): if (max(all_section[i]) * 0.99) &lt; all_section[i][j]: print(f'æ¯”è¾ƒç­›é€‰çš„å‡†ç¡®ç‡ä¸º%.2f%%' % (all_section[i][j]), end='\\t') break print(f'ç‰¹å¾æ•°ä¸º&#123;x[all_section[i].index(all_section[i][j])]&#125;') 12345678æœ€å¤§å‡†ç¡®ç‡æ—¶å¯¹åº”çš„ç‰¹å¾æ•°åˆ†æœŸä¸º5æ—¶ æœ€é«˜å‡†ç¡®ç‡ä¸º79.65% ç‰¹å¾æ•°ä¸º23åˆ†æœŸä¸º4æ—¶ æœ€é«˜å‡†ç¡®ç‡ä¸º86.40% ç‰¹å¾æ•°ä¸º23åˆ†æœŸä¸º3æ—¶ æœ€é«˜å‡†ç¡®ç‡ä¸º89.04% ç‰¹å¾æ•°ä¸º15å‡†ç¡®ç‡é™ä½1%åå¯¹åº”çš„ç‰¹å¾æ•°åˆ†æœŸä¸º5æ—¶ æœ€é«˜å‡†ç¡®ç‡ä¸º79.65% æœ€é«˜å‡†ç¡®ç‡é™ä½1%åä¸º78.85% æ¯”è¾ƒç­›é€‰çš„å‡†ç¡®ç‡ä¸º78.86% ç‰¹å¾æ•°ä¸º9åˆ†æœŸä¸º4æ—¶ æœ€é«˜å‡†ç¡®ç‡ä¸º86.40% æœ€é«˜å‡†ç¡®ç‡é™ä½1%åä¸º85.54% æ¯”è¾ƒç­›é€‰çš„å‡†ç¡®ç‡ä¸º85.66% ç‰¹å¾æ•°ä¸º8åˆ†æœŸä¸º3æ—¶ æœ€é«˜å‡†ç¡®ç‡ä¸º89.04% æœ€é«˜å‡†ç¡®ç‡é™ä½1%åä¸º88.15% æ¯”è¾ƒç­›é€‰çš„å‡†ç¡®ç‡ä¸º88.22% ç‰¹å¾æ•°ä¸º7","categories":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/categories/work/"}],"tags":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/tags/work/"}]},{"title":"ç»˜åˆ¶ç‰¹å¾é‡è¦åº¦ç­›é€‰ç»“æœ","slug":"sleep apnea and sleep stage/ç»˜åˆ¶ç‰¹å¾é‡è¦åº¦ç­›é€‰ç»“æœ","date":"2020-06-24T00:59:32.000Z","updated":"2020-06-24T00:59:32.000Z","comments":true,"path":"2020/06/24/sleep apnea and sleep stage/ç»˜åˆ¶ç‰¹å¾é‡è¦åº¦ç­›é€‰ç»“æœ/","link":"","permalink":"https://esyyes.github.io/2020/06/24/sleep%20apnea%20and%20sleep%20stage/%E7%BB%98%E5%88%B6%E7%89%B9%E5%BE%81%E9%87%8D%E8%A6%81%E5%BA%A6%E7%AD%9B%E9%80%89%E7%BB%93%E6%9E%9C/","excerpt":"","text":"ç»˜åˆ¶ç‰¹å¾é‡è¦åº¦ç­›é€‰ç»“æœåŸºäºå…¨éƒ¨ç‰¹å¾çš„æå–å’Œæ ‡ç­¾å¤„ç†ï¼Œåˆæ­¥è®¾å®šRFE-RFç­›é€‰ç‰¹å¾æ—¶ï¼Œè®¾å®šçš„é‡è¦åº¦ä¸­çš„ç‰¹å¾ä¸ªæ•°indexä¸º26ï¼Œå³åœ¨25ä¸ªç‰¹å¾ä¹‹é—´è¿›è¡Œæ’æŸ¥ã€‚ è¾“å‡ºç‰¹å¾é‡è¦åº¦12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849# -*- coding: utf-8 -*-# @Time : 2020/6/12# @Author : esyfrom data_preprocessing import *from sklearn.model_selection import train_test_splitfrom sklearn.ensemble import RandomForestClassifierfrom sklearn.feature_selection import RFEfrom sklearn.metrics import accuracy_scoreimport warningswarnings.filterwarnings(\"ignore\")def run_rf(xtrain, xtest, ytrain, ytest): clf = RandomForestClassifier() clf.fit(xtrain, ytrain) ypred = clf.predict(xtest) sad = accuracy_score(ytest, ypred) return sadfor k in range(3): print(f'åœ¨æ ‡ç­¾&#123;k&#125;ä¸‹çš„ç‰¹å¾æ–‡ä»¶') se = [] for i in range(1, 19): feature = pd.read_excel('D:/zccode/all_feature' + '/features' + '%s' % i + '.xlsx') data = pd.get_dummies(feature.iloc[0:len(feature), 1:]) note = pd.read_excel('D:/zccode/all_note' + '/note' + '%s' % i + '.xlsx') tag = pd.get_dummies(note.iloc[0:len(data), 1:]) df = data_pre(data) label = pd.get_dummies(tag.iloc[0:len(data), k:k+1]) acr = [] for j in range(50): X_train, X_test, y_train, y_test = train_test_split(df, label, test_size=0.3) score = [] for index in range(1, 26): sel = RFE(RandomForestClassifier(random_state=0), n_features_to_select=index) sel.fit(X_train, y_train) X_train_rfe = sel.transform(X_train) X_test_rfe = sel.transform(X_test) score.append(run_rf(X_train_rfe, X_test_rfe, y_train, y_test)) acr.append(score) print(f'æ£€æµ‹æ–‡ä»¶æ•°ä¸ºï¼š%2d' % i, end='\\t') se.append(acr) print() sea = pd.DataFrame(se) sea.to_excel('themes' + '%d' % k + \".xlsx\") print(f'è¿è¡Œä¸»é¢˜&#123;k&#125;æ¬¡') è¿™ä¸ªåŒºé—´å°±ä¸º(1, 26) è¿›è¡Œäº†50æ¬¡å¾ªç¯ç­›é€‰ï¼Œç„¶åä¿å­˜ä¸ºæ–‡ä»¶ä¸ºthemes012,å¯¹åº”ä¸ºåˆ†æœŸç»“æœ543 ä¿å­˜åœ¨ï¼š E:\\features\\themes012 ç»˜åˆ¶50æ¬¡å¹³å‡é‡è¦åº¦å¯¹åº”å‡†ç¡®ç‡1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253# -*- coding: utf-8 -*-# @Time : 2020/6/18# @Author : esyimport pandas as pdimport numpy as npimport matplotlib.pyplot as pltimport warnings# å¿½ç•¥è­¦å‘Šwarnings.filterwarnings(\"ignore\")all_section = []for q in range(3): data = pd.read_excel('E:/features' + '/themes' + '%s' % q + '.xlsx') train_data = np.array(data).tolist() list_mean = [[np.array([eval(train_data[i][k])[j] for k in range(50)]).mean() for j in range(25)] for i in range(18)] feature_section = [np.array([list_mean[j][i] * 100 for j in range(18)]).mean() for i in range(25)] all_section.append(feature_section)x = np.arange(1, 26)class_5 = all_section[0]class_4 = all_section[1]class_3 = all_section[2]fig = plt.figure(figsize=(7, 4))# è§£å†³ä¸­æ–‡æ˜¾ç¤ºé—®é¢˜plt.rcParams['font.sans-serif'] = ['Microsoft YaHei']plt.rcParams['axes.unicode_minus'] = Falseplt.xticks(x)plt.plot(x, class_5, \"k*--\", linewidth=1, label='class_5')plt.plot(x, class_4, \"bo--\", linewidth=1, label='class_5')plt.plot(x, class_3, \"ro--\", linewidth=1, label='class_5')for i in range(3): plt.scatter(x[all_section[i].index(max(all_section[i]))], max(all_section[i]), s=100, color='r') plt.text(x[all_section[i].index(max(all_section[i]))], max(all_section[i])-2, r's', fontdict=&#123;'size': '10', 'color': 'k'&#125;)plt.xlabel(\"Number of Features\", fontsize=10)plt.xticks(fontsize=8)plt.ylabel(\"Average Accuracy of RF/%\", fontsize=10)plt.yticks(fontsize=8)plt.legend()ax = plt.gca()ax.spines['right'].set_color('none')ax.spines['top'].set_color('none')plt.show()fig.savefig('features_section.png', dpi=1980, bbox_inches='tight')# dpiå¯ä»¥æ§åˆ¶å›¾è±¡çš„åˆ†è¾¨ç‡,bbox_incheså¯ä»¥å‰ªé™¤å›¾è¡¨çš„ç©ºç™½éƒ¨åˆ† ç»è¿‡50æ¬¡å¹³å‡å€¼ç­›é€‰åï¼Œå¯çœ‹å‡ºå¯¹åº”3åˆ†æœŸæ—¶ï¼Œç‰¹å¾æ•°ä¸º15,4ã€5åˆ†æœŸçš„ç‰¹å¾æ•°éƒ½ä¸º23ï¼Œæ­¤æ—¶ä¸ºæœ€é«˜çš„ç‰¹å¾å€¼ã€‚ hexo æ’å…¥æœ¬åœ°å›¾ç‰‡!ã€ã€‘ç”¨è¿™ä¸ªå½¢å¼ï¼Œä½†æ˜¯æ ¹ç›®å½•å’Œæ’å…¥çš„ç›®å½•çš„ä¸èƒ½å†è¿›è¡Œé‡å ï¼Œä¸”æ–œæ ä¸º/images/features_section.png ç”¨è¿™ä¸ªå½¢å¼ç›¸åŒçš„é“ç†ï¼Œä¸Šé¢é‚£ä¸ªå¥½ç”¨ç‚¹ ï¼ã€ã€‘ï¼ˆhttp://pic1.win4000.com/wallpaper/1/5993ff70bfac7.jpgï¼‰","categories":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/categories/work/"}],"tags":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/tags/work/"}]},{"title":"é‡è¦ç‰¹å¾æŸ¥çœ‹","slug":"sleep apnea and sleep stage/é‡è¦ç‰¹å¾æŸ¥çœ‹","date":"2020-06-18T08:24:02.000Z","updated":"2020-06-18T08:24:02.000Z","comments":true,"path":"2020/06/18/sleep apnea and sleep stage/é‡è¦ç‰¹å¾æŸ¥çœ‹/","link":"","permalink":"https://esyyes.github.io/2020/06/18/sleep%20apnea%20and%20sleep%20stage/%E9%87%8D%E8%A6%81%E7%89%B9%E5%BE%81%E6%9F%A5%E7%9C%8B/","excerpt":"","text":"é‡è¦ç‰¹å¾æŸ¥çœ‹ç›®çš„ï¼šå°†ç¡çœ åˆ†æœŸä¸­çš„345é˜¶æ®µçš„ç¡çœ åˆ†æœŸç»“æœè¿›è¡Œæ¯”è¾ƒï¼ŒæŸ¥çœ‹ç‰¹å¾å¯¹ç¡çœ åˆ†æœŸçš„å½±å“, ç­›é€‰å‡ºç‰¹å¾è´¡çŒ®åº¦æœ€é«˜çš„é‚£å‡ ä¸ªï¼Œè¿›è¡ŒæŸ¥çœ‹ ç¨‹åºï¼šåˆ©ç”¨è¡¨æ ¼å½¢å¼è¾“å‡ºç‰¹å¾çš„æ’åº 12345678910111213141516171819202122232425# -*- coding: utf-8 -*-# @Time : 2020/6/18# @Author : esy# é€‰å®šå›ºå®šçš„ç‰¹å¾å€¼import pandas as pdimport warnings# å¿½ç•¥è­¦å‘Šwarnings.filterwarnings(\"ignore\")for h in range(1, 4): feature_import = pd.read_excel('E:/features' + '/feature_important' + '%s' % h + '.xlsx') df = pd.get_dummies(feature_import.iloc[0:len(feature_import), 1:23]) data = df.T print(f'åˆ—å†™ç‰¹å¾é‡è¦åº¦æ’åº', end='\\t') print() print(f'åºå·', end='\\t\\t') print(f'ç‰¹å¾', end='\\t\\t') print(f'é‡è¦åº¦') for i in range(22): print(f'%2d' % i, end='\\t') print(f'%10s' % df.keys()[i], end='\\t') print(f'%0.3f' % data[0][i]) 1234567891011121314151617181920212223åºå· ç‰¹å¾ é‡è¦åº¦ 0 5pNN20 0.021 1 5NN20 0.021 2 5pNN50 0.019 3 5NN50 0.019 4 5p_RMSSD 0.018 5 5p_var 0.018 6 5csi50 0.017 7 5csi30 0.017 8 5csi10 0.017 9 5HF 0.01710 5p_skew 0.01711 5p_SDNN 0.01712 5p_median 0.01713 5R_mean 0.01614 5HR_mean 0.01615 5p_RMS 0.01516 5p_mean 0.01517 5p_max 0.01418 5R_median 0.01419 5apen 0.01420 5p_peak_factor 0.01421 5csi100 0.014 1234567891011121314151617181920212223åºå· ç‰¹å¾ é‡è¦åº¦ 0 5NN20 0.024 1 5pNN20 0.023 2 5pNN50 0.023 3 5NN50 0.022 4 5p_skew 0.020 5 5HF 0.018 6 5p_median 0.017 7 5R_mean 0.016 8 5p_SDNN 0.016 9 5p_var 0.01610 5p_RMS 0.01611 5csi10 0.01612 5p_RMSSD 0.01613 5R_CVSD 0.01614 5p_max 0.01615 5csi50 0.01616 5R_SDSD 0.01517 5p_mean 0.01518 5sd1 0.01519 5R_RMSSD 0.01520 5HR_min 0.01521 5apen 0.015 1234567891011121314151617181920212223åºå· ç‰¹å¾ é‡è¦åº¦ 0 5pNN20 0.026 1 5NN20 0.025 2 5pNN50 0.023 3 5NN50 0.021 4 5R_mean 0.019 5 5p_skew 0.019 6 5HF 0.018 7 5HR_min 0.017 8 5p_median 0.017 9 5R_median 0.01710 5apen 0.01711 5HR_mean 0.01712 5p_RMSSD 0.01613 5R_CVSD 0.01614 5csi10 0.01615 5p_SDNN 0.01616 5p_RMS 0.01617 5p_max 0.01618 5p_var 0.01519 5p_mean 0.01520 5R_SDSD 0.01521 5R_RMSSD 0.015 æ’åºé¡ºåºä¸º543åˆ†ç±» ç›´æ¥ç”¨ä¸€ä¸ªè¡Œè¡¨æ ¼ä¸å°±è¡Œäº†å˜›ã€‚ã€‚ã€‚ 123456789101112131415161718192021222324252627282930313233# -*- coding: utf-8 -*-# @Time : 2020/6/18# @Author : esy# é€‰å®šå›ºå®šçš„ç‰¹å¾å€¼import pandas as pdimport warnings# å¿½ç•¥è­¦å‘Šwarnings.filterwarnings(\"ignore\")# for h in range(1, 4):# feature_import = pd.read_excel('E:/features' + '/feature_important' + '%s' % h + '.xlsx')# df = pd.get_dummies(feature_import.iloc[0:len(feature_import), 1:23])# data = df.T# print(f'åˆ—å†™ç‰¹å¾é‡è¦åº¦æ’åº', end='\\t')# print()# print(f'åºå·', end='\\t\\t')# print(f'ç‰¹å¾', end='\\t\\t')# print(f'é‡è¦åº¦')# for i in range(22):# print(f'%2d' % i, end='\\t')# print(f'%10s' % df.keys()[i], end='\\t')# print(f'%0.3f' % data[0][i])for i in range(22): for h in range(1, 4): feature_import = pd.read_excel('E:/features' + '/feature_important' + '%s' % h + '.xlsx') df = pd.get_dummies(feature_import.iloc[0:len(feature_import), 1:23]) data = df.T print(f'%15s' % df.keys()[i], end='\\t') print() 1234567891011121314151617181920212223 5æœŸ 4æœŸ 3æœŸ 5pNN20 5NN20 5pNN20 5NN20 5pNN20 5NN20 5pNN50 5pNN50 5pNN50 5NN50 5NN50 5NN50 5p_RMSSD 5p_skew 5R_mean 5p_var 5HF 5p_skew 5csi50 5p_median 5HF 5csi30 5R_mean 5HR_min 5csi10 5p_SDNN 5p_median 5HF 5p_var 5R_median 5p_skew 5p_RMS 5apen 5p_SDNN 5csi10 5HR_mean 5p_median 5p_RMSSD 5p_RMSSD 5R_mean 5R_CVSD 5R_CVSD 5HR_mean 5p_max 5csi10 5p_RMS 5csi50 5p_SDNN 5p_mean 5R_SDSD 5p_RMS 5p_max 5p_mean 5p_max 5R_median 5sd1 5p_var 5apen 5R_RMSSD 5p_mean 5p_peak_factor 5HR_min 5R_SDSD 5csi100 5apen 5R_RMSSD","categories":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/categories/work/"}],"tags":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/tags/work/"}]},{"title":"å…¨éƒ¨ç‰¹å¾çš„æå–å’Œæ ‡ç­¾å¤„ç†","slug":"sleep apnea and sleep stage/å…¨éƒ¨ç‰¹å¾çš„æå–å’Œæ ‡ç­¾å¤„ç†","date":"2020-06-11T08:49:41.000Z","updated":"2020-06-11T08:49:41.000Z","comments":true,"path":"2020/06/11/sleep apnea and sleep stage/å…¨éƒ¨ç‰¹å¾çš„æå–å’Œæ ‡ç­¾å¤„ç†/","link":"","permalink":"https://esyyes.github.io/2020/06/11/sleep%20apnea%20and%20sleep%20stage/%E5%85%A8%E9%83%A8%E7%89%B9%E5%BE%81%E7%9A%84%E6%8F%90%E5%8F%96%E5%92%8C%E6%A0%87%E7%AD%BE%E5%A4%84%E7%90%86/","excerpt":"","text":"å…¨éƒ¨ç‰¹å¾çš„æå–å’Œæ ‡ç­¾å¤„ç†æå–5åˆ†é’Ÿç‰‡æ®µçš„ç‰¹å¾ï¼Œå¹¶è¿›è¡Œæ»‘çª—åˆ‡ç‰‡ï¼Œä»¥30sä¸ºçª—å£ï¼Œ5minä¸ºæ­¥é•¿ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465# -*- coding: utf-8 -*-# @Time : 2020/6/11# @Author : esy# å°†5åˆ†é’Ÿçš„æ•°æ®è¿›è¡Œ30sçª—å£çš„æ»‘çª—åˆ‡ç‰‡ï¼Œç„¶åè¿›è¡Œè¾“å‡ºä¸ºlist# 5minçš„è¿›è¡Œå•ç‹¬çš„åˆ†æï¼Œç„¶åè¿›è¡Œæ—¶é¢‘åŸŸå’Œéçº¿æ€§çš„åˆ†æimport wfdbfrom wfdb import processing# import numpy as npimport warningsfrom peaks_time_features import *from time_domain import *from frequency_domain import *from HRV_interp1 import *from nonliner_domain import *from eliminate_outliers import *# å¿½ç•¥è­¦å‘Šwarnings.filterwarnings(\"ignore\")test = 'slp01a'record = wfdb.rdrecord('F:/slpdb_data/mitdata' + '/%s' % test, channels=[0])annotation = wfdb.rdann('F:/slpdb_data/mitdata' + '/%s' % test, 'ecg')ecg_signal = record.p_signalecg_locs = annotation.sample.tolist()ecg_locs.pop(0)min_bpm = 40max_bpm = 200search_radius = int(record.fs * 60 / max_bpm)ecg_r_locs1 = processing.correct_peaks(ecg_signal[:, 0], peak_inds=ecg_locs, search_radius=search_radius, smooth_window_size=100)# ecg_r_locså¼‚å¸¸ç‚¹å¤„ç†ecg_r_locs = eliminate(ecg_r_locs1)# ecg_r_peakså³°å€¼ç‚¹è·å–ecg_r_peaks = [ecg_signal[int(ecg_r_locs[i])][0] for i in range(len(ecg_r_locs))]all_RR_5m = []all_locs_5m = []all_peaks_5m = []for i in range(int(record.sig_len/record.fs/30 - 11)): RR_300s = [] locs_300s = [] peaks_300s = [] for j in range(len(ecg_r_locs)): if (30*record.fs*i) &lt;= ecg_r_locs[j] &lt;= (30*record.fs*(i+10)): locs_300s.append(ecg_r_locs[j]) RR_300s.append((ecg_r_locs[j+1] - ecg_r_locs[j]) * 4) peaks_300s.append(ecg_r_peaks[j][0]) else: pass RR_300s.pop() all_RR_5m.append(RR_300s) all_locs_5m.append(locs_300s) all_peaks_5m.append(peaks_300s)# ECG_Rpeaks_features = [peaks_time_feature(all_peaks_300s[i]) for i in range(len(all_peaks_300s))]# HRVhrv_time = [time_features(all_RR_300s[i]) for i in range(len(all_RR_300s))]hrv_freq = [getfreq(resample(hrv_interp1(all_locs_300s[i], all_RR_300s[i], 1), 250, 4)) for i in range(len(all_RR_300s))]hrv_nonl = [non_linear(np.array(all_RR_300s[i])) for i in range(len(all_RR_30s))]features = [peaks_features[i] + hrv_time[i] + hrv_freq[i] + hrv_nonl[i] for i in range(len(all_RR_300s))] ç‰¹å¾é‡è¦åº¦123456789101112131415161718192021222324252627282930# -*- coding: utf-8 -*-# @Time : 2020/6/11# @Author : esyfrom data_preprocessing import *from sklearn.model_selection import train_test_splitfrom sklearn.ensemble import RandomForestClassifierfrom sklearn.feature_selection import SelectFromModelimport warningswarnings.filterwarnings(\"ignore\")for i in range(1, 19): feature = pd.read_excel('F:/py/python-ECGä¿¡å·å¤„ç†/all_feature' + '/features' + '%s' % i + '.xlsx') data = pd.get_dummies(feature.iloc[0:len(feature), 1:]) note = pd.read_excel('F:/py/python-ECGä¿¡å·å¤„ç†/all_note' + '/note' + '%s' % i + '.xlsx') tag = pd.get_dummies(note.iloc[0:len(data), 1:]) # æ•°æ®é¢„å¤„ç† df = data_pre(data) label = pd.get_dummies(tag.iloc[0:len(data), -2:-1]) X = df Y = label X_train, X_test, y_train, y_test = train_test_split(X, Y, test_size=0.3) sel = SelectFromModel(RandomForestClassifier(n_jobs=-1)) sel.fit(X_train, y_train) features = X_train.columns[sel.get_support()] print(f'%2d é‡è¦ç‰¹å¾æ•°ä¸ºï¼š&#123;len(features)&#125;' %i, end='\\t') print() 1 é‡è¦ç‰¹å¾æ•°ä¸ºï¼š26 2 é‡è¦ç‰¹å¾æ•°ä¸ºï¼š30 3 é‡è¦ç‰¹å¾æ•°ä¸ºï¼š24 4 é‡è¦ç‰¹å¾æ•°ä¸ºï¼š34 5 é‡è¦ç‰¹å¾æ•°ä¸ºï¼š42 6 é‡è¦ç‰¹å¾æ•°ä¸ºï¼š32 7 é‡è¦ç‰¹å¾æ•°ä¸ºï¼š40 8 é‡è¦ç‰¹å¾æ•°ä¸ºï¼š34 9 é‡è¦ç‰¹å¾æ•°ä¸ºï¼š2110 é‡è¦ç‰¹å¾æ•°ä¸ºï¼š2511 é‡è¦ç‰¹å¾æ•°ä¸ºï¼š4112 é‡è¦ç‰¹å¾æ•°ä¸ºï¼š2913 é‡è¦ç‰¹å¾æ•°ä¸ºï¼š2614 é‡è¦ç‰¹å¾æ•°ä¸ºï¼š3215 é‡è¦ç‰¹å¾æ•°ä¸ºï¼š3016 é‡è¦ç‰¹å¾æ•°ä¸ºï¼š3717 é‡è¦ç‰¹å¾æ•°ä¸ºï¼š2118 é‡è¦ç‰¹å¾æ•°ä¸ºï¼š27 è¿˜æ˜¯é€‰æ‹©25ä¸ªä½œä¸ºç‰¹å¾é‡è¦åº¦ç­›é€‰","categories":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/categories/work/"}],"tags":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/tags/work/"}]},{"title":"hexoç›¸å…³å­¦ä¹ ","slug":"hexo/hexoç›¸å…³å­¦ä¹ ","date":"2020-06-10T06:45:26.000Z","updated":"2020-06-10T06:45:26.000Z","comments":true,"path":"2020/06/10/hexo/hexoç›¸å…³å­¦ä¹ /","link":"","permalink":"https://esyyes.github.io/2020/06/10/hexo/hexo%E7%9B%B8%E5%85%B3%E5%AD%A6%E4%B9%A0/","excerpt":"","text":"hexoç›¸å…³å­¦ä¹ hexo -ä¸»é¢˜åˆ‡æ¢ https://github.com/ZEROKISEKI/hexo-theme-gal çœ‹ä¸­äº†galè¿™ä¸ªä¸»é¢˜ ä¸‹è½½æ”¾å…¥themesæ–‡ä»¶å¤¹ä¸‹,æ›´åä¸ºgai hexo s,æŸ¥çœ‹æ•ˆæœ","categories":[{"name":"hexo","slug":"hexo","permalink":"https://esyyes.github.io/categories/hexo/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"https://esyyes.github.io/tags/hexo/"}]},{"title":"hexo-æ— æ³•ç™»é™†github","slug":"hexo/hexo-æ— æ³•ç™»é™†github","date":"2020-06-10T01:16:51.000Z","updated":"2020-06-10T01:16:51.000Z","comments":true,"path":"2020/06/10/hexo/hexo-æ— æ³•ç™»é™†github/","link":"","permalink":"https://esyyes.github.io/2020/06/10/hexo/hexo-%E6%97%A0%E6%B3%95%E7%99%BB%E9%99%86github/","excerpt":"","text":"hexo-æ— æ³•ç™»é™†githubTyporaè¿›å…¥å…¨å±æ¨¡å¼æŒ‰F11è¿›å…¥å’Œé€€å‡º hexoæ— æ³•ä¸Šä¼ åšå®¢githubæ— æ³•è®¿é—®ä¸»è¦ä¿®æ”¹hostæ–‡ä»¶ï¼Œå»è®¿é—®IP ç›´æ¥Cç›˜è¾“å…¥ C:\\Windows\\System32\\drivers\\etc æ‰¾hostsæ–‡ä»¶ æ£€æµ‹DNSæ‰€åœ¨åœ°çš„IP http://tool.chinaz.com/dns?type=1&amp;host=github.com&amp;ip= åœ¨hostsæ–‡ä»¶ä¸­è¾“å…¥ipå“åº”çš„ipåœ°å€åŠ github.com 192.30.253.112 github.com 13.229.188.59 github.com 140.82.114.4 github.com","categories":[{"name":"hexo","slug":"hexo","permalink":"https://esyyes.github.io/categories/hexo/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"https://esyyes.github.io/tags/hexo/"}]},{"title":"æ•°æ®é¢„å¤„ç†","slug":"sleep apnea and sleep stage/æ•°æ®é¢„å¤„ç†","date":"2020-06-09T02:48:46.000Z","updated":"2020-06-09T02:48:46.000Z","comments":true,"path":"2020/06/09/sleep apnea and sleep stage/æ•°æ®é¢„å¤„ç†/","link":"","permalink":"https://esyyes.github.io/2020/06/09/sleep%20apnea%20and%20sleep%20stage/%E6%95%B0%E6%8D%AE%E9%A2%84%E5%A4%84%E7%90%86/","excerpt":"","text":"æ•°æ®é¢„å¤„ç†å¯¹ç‰¹å¾æ•°æ®è¿›è¡Œé¢„å¤„ç†ï¼Œé¦–å…ˆè¿›è¡Œç¼ºçœå€¼æ’è¡¥ï¼Œç„¶åå†è¿›è¡Œæ ‡å‡†åŒ– ç¼ºçœå€¼æ’è¡¥é¦–å…ˆå°†infæ•°æ®è½¬æ¢ä¸ºnan 12# å°†infæ•°æ®è½¬æ¢ä¸ºnandf = data.replace([np.inf, -np.inf], np.nan) pdç›´æ¥å°†ç©ºæ ¼è½¬æ¢ä¸ºnanæ‰€ä»¥åªéœ€è¦å°†nanè½¬æ¢ä¸ºå‡å€¼ä¸­å€¼ç­‰å°±è¡Œ 12# æŸ¥çœ‹æ¯ä¸€åˆ—ç¼ºå¤±å€¼çš„æ•°é‡num = df.isnull().sum() é‡‡ç”¨å‡å€¼æ’è¡¥ 1234567for i in range(len(num)): if num[i] &gt; 0: # å°±éœ€è¦è¿›è¡Œå‡å€¼å¡«å…… values = df[df.keys()[i]].mean() df[df.keys()[i]].fillna(value=values, inplace=True) else: pass 123456789101112131415161718192021222324252627282930313233343536# æŸ¥çœ‹æ¯ä¸€åˆ—æ•°æ®é‡å’Œæ•°æ®ç±»å‹# df.info()# def fillna(# self,# value=None,# method=None,# axis=None,# inplace=False,# limit=None,# downcast=None,# **kwargs# ):# return super().fillna(# value=value,# method=method,# axis=axis,# inplace=inplace,# limit=limit,# downcast=downcast,# **kwargs# )# https://blog.csdn.net/qq_43542339/article/details/105098235?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.nonecase&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.nonecase# df['åˆ—å1'].fillna(value = 30ï¼Œinplace=True)# # value = 30ï¼Œç”¨30å¡«è¡¥ç©ºå€¼# # value = df['åˆ—å1'].mean() å‡å€¼å¡«å……# # value = df['åˆ—å1'].median() ä¸­ä½æ•°å¡«å……# # value = df.Mer_min_distance.mode()[0] ä¼—æ•°å¡«å……# df['åˆ—å1'].fillna(method = 'pad',inplace=True)# methodå‚æ•°å–å€¼ï¼š&#123;â€˜padâ€™, â€˜ffillâ€™,â€˜backfillâ€™, â€˜bfillâ€™, None&#125;ï¼Œä½¿ç”¨è¿‡ç¨‹ä¸­å› ä¸ºå¯¹ipadå¾ˆç†Ÿæ‚‰ï¼Œæ•…å¸¸å¸¸ç”¨ 'padâ€™å¡«å……## â€˜padâ€™ or â€˜ffillâ€™ : ç”¨å‰ä¸€ä¸ªéç¼ºå¤±å€¼å¡«å……# â€˜backfillâ€™ or â€˜bfillâ€™ï¼šç”¨åä¸€ä¸ªéç¼ºå¤±å€¼å¡«å……# â€˜Noneâ€™ or default : é»˜è®¤é‡‡ç”¨å›ºå®šå€¼å¡«å…… 1234# å°†ç¼ºçœå€¼å€¼æ›¿æ¢ä¸ºnan# è½¬æ¢å’Œå‡å€¼ï¼Œéœ€è¦ä¸€ä¸ªæ•°æ®æ¥è¿›è¡Œå‚è€ƒï¼Œæ²¡åŠæ³•ç›´æ¥è¿›è¡Œè¿è¡Œï¼Œæ‰€ä»¥è¿˜æ˜¯é‡‡ç”¨fillnaè¿›è¡Œ# imp = SimpleImputer(missing_values=np.nan, strategy='mean')# data = imp.fit(df) 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117# -*- coding: utf-8 -*-# @Time : 2020/6/9# @Author : esy\"\"\"å¯¹inf,nanæ•°æ®é‡‡ç”¨å‡å€¼æ’è¡¥ç¼ºçœå€¼æ’è¡¥ï¼Œç„¶åå†è¿›è¡Œz-score\"\"\"import pandas as pdimport numpy as np# ç¼ºå¤±å€¼æ’è¡¥# from sklearn.impute import SimpleImputerfrom sklearn import preprocessingimport warningswarnings.filterwarnings(\"ignore\")feature = pd.read_excel('F:/py/python-ECGä¿¡å·å¤„ç†/features_data' + '/slp' + '%s' % 1 + '.xlsx')data = pd.get_dummies(feature.iloc[0:len(feature), 1:])# ç¼ºçœå€¼æ’è¡¥ï¼Œé‡‡ç”¨å‡å€¼æ’è¡¥\"\"\"1.æ•°æ®ä¸­æœ‰infæ•°æ®ï¼Œå°†å…¶è½¬æ¢ä¸ºnan,ç„¶åç”¨å‡å€¼æ’è¡¥2.å°†nanå’Œé—å¤±æ•°æ®ç”¨å‡å€¼æ’è¡¥# ç¼ºå¤±å€¼æ’è¡¥ï¼Œç”¨è¿™ä¸ªåº“from sklearn.impute import SimpleImputerSimpleImputer(add_indicator=False, copy=True, fill_value=None, missing_values=nan, strategy='mean', verbose=0) missing_values=nanå¯ä»¥ç”¨è‡ªå·±æƒ³è¦çš„å¡«å…… strategy='mean' ç¼ºçœå€¼æ’è¡¥å¡«å……çš„å†…å®¹ï¼šmean median, most_frequentæ•°æ®æ˜¯è¿ç»­å‹ï¼Œç”¨å‡å€¼å¡«å……æ•°æ®æ˜¯åˆ†ç±»å‹ï¼Œç”¨çºµæ•°å¡«å……åˆ©ç”¨ctrl+tabå†ç‚¹å‡»å‡½æ•°æŸ¥çœ‹å‡½æ•°\"\"\"\"\"\"é¢„å¤„ç†æ–¹æ³•ï¼šhttps://blog.csdn.net/Bryan__/article/details/51228971https://blog.csdn.net/luanpeng825485697/article/details/79845629?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.nonecase&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.nonecase\"\"\"# Serieså’ŒDataFrameéƒ½ä¼šè‡ªåŠ¨æŠŠNoneè½¬æ¢æˆNaN ç„¶å è¿ç®—çš„æ—¶å€™ä¼šæŠŠNaNå½“æˆ0,ç›´æ¥è¿›è¡Œäº†å¡«å……ï¼Œç„¶åé¦–å…ˆå°†infè½¬æ¢ä¸ºnanå°±è¡Œ# å°†infæ•°æ®è½¬æ¢ä¸ºnandf = data.replace([np.inf, -np.inf], np.nan)# å…¶ä»–æ„è§è‡ªåŠ¨å¡«å……ä¸ºnanï¼Œç©ºæ ¼ç¼ºçœç›´æ¥å¡«å……nan# ç”¨fillnaç›´æ¥è¿›è¡Œå¡«å……# data.fillna()# df['åˆ—å1'].fillna(value = 30ï¼Œinplace=True)# df.fillna(value=, axis=1)# æŸ¥çœ‹æ¯ä¸€åˆ—ç¼ºå¤±å€¼çš„æ•°é‡num = df.isnull().sum()for i in range(len(num)): if num[i] &gt; 0: # å°±éœ€è¦è¿›è¡Œå‡å€¼å¡«å…… values = df[df.keys()[i]].mean() df[df.keys()[i]].fillna(value=values, inplace=True) else: pass# z-scoreæ ‡å‡†åŒ–std = preprocessing.scale(df)print(f'å‡å€¼ä¸ºï¼š&#123;std.mean()&#125;')print(f'æ ‡å‡†å·®ä¸ºï¼š&#123;std.std()&#125;')print(f'åˆ—å‡å€¼ä¸ºï¼š&#123;std.mean(axis=0)&#125;')print(f'åˆ—æ ‡å‡†å·®ä¸ºï¼š&#123;std.std(axis=0)&#125;')# æŸ¥çœ‹æ¯ä¸€åˆ—æ•°æ®é‡å’Œæ•°æ®ç±»å‹# df.info()# def fillna(# self,# value=None,# method=None,# axis=None,# inplace=False,# limit=None,# downcast=None,# **kwargs# ):# return super().fillna(# value=value,# method=method,# axis=axis,# inplace=inplace,# limit=limit,# downcast=downcast,# **kwargs# )# https://blog.csdn.net/qq_43542339/article/details/105098235?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.nonecase&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.nonecase# df['åˆ—å1'].fillna(value = 30ï¼Œinplace=True)# # value = 30ï¼Œç”¨30å¡«è¡¥ç©ºå€¼# # value = df['åˆ—å1'].mean() å‡å€¼å¡«å……# # value = df['åˆ—å1'].median() ä¸­ä½æ•°å¡«å……# # value = df.Mer_min_distance.mode()[0] ä¼—æ•°å¡«å……# df['åˆ—å1'].fillna(method = 'pad',inplace=True)# methodå‚æ•°å–å€¼ï¼š&#123;â€˜padâ€™, â€˜ffillâ€™,â€˜backfillâ€™, â€˜bfillâ€™, None&#125;ï¼Œä½¿ç”¨è¿‡ç¨‹ä¸­å› ä¸ºå¯¹ipadå¾ˆç†Ÿæ‚‰ï¼Œæ•…å¸¸å¸¸ç”¨ 'padâ€™å¡«å……## â€˜padâ€™ or â€˜ffillâ€™ : ç”¨å‰ä¸€ä¸ªéç¼ºå¤±å€¼å¡«å……# â€˜backfillâ€™ or â€˜bfillâ€™ï¼šç”¨åä¸€ä¸ªéç¼ºå¤±å€¼å¡«å……# â€˜Noneâ€™ or default : é»˜è®¤é‡‡ç”¨å›ºå®šå€¼å¡«å……# å°†ç¼ºçœå€¼å€¼æ›¿æ¢ä¸ºnan# è½¬æ¢å’Œå‡å€¼ï¼Œéœ€è¦ä¸€ä¸ªæ•°æ®æ¥è¿›è¡Œå‚è€ƒï¼Œæ²¡åŠæ³•ç›´æ¥è¿›è¡Œè¿è¡Œï¼Œæ‰€ä»¥è¿˜æ˜¯é‡‡ç”¨fillnaè¿›è¡Œ# imp = SimpleImputer(missing_values=np.nan, strategy='mean')# data = imp.fit(df)# # æ­£åˆ™åŒ–ï¼Œæ ‡å‡†åŒ– æ ‡å‡†åŒ–123456# z-scoreæ ‡å‡†åŒ–std = preprocessing.scale(df)print(f'å‡å€¼ä¸ºï¼š&#123;std.mean()&#125;')print(f'æ ‡å‡†å·®ä¸ºï¼š&#123;std.std()&#125;')print(f'åˆ—å‡å€¼ä¸ºï¼š&#123;std.mean(axis=0)&#125;')print(f'åˆ—æ ‡å‡†å·®ä¸ºï¼š&#123;std.std(axis=0)&#125;') å‡½æ•°å½¢å¼ç‰ˆ1234567891011121314151617181920# -*- coding: utf-8 -*-# @Time : 2020/6/9# @Author : esy\"\"\"å‡å€¼æ’è¡¥ç¼ºçœå€¼z-scoreæ ‡å‡†åŒ–\"\"\"import numpy as npfrom sklearn import preprocessingdef data_pre(data): df = data.replace([np.inf, -np.inf], np.nan) num = df.isnull().sum() [df[df.keys()[i]].fillna(value=df[df.keys()[i]].mean(), inplace=True) for i in range(len(num)) if num[i] &gt; 0] df_scale = preprocessing.scale(df) return df_scale","categories":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/categories/work/"}],"tags":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/tags/work/"}]},{"title":"æ ‡ç­¾å’Œç‰¹å¾é•¿åº¦å¤„ç†","slug":"sleep apnea and sleep stage/æ ‡ç­¾å’Œç‰¹å¾é•¿åº¦å¤„ç†","date":"2020-06-08T11:16:50.000Z","updated":"2020-06-08T11:16:50.000Z","comments":true,"path":"2020/06/08/sleep apnea and sleep stage/æ ‡ç­¾å’Œç‰¹å¾é•¿åº¦å¤„ç†/","link":"","permalink":"https://esyyes.github.io/2020/06/08/sleep%20apnea%20and%20sleep%20stage/%E6%A0%87%E7%AD%BE%E5%92%8C%E7%89%B9%E5%BE%81%E9%95%BF%E5%BA%A6%E5%A4%84%E7%90%86/","excerpt":"","text":"æ ‡ç­¾å’Œç‰¹å¾é•¿åº¦å¤„ç†åœ¨è¿›è¡Œæœºå™¨å­¦ä¹ ä¹‹å‰éœ€è¦æŸ¥çœ‹æ ‡ç­¾å’Œç‰¹å¾çš„é•¿åº¦ï¼Œåˆ¤æ–­æ˜¯å¦ç›¸ç­‰ï¼Œæ•°æ®æ¯”æ ‡ç­¾å°‘30s 12345678910111213141516171819202122232425# -*- coding: utf-8 -*-# @Time : 2020/6/8# @Author : esy\"\"\"åˆ¤æ–­ï¼šè¯»å–æ³¨é‡Šå’Œç‰¹å¾æŸ¥çœ‹é•¿åº¦æ˜¯å¦ç›¸ç­‰\"\"\"import pandas as pdimport warnings# å¿½ç•¥è­¦å‘Šwarnings.filterwarnings(\"ignore\")for i in range(1, 19): feature = pd.read_excel('F:/py/python-ECGä¿¡å·å¤„ç†/features_data' + '/slp' + '%s' % i + '.xlsx') data = pd.get_dummies(feature.iloc[0:len(feature), 1:]) note = pd.read_excel('F:/py/python-ECGä¿¡å·å¤„ç†/note_data' + '/%s' % i + '.xlsx') tag = pd.get_dummies(note.iloc[0:len(note)-1, -1:]) if len(data) == len(tag): pass else: print(f'æ•°æ®slp&#123;i&#125;ä¸ç›¸ç­‰') print(f'ç‰¹å¾é•¿åº¦&#123;len(data)&#125;, æ ‡ç­¾é•¿åº¦â€˜&#123;len(tag)&#125;')else: print(f'æ£€æµ‹å®Œæ¯•') æ£€æµ‹ç»“æœ123456789æ•°æ®slp5ä¸ç›¸ç­‰ ç‰¹å¾é•¿åº¦700 æ ‡ç­¾é•¿åº¦719æ•°æ®slp7ä¸ç›¸ç­‰ ç‰¹å¾é•¿åº¦719 æ ‡ç­¾é•¿åº¦713æ•°æ®slp8ä¸ç›¸ç­‰ ç‰¹å¾é•¿åº¦719 æ ‡ç­¾é•¿åº¦693æ•°æ®slp10ä¸ç›¸ç­‰ ç‰¹å¾é•¿åº¦699 æ ‡ç­¾é•¿åº¦697æ•°æ®slp14ä¸ç›¸ç­‰ ç‰¹å¾é•¿åº¦479 æ ‡ç­¾é•¿åº¦457æ•°æ®slp15ä¸ç›¸ç­‰ ç‰¹å¾é•¿åº¦699 æ ‡ç­¾é•¿åº¦719æ•°æ®slp16ä¸ç›¸ç­‰ ç‰¹å¾é•¿åº¦739 æ ‡ç­¾é•¿åº¦719æ•°æ®slp17ä¸ç›¸ç­‰ ç‰¹å¾é•¿åº¦439 æ ‡ç­¾é•¿åº¦438æ£€æµ‹å®Œæ¯• æ•°æ®å¤„ç†slp5å’Œslp15ä¸ºslp03å’Œslp60ï¼Œåªæ¸…é™¤äº†AHIæ ‡ç­¾ï¼Œæ²¡æœ‰æ¸…ç†ç¡çœ æ ‡ç­¾ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778# -*- coding: utf-8 -*-# @Time : 2020/6/8# @Author : esyimport wfdbimport pandas as pdimport warnings# å¿½ç•¥è­¦å‘Šwarnings.filterwarnings(\"ignore\")# è¯»å–stæ–‡ä»¶# test = input(\"è¯·è¾“å…¥æƒ³è¯»å–çš„æ–‡ä»¶åï¼š \")# test = 'slp03'test = 'slp60'annotation = wfdb.rdann('F:/slpdb_data/mitdata' + '/%s' % test, 'st')aux = annotation.aux_note# record = wfdb.rdrecord('F:/slpdb_data/mitdata' + '/%s' % test, sampfrom=1222500, sampto=1237500, channels=[3])# ecg_signal = record.p_signal# æŸ¥çœ‹ä½é€šæ°”å’Œosaé˜»å¡æ€§å‘¼å¸æš‚åœçš„ecgä¿¡å·å–åˆ«# å¯¹æ ‡ç­¾è¿›è¡Œå¤„ç†ã€‚åˆ†ä¸º2ä¸ªç±»åˆ«,å°±æ˜¯æ­£å¸¸å’Œä½é€šæ°”ã€‚æŠŠosaåˆ¤å®šä¸ºä½é€šæ°”tag1 = []tag2 = []tag3 = []for i in range(len(aux)): if 538 &lt; i &lt; 549: pass else: if (aux[i][0] == '4') or (aux[i][0] == '3'): tag1.append(1) tag2.append(1) tag3.append(1) elif aux[i][0] == '2': tag1.append(2) tag2.append(2) tag3.append(1) elif aux[i][0] == '1': tag1.append(3) tag2.append(2) tag3.append(1) elif aux[i][0] == 'R': tag1.append(4) tag2.append(3) tag3.append(2) else: tag1.append(5) tag2.append(4) tag3.append(3)# å³aux[i][2]:ä¸ºä½é€šæ°”è¿™äº›çš„åˆ¤å®šï¼Œå¦‚æœæ²¡æœ‰åˆ™è®¤å®šä¸ºæ­£å¸¸ï¼Œæœ‰å°±è¿›è¡Œåˆ¤å®štag4 = []for i in range(len(aux)): # slp03 # if 174 &lt; i &lt; 194: if 538 &lt; i &lt; 549: # slp60 pass else: if len(aux[i]) == 1 or len(aux[i]) == 2: tag4.append(0) elif len(aux[i]) &gt;= 3: if (aux[i][2] == 'H') or (aux[i][2] == 'X') or (aux[i][2] == 'O') or (aux[i][2] == 'C'): tag4.append(1) else: tag4.append(0)label1 = pd.DataFrame(tag1, columns=['N321RW'])label2 = pd.DataFrame(tag2, columns=['DLRW'])label3 = pd.DataFrame(tag3, columns=['NRW'])label4 = pd.DataFrame(tag4, columns=['AHI'])label = pd.concat([label1, label2, label3, label4], axis=1)num = int(input(\"è¾“å…¥ä¿å­˜çš„æ–‡ä»¶åï¼š \"))label.to_excel('%d' % num + \".xlsx\") å†æ¬¡æ£€æµ‹1234567æ•°æ®slp7ä¸ç›¸ç­‰ ç‰¹å¾é•¿åº¦719 æ ‡ç­¾é•¿åº¦713æ•°æ®slp8ä¸ç›¸ç­‰ ç‰¹å¾é•¿åº¦719 æ ‡ç­¾é•¿åº¦693æ•°æ®slp10ä¸ç›¸ç­‰ ç‰¹å¾é•¿åº¦699 æ ‡ç­¾é•¿åº¦697æ•°æ®slp14ä¸ç›¸ç­‰ ç‰¹å¾é•¿åº¦479 æ ‡ç­¾é•¿åº¦457æ•°æ®slp16ä¸ç›¸ç­‰ ç‰¹å¾é•¿åº¦739 æ ‡ç­¾é•¿åº¦719æ•°æ®slp17ä¸ç›¸ç­‰ ç‰¹å¾é•¿åº¦439 æ ‡ç­¾é•¿åº¦438æ£€æµ‹å®Œæ¯• æ•°æ®æŸ¥çœ‹slp7å³ä¸ºslp14 1234567891011121314151617import wfdbimport pandas as pdimport warnings# å¿½ç•¥è­¦å‘Šwarnings.filterwarnings(\"ignore\")# è¯»å–stæ–‡ä»¶# test = input(\"è¯·è¾“å…¥æƒ³è¯»å–çš„æ–‡ä»¶åï¼š \")test = 'slp14'annotation = wfdb.rdann('F:/slpdb_data/mitdata' + '/%s' % test, 'st')aux = annotation.aux_notesample_min = annotation.sample.min()sample_max = annotation.sample.max()print(f'èµ·å§‹ä½ç½®ä¸º&#123;sample_min&#125;, ç»ˆæ­¢ä½ç½®ä¸º&#123;sample_max&#125;')èµ·å§‹ä½ç½®ä¸º45000, ç»ˆæ­¢ä½ç½®ä¸º5392500 slp8:slp16 èµ·å§‹ä½ç½®ä¸º195000, ç»ˆæ­¢ä½ç½®ä¸º5392500 1for i in range(int(195000/record.fs/30), int(record.sig_len/record.fs/30 - 1)): slp10:slp37 æ•°æ®slp10ä¸ç›¸ç­‰ ç‰¹å¾é•¿åº¦699 æ ‡ç­¾é•¿åº¦697 èµ·å§‹ä½ç½®ä¸º15000, ç»ˆæ­¢ä½ç½®ä¸º5242500 slp14:slp59 èµ·å§‹ä½ç½®ä¸º165000, ç»ˆæ­¢ä½ç½®ä¸º3592500 slp16:slp61 æ•°æ®slp16ä¸ç›¸ç­‰ ç‰¹å¾é•¿åº¦739 æ ‡ç­¾é•¿åº¦719 èµ·å§‹ä½ç½®ä¸º150000, ç»ˆæ­¢ä½ç½®ä¸º5542500 slp17:slp66 æ•°æ®slp17ä¸ç›¸ç­‰ ç‰¹å¾é•¿åº¦439 æ ‡ç­¾é•¿åº¦438 èµ·å§‹ä½ç½®ä¸º1, ç»ˆæ­¢ä½ç½®ä¸º3285000 æ•°æ®æ£€æµ‹å®Œæ¯•ä»¥å5åˆ†é’Ÿçš„æ•°æ®ç‰‡æ®µè¿˜æ˜¯è¦ç»è¿‡è¿™ä¸ªå¤„ç†ï¼Œæ ‡ç­¾ç¼ºå¤±","categories":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/categories/work/"}],"tags":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/tags/work/"}]},{"title":"HRVçš„30sç‰¹å¾æå–","slug":"sleep apnea and sleep stage/HRVçš„30sç‰¹å¾æå–","date":"2020-06-08T09:50:09.000Z","updated":"2020-06-08T09:50:09.000Z","comments":true,"path":"2020/06/08/sleep apnea and sleep stage/HRVçš„30sç‰¹å¾æå–/","link":"","permalink":"https://esyyes.github.io/2020/06/08/sleep%20apnea%20and%20sleep%20stage/HRV%E7%9A%8430s%E7%89%B9%E5%BE%81%E6%8F%90%E5%8F%96/","excerpt":"","text":"HRVçš„30sç‰¹å¾æå– slp03å’Œslp60æ•°æ®ä¸­æœ‰ä¸€æ®µæ•°æ®é—å¤±äº†ecgâ€”â€”r, slp03æ¶ˆé™¤174-194ä¹‹é—´çš„æ•°æ® slp60æ¶ˆé™¤538 &lt; i &lt; 549ä¹‹é—´çš„æ•°æ® æ ‡ç­¾è¿™ä¸€éƒ¨åˆ†å…¨æ˜¯wï¼Œå¯ä»¥åˆ é™¤ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677# -*- coding: utf-8 -*-# @Time : 2020/6/2# @Author : esy# slp60æ•°æ®åˆ°æ—¶éœ€è¦åŠ 0.7æˆ–è€…å…¶ä»–å·¦å³ï¼Œæ²¡æœ‰ç»è¿‡é¢„å¤„ç†åï¼Œå°±ä¸ä¼šå‡ºç°å¤æ•°ï¼Œæ‰€ä»¥peaksä¸­å°±ä¸éœ€è¦absï¼ŒåŠ èµ·ä¹Ÿå¥½import wfdbfrom wfdb import processing# import numpy as npimport pandas as pdimport warningsfrom peaks_time_features import *from time_domain import *from frequency_domain import *from HRV_interp1 import *from nonliner_domain import *from eliminate_outliers import *# å¿½ç•¥è­¦å‘Šwarnings.filterwarnings(\"ignore\")test = input('è¯·è¾“å…¥æ–‡ä»¶åï¼š')# test = 'slp03'record = wfdb.rdrecord('F:/slpdb_data/mitdata' + '/%s' % test, channels=[0])annotation = wfdb.rdann('F:/slpdb_data/mitdata' + '/%s' % test, 'ecg')ecg_signal = record.p_signalecg_locs = annotation.sample.tolist()ecg_locs.pop(0)min_bpm = 40max_bpm = 200search_radius = int(record.fs * 60 / max_bpm)ecg_r_locs1 = processing.correct_peaks(ecg_signal[:, 0], peak_inds=ecg_locs, search_radius=search_radius, smooth_window_size=100)# ecg_r_locså¼‚å¸¸ç‚¹å¤„ç†ecg_r_locs = eliminate(ecg_r_locs1)# ecg_r_peakså³°å€¼ç‚¹è·å–ecg_r_peaks = [ecg_signal[int(ecg_r_locs[i])][0] for i in range(len(ecg_r_locs))]all_RR_30s = []all_locs_30s = []all_peaks_30s = []for i in range(int(record.sig_len/record.fs/30 - 1)): RR_30s = [] locs_30s = [] peaks_30s = [] for j in range(len(ecg_r_locs)): if (30*record.fs*i) &lt;= ecg_r_locs[j] &lt;= (30*record.fs*(i+1)): locs_30s.append(ecg_r_locs[j]) RR_30s.append((ecg_r_locs[j+1] - ecg_r_locs[j]) * 4) peaks_30s.append(ecg_r_peaks[j]) else: pass RR_30s.pop() all_RR_30s.append(RR_30s) del locs_30s[0] all_locs_30s.append(locs_30s) all_peaks_30s.append(peaks_30s)# ECG_Rpeaks_features = [peaks_time_feature(all_peaks_30s[i]) for i in range(len(all_peaks_30s))]# HRVhrv_time = [time_features(all_RR_30s[i]) for i in range(len(all_RR_30s))]hrv_freq = [getfreq(resample(hrv_interp1(all_locs_30s[i], all_RR_30s[i], 1), 250, 4)) for i in range(len(all_RR_30s))]hrv_nonl = [non_linear(np.array(all_RR_30s[i])) for i in range(len(all_RR_30s))]features = [peaks_features[i] + hrv_time[i] + hrv_freq[i] + hrv_nonl[i] for i in range(len(all_RR_30s))]# ä¿å­˜ä¸ºexcelfeature = pd.DataFrame(features, columns=['p_max', 'p_min', 'p_mean', 'p_median', 'p_SDNN', 'p_var', 'p_Peaks', 'p_RMSSD', 'p_kurt', 'p_skew', 'p_wave_factor', 'p_peak_factor', 'p_Impulse_factor', 'p_Margin_factor', 'p_RMS', 'R_mean', 'R_SDNN', 'R_SDSD', 'NN50', 'pNN50', 'NN20', 'pNN20', 'R_RMSSD', 'R_median', 'R_NUM', 'R_CVSD', 'R_CV', 'HR_mean', 'HR_max', 'HR_min', 'HR_std', 'LF', 'HF', 'LF_HF', 'LFnu', 'HFnu', 'total', ' VLF', 'sd1', 'sd2', 'sd2/sd1', 'csi10', 'cvi', 'Modified_CSI10', 'apen', 'spen', 'lle', 'sampen'])num = int(input('è¯·è¾“å…¥ç‰¹å¾çš„åå­—:'))feature.to_excel('slp' + '%d' % num + \".xlsx\") 123456789101112131415161718192021all_peaks_30s = []for i in range(int(record.sig_len/record.fs/30 - 1)): if 538 &lt; i &lt; 549:slp60 174-194 slp03 pass else: RR_30s = [] locs_30s = [] peaks_30s = [] for j in range(len(ecg_r_locs)): if (30*record.fs*i) &lt;= ecg_r_locs[j] &lt;= (30*record.fs*(i+1)): locs_30s.append(ecg_r_locs[j]) RR_30s.append((ecg_r_locs[j+1] - ecg_r_locs[j]) * 4) peaks_30s.append(ecg_r_peaks[j]) else: pass RR_30s.pop() all_RR_30s.append(RR_30s) del locs_30s[0] all_locs_30s.append(locs_30s) all_peaks_30s.append(peaks_30s) æ¶ˆé™¤å¼‚å¸¸ç‚¹123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127# -*- coding: utf-8 -*-# @Time : 2020/6/8# @Author : esyimport numpy as np# RRé—´æœŸè·å–def RR_rr(locs1): return [locs1[i+1]-locs1[i] for i in range(len(locs1) - 1)]# å¾—åˆ°19ä¸ªRRé—´æœŸçš„å‡å€¼def MRR(x): return [np.mean(x[i:i+19]) for i in range(len(x) - 19)]# æ¶ˆé™¤è¿‡æ£€def Eliminate_check(locs1): RR_lou = [] num = 0 RR_locs_lou = [] RR = RR_rr(locs1) mRR = MRR(RR) for i in range(len(RR)): if i &lt; 10: if RR[i] &lt; (0.55 * mRR[0]): RR2 = RR[i] + RR[i-1] num += 1 RR_lou.pop(i - num) locs2 = locs1[i + 1] RR_locs_lou.pop(i - num) else: RR2 = RR[i] locs2 = locs1[i + 1] elif i &gt; (len(RR) - 10): if RR[i] &lt; (0.55 * mRR[len(mRR) - 1]): RR2 = RR[i] + RR[i - 1] num = num + 1 locs2 = locs1[i + 1] RR_lou.pop(i - num) RR_locs_lou.pop(i - num) else: RR2 = RR[i] locs2 = locs1[i + 1] else: if RR[i] &lt; (0.55 * mRR[i - 10]): RR2 = RR[i] + RR[i - 1] num = num + 1 RR_lou.pop(i - num) locs2 = locs1[i + 1] RR_locs_lou.pop(i - num) else: RR2 = RR[i] locs2 = locs1[i + 1] RR_lou.append(RR2) RR_locs_lou.append(locs2) RR_locs_lou.insert(0, locs1[0]) return RR_locs_lou# æ¶ˆé™¤æ¼æ£€def Eliminate_LOW(locs): locs1 = Eliminate_check(locs) RR = RR_rr(locs1) mRR = MRR(RR) i = 0 k = 0 RR_guo = [] RR_locs_guo = [] while i &lt; len(RR): if i &lt; 10: if RR[i] &gt; (1.55 * mRR[0]): m = int(round(RR[i] / mRR[0])) RR3 = RR[i] / m RR_guo[(i + k):(i + k)] = (m - 1) * [RR3] cs = [] for j in range(m - 1): cs1 = locs1[i] + (j + 1) * RR3 cs.append(cs1) RR_locs_guo.extend(cs) locs2 = locs1[i + 1] k = k + m else: RR3 = RR[i] locs2 = locs1[i + 1] elif i &gt; (len(RR) - 10): if RR[i] &gt; (1.55 * mRR[len(mRR) - 1]): m = int(round(RR[i] / mRR[len(mRR) - 1])) RR3 = RR[i] / m RR_guo[(i + k):(i + k)] = (m - 1) * [RR3] cs = [] for j in range(m - 1): cs1 = locs1[i] + (j + 1) * RR3 cs.append(cs1) RR_locs_guo.extend(cs) locs2 = locs1[i + 1] k = k + m else: RR3 = RR[i] locs2 = locs1[i + 1] else: if RR[i] &gt; (1.55 * mRR[i - 10]): m = int(round(RR[i] / mRR[i])) RR3 = RR[i] / m RR_guo[(i + k):(i + k)] = (m - 1) * [RR3] cs = [] for j in range(m - 1): cs1 = locs1[i] + (j + 1) * RR3 cs.append(cs1) RR_locs_guo.extend(cs) locs2 = locs1[i + 1] k = k + m else: RR3 = RR[i] locs2 = locs1[i + 1] i += 1 RR_locs_guo.append(locs2) RR_guo.append(RR3) RR_locs_guo.insert(0, locs1[0]) return RR_locs_guodef eliminate(locs1): c = Eliminate_LOW(Eliminate_check(locs1)) return c peaksçš„æ—¶åŸŸç‰¹å¾12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182# -*- coding: utf-8 -*-# @Time : 2020/6/3# @Author : esy# Rå³°å€¼çš„æ—¶åŸŸç‰¹å¾åˆ†æimport mathimport numpy as npfrom scipy import stats# è£•åº¦å› å­def margin_factor(x): sum = 0 for i in range(len(x) - 1): sum += math.sqrt(x[i]) mean = np.mean(sum) return mean**2# å·®å€¼å‡æ–¹æ ¹def get_RMSSD(x): sum = 0 for i in range(len(x) - 1): sum += (x[i+1] - x[i])**2 return math.sqrt(sum/(len(x) - 1))# å‡æ–¹æ ¹def get_rms(x): sum = 0 for i in range(len(x) - 1): sum += (x[i])**2 return math.sqrt(sum / (len(x)-1))def peaks_time_feature(f): x = abs(np.array(f)) # æœ€å¤§å€¼ p_max = x.max() # æœ€å°å€¼ p_min = x.min() # å‡å€¼ï¼š p_mean = x.mean() # ä¸­ä½æ•° p_median = np.median(x) # æ ‡å‡†å·® SDNN = x.std() # æ–¹å·® p_var = x.var() # å³°å³°å€¼ p_peaks = p_max - p_min # å·®å€¼å‡æ–¹æ ¹ RMSSD = get_RMSSD(x) # å³­åº¦/å³°åº¦ p_kurt = stats.kurtosis(x) # ååº¦ p_skew = stats.skew(x) # æ³¢å½¢å› å­ p_wave_factor = RMSSD / p_mean # å³°å€¼å› å­ p_peak_factor = p_peaks / RMSSD # è„‰å†²å› å­ p_impulse_factor = p_peaks / p_mean # è£•åº¦å› å­ p_margin_factor = p_peaks / margin_factor(x) # å‡æ–¹æ ¹ p_RMS = get_rms(x) list_time_features = [p_max, p_min, p_mean, p_median, SDNN, p_var, p_peaks, RMSSD, p_kurt, p_skew, p_wave_factor, p_peak_factor, p_impulse_factor, p_margin_factor, p_RMS] return list_time_features HRVçš„æ—¶åŸŸç‰¹å¾123456789101112131415161718192021222324252627# -*- coding: utf-8 -*-# @Time : 2020/6/8# @Author : esyfrom hrvanalysis import get_time_domain_featuresdef time_features(x): A = get_time_domain_features(x) RR_mean = A['mean_nni'] SDNN = A['sdnn'] SDSD = A['sdsd'] NN50 = A['nni_50'] PNN50 = A['pnni_50'] NN20 = A['nni_20'] PNN20 = A['pnni_20'] RMSSD = A['rmssd'] RR_median = A['median_nni'] NUM = A['range_nni'] CVSD = A['cvsd'] RR_CV = A['cvnni'] HR_mean = A['mean_hr'] HR_max = A['max_hr'] HR_min = A['min_hr'] HR_std = A['std_hr'] ALL = [RR_mean, SDNN, SDSD, NN50, PNN50, NN20, PNN20, RMSSD, RR_median, NUM, CVSD, RR_CV, HR_mean, HR_max, HR_min, HR_std] return ALL æ’å€¼å¹¶é‡é‡‡æ ·123456789101112131415161718192021222324252627282930313233# -*- coding: utf-8 -*-# @Time : 2020/6/8# @Author : esyimport numpy as npimport scipy.interpolate as spi# æ’å€¼def hrv_interp1(x, y, s): x_new = np.linspace(x[0], x[len(x) - 1], 7500 * s) # æ–°çš„æ’å€¼åŒºé—´åŠå…¶ç‚¹çš„ä¸ªæ•° ipo3 = spi.splrep(x, y, k=3) # æ ·æœ¬ç‚¹å¯¼å…¥ï¼Œç”Ÿæˆå‚æ•° hrv_interpolation = spi.splev(x_new, ipo3) # æ ¹æ®è§‚æµ‹ç‚¹å’Œæ ·æ¡å‚æ•°ï¼Œç”Ÿæˆæ’å€¼ return hrv_interpolation# é‡é‡‡æ ·def resample(input_signal, src_fs, tar_fs): \"\"\" :param input_signal:è¾“å…¥ä¿¡å· :param src_fs:è¾“å…¥ä¿¡å·é‡‡æ ·ç‡ :param tar_fs:è¾“å‡ºä¿¡å·é‡‡æ ·ç‡ :return:è¾“å‡ºä¿¡å· \"\"\" dtype = input_signal.dtype audio_len = len(input_signal) audio_time_max = 1.0 * audio_len / src_fs src_time = 1.0 * np.linspace(0, audio_len, audio_len) / src_fs tar_time = 1.0 * np.linspace(0, np.int(audio_time_max*tar_fs), np.int(audio_time_max*tar_fs)) / tar_fs output_signal = np.interp(tar_time, src_time, input_signal).astype(dtype) return output_signal HRVçš„é¢‘åŸŸç‰¹å¾12345678910111213141516# -*- coding: utf-8 -*-# @Time : 2020/6/8# @Author : esyfrom hrvanalysis import get_frequency_domain_featuresdef getfreq(x): all = get_frequency_domain_features(x) LF = all['lf'] HF = all['hf'] LF_HF = all['lf_hf_ratio'] LFnu = all['lfnu'] HFnu = all['hfnu'] total = all['total_power'] VLF = all['vlf'] freqs = [LF, HF, LF_HF, LFnu, HFnu, total, VLF] return freqs HRVçš„éçº¿æ€§ç‰¹å¾1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950# -*- coding: utf-8 -*-# @Time : 2020/6/8# @Author : esyfrom hrvanalysis import *from non_features import *def SD1(x): sd = [x[i+1] - x[i] for i in range(len(x)-1)] return np.std(sd) / np.sqrt(2)def SD2(x): sd = [x[i+1] + x[i] for i in range(len(x)-1)] return np.std(sd) / np.sqrt(2)def non_linear5(x): RR_sd1 = SD1(x) RR_sd2 = SD2(x) RR_csi10 = csi(x, 10) RR_csi30 = csi(x, 30) RR_csi50 = csi(x, 50) RR_csi100 = csi(x, 100) RR_cvi = get_csi_cvi_features(x)['cvi'] Modified_CSI10 = Modified_csi(x, 10) Modified_CSI30 = Modified_csi(x, 30) Modified_CSI50 = Modified_csi(x, 50) Modified_CSI100 = Modified_csi(x, 100) RR_apen = apen(x, m=2, r=0.6) RR_spen = spen(x) A = get_sampen(x) RR_sampen = A['sampen'] RR_lle = lle(x) ALL_5 = [RR_sd1, RR_sd2, RR_sd2/RR_sd1, RR_csi10, RR_csi30, RR_csi50, RR_csi100, RR_cvi, Modified_CSI10, Modified_CSI30, Modified_CSI50, Modified_CSI100, RR_apen, RR_spen, RR_sampen, RR_lle] return ALL_5def non_linear(x): RR_sd1 = SD1(x) RR_sd2 = SD2(x) RR_csi10 = csi(x, 10) RR_cvi = get_csi_cvi_features(x)['cvi'] Modified_CSI10 = Modified_csi(x, 10) RR_apen = apen(x, m=2, r=0.6) RR_spen = spen(x) RR_lle = lle(x) RR_sampen = get_sampen(x)['sampen'] ALL_30 = [RR_sd1, RR_sd2, RR_sd2/RR_sd1, RR_csi10, RR_cvi, Modified_CSI10, RR_apen, RR_spen, RR_lle, RR_sampen] return ALL_30 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239# -*- coding: utf-8 -*-# @Time : 2020/6/8# @Author : esy\"\"\"Provides the non-linear functions for processing ECGs. Signals should be inputas an np.array of R-R intervals. Arrays can be multi-dimensional as long asaxis 1 moves through time (i.e. inputs should have shapes (n,) or (m, n)).Includes function: csi (cardiac sympathatic index) apen (approximate entropy),spen (spectral entropy), lle (largest Lypunov exponent).\"\"\"import numpy as npfrom scipy.fftpack import fft, ifftdef csi(intervals, num_points): \"\"\" From Geometry of the Poincare plot of RR intervals and its asymmetry in healthy adults, J. Piskorski and P. Guzik; and A new method of assessing cardiac autonomic function and its comparison with spectral analysis and coefficient of variation of R--R interval, Motomi Toichi, Takeshi Sugiura Toshiya Murai, and Akira Sengoku. Cardiac Sympathetic Index (CSI). The poincare plot is method for visualizing chaotic signals by plotting the peaks of a signal against the same peaks delayed by one, for use with heart rate the peaks used are the R-R intervals. This produces a ellipse aligned along the line x=y with major and minor axes 4*SD2 and 4*SD1 respectively. The minor axis represents variation between consecutive beats while the major axis represents total beat difference. The CSI is given by SD2/SD1. Large CSI values indicate relatively large inter-beat variation. Parameters: num_points (positive integer): The number of datapoints used to calculate the CSI. Used as a window so the output will be of length len(intervals) - num_points + 1. \"\"\" sd1, sd2 = _sd(intervals, num_points) sd2[sd1 == 0] = 1 sd1[sd1 == 0] = 1 CSI = (sd2 / sd1).T# å¿ƒäº¤æ„ŸæŒ‡æ•°CSI# åºåŠ è±æ›²çº¿å›¾æ˜¯ä¸€ç§å°†æ··æ²Œä¿¡å·å¯è§†åŒ–çš„æ–¹æ³•ï¼Œæ–¹æ³•æ˜¯å°†ä¿¡å·çš„å³°å€¼ä¸å»¶è¿Ÿ1çš„ç›¸åŒå³°å€¼ç›¸å¯¹ç…§ï¼Œç”¨äºå¿ƒç‡ã€‚ä½¿ç”¨çš„å³°å€¼æ˜¯R-Ré—´éš”ã€‚è¿™ä¼šäº§ç”Ÿä¸€ä¸ªæ²¿çº¿x=yå¯¹é½çš„æ¤­åœ†ï¼Œé•¿è½´å’ŒçŸ­è½´åˆ†åˆ«ä¸º4*sd2å’Œ4*sd1ã€‚çŸ­è½´è¡¨ç¤ºè¿ç»­æ‹å­ä¹‹é—´çš„å˜åŒ–ï¼Œè€Œé•¿è½´è¡¨ç¤ºæ€»æ‹å­å·®# æ‰¾å‡ºæœ€å¤§çš„åºåŠ è±æ›²çº¿å›¾ return CSI.mean()def Modified_csi(intervals, num_points): sd1, sd2 = _sd(intervals, num_points) sd2[sd1 == 0] = 1 sd1[sd1 == 0] = 1 Modified_CSI = ((sd2 ** 2) / sd1).T return Modified_CSI.mean()def _sd(intervals, num_points): axis = _function_dimension(intervals) signal_length = intervals.shape[axis] n = signal_length - num_points + 1 indices = np.sum(np.mgrid[0:n, 0:num_points], axis=0) if axis == 0: windowed_intervals = intervals[indices] else: windowed_intervals = intervals.swapaxes(0, axis)[indices] x = windowed_intervals[:-1] y = windowed_intervals[1:] def _means(x, y): mean_x = x.mean(axis=1) mean_y = y.mean(axis=1) return(mean_x, mean_y) def _transpose(vals): if axis == 0: return vals.T else: return vals.swapaxes(0, axis) mean_x, mean_y = _means(x, y) def _sd1(): mean = _transpose(np.array([mean_y - mean_x])) sd1 = np.std((x - y) + mean, axis=1) / (2.0 ** 0.5) return sd1 def _sd2(): mean = _transpose(np.array([mean_x + mean_y])) sd2 = np.std((x + y) - mean, axis=1) / (2.0 ** 0.5) return sd2 return(_sd1(), _sd2())def apen(intervals, m=2, r=0.6): \"\"\" Approximate Entropy (ApEn) as described in \"Physiological time-series analysis what does regularity quantify?\" by Steven M. Pingus And Ary L. Goldberger. Vector x_i contains the ith heart rate to the (i + m - 1)th heart rate. The distance between two vectors, x_i and x_j, is greater than r if abs(x_i[k] - x_j[k]) &gt; r for any k = 0 ... (m - 1). A pair of vectors (or groups), x_i and x_j, are said to be close if the distance between them is less than r. C_i is the number of close groups of length m + 1 divided by the number of close groups of length m. Based on the definition of distance if the ith and jth group are close when using length m + 1 then they must also be close when using a length of only m. Therefore C is the probability heart rate i + m is close to heart rate j + m given all m heart rates in groups i and j are also close. ApEn = phi^(m+1)(r) - phi^m(r) where phi^m(r) is the average of natural log C_i, for all i groups, calculated using a group size of m. Parameters: m (positive int): group lengths. r (float): max distance between close groups. \"\"\" heart_rates = 1 / intervals.astype(np.float32) num_close_groups_m = _find_num_close_groups(heart_rates, m, r) num_close_groups_m_plus_1 = _find_num_close_groups(heart_rates, m+1, r) num_close_groups_m_plus_2 = _find_num_close_groups(heart_rates, m+2, r) C_m = num_close_groups_m_plus_1 / num_close_groups_m[:-1] C_m_plus_1 = num_close_groups_m_plus_2 / num_close_groups_m_plus_1[:-1] phi = lambda C: np.nanmean(np.log(C), axis=0) return phi(C_m_plus_1) - phi(C_m)def _find_num_close_groups(heart_rates, m, r): dim = _function_dimension(heart_rates) err_msg = 'Group lengths must be smaller than the signal length' assert m &lt; heart_rates.shape[dim], err_msg if dim == 0: dist_mat = _one_dim_distance_matrix(heart_rates) else: dist_mat = _multi_dim_distance_matrix(heart_rates) far_vals = np.logical_or(np.greater(dist_mat, r), np.less(dist_mat, -r)) return _sum_num_close_groups(far_vals, m).astype(np.float32)def _function_dimension(x): if len(x.shape) &gt; 1: return 1 return 0def _one_dim_distance_matrix(vals): repeats = np.tile(vals, (vals.shape[0], 1)) return repeats - repeats.Tdef _multi_dim_distance_matrix(vals): vals = _rotate_and_repeat(vals) return vals - np.swapaxes(vals, 0, 1)def _rotate_and_repeat(vals): vals = np.swapaxes(np.array([vals]), 1, 2) size = vals.shape new_size = (size[1],) + size[1:] return np.broadcast_to(vals, new_size)def _sum_num_close_groups(group_dist_mat, m): return np.sum(_is_group_close(group_dist_mat, m), axis=0)def _is_group_close(far_vals, m): close_groups = 0 for str_idx in range(m): end_idx = m - str_idx close_groups += far_vals[str_idx:-end_idx, str_idx:-end_idx] return close_groups == 0def spen(intervals): \"\"\" Spectral Entropy (SpEn) is a measure of entropy based on the probability mass distribution of the discreate Fourier transformation. If a few frequencies dominate a signal the signal is predictable and thus has a low entropy. SpEn uses log based 2 and can therefore be interpreted as the min number of bits needed to encode the signals power spectrum. Because of this length of the signal can affect the outcome. \"\"\" axis = _function_dimension(intervals) spectrum = np.abs(fft(intervals)) ** 2 probs = spectrum / np.array([spectrum.sum(axis=axis)]).T return - np.sum(probs * np.log2(probs), axis=axis)def lle(intervals): \"\"\" Largest Lypunov exponent (LLE) is a measure chaos within a signal. If the LLE of a signal is positive the signal is determined to be chaotic. The Lypunov exponent of each dimension represents how quickly two initially close points move apart from one another. This method of calculating the LLE is based on M. Rosenstein, J. Collins, and C. De Luca's method from \"A practical method for calculating largest Lypunov exponents from small data sets\". \"\"\" dim = _function_dimension(intervals) j = _calc_j_from_autocorr(intervals, dim) return jdef _calc_j_from_autocorr(intervals, axis): Intervals = fft(intervals, axis=axis) Corr = np.abs(Intervals ** 2) corr = ifft(Corr, axis=axis).real if axis is 0: corr = corr[:int(len(corr) / 2)] / corr[0] else: corr = corr[:, :corr.shape[1] / 2] / np.array([corr[:, 0]]).T diminish_factor = 1 - 1/np.exp(1) lag_vals = np.abs(corr - diminish_factor) min_val = np.argmin(lag_vals, axis=axis) return min_val","categories":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/categories/work/"}],"tags":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/tags/work/"}]},{"title":"ECG_RRé—´æœŸé¢„å¤„ç†","slug":"sleep apnea and sleep stage/ECG-RRé—´æœŸé¢„å¤„ç†","date":"2020-06-08T09:46:48.000Z","updated":"2020-06-08T09:46:48.000Z","comments":true,"path":"2020/06/08/sleep apnea and sleep stage/ECG-RRé—´æœŸé¢„å¤„ç†/","link":"","permalink":"https://esyyes.github.io/2020/06/08/sleep%20apnea%20and%20sleep%20stage/ECG-RR%E9%97%B4%E6%9C%9F%E9%A2%84%E5%A4%84%E7%90%86/","excerpt":"","text":"ECG_RRé—´æœŸé¢„å¤„ç†è¿˜æ˜¯è¦ç”¨çŸ«æ­£åçš„Rè¿›è¡Œè¯»å–ï¼Œæ‰€ä»¥ç¬¬ä¸€ä¸ªç‚¹è¿›è¡ŒæŸ¥çœ‹ç”¨çŸ«æ­£åçš„Ré—´æœŸåºåˆ—ï¼Œç¬¬ä¸€ä¸ªç‚¹ï¼Œå°±ç›´æ¥æŒ‰ç…§æ ‡æ³¨ç»“æœè¿›è¡Œæ ‡æ³¨ï¼Œç›´æ¥ä¸è¦ç¬¬ä¸€ä¸ªç‚¹ï¼Œæ•°æ®ç‚¹å¾ˆå¤šï¼Œè€Œä¸”åˆ†æçš„æ—¶å€™ï¼Œç¬¬ä¸€ä¸ª30så¹¶æ²¡æœ‰è¿›è¡Œåˆ†æ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152# -*- coding: utf-8 -*-# @Time : 2020/6/2# @Author : esy\"\"\"è¿˜æ˜¯è¦ç”¨çŸ«æ­£åçš„Rè¿›è¡Œè¯»å–ï¼Œæ‰€ä»¥ç¬¬ä¸€ä¸ªç‚¹è¿›è¡ŒæŸ¥çœ‹ç”¨çŸ«æ­£åçš„Ré—´æœŸåºåˆ—ï¼Œç¬¬ä¸€ä¸ªç‚¹ï¼Œå°±ç›´æ¥æŒ‰ç…§æ ‡æ³¨ç»“æœè¿›è¡Œæ ‡æ³¨ï¼Œç›´æ¥ä¸è¦ç¬¬ä¸€ä¸ªç‚¹ï¼Œæ•°æ®ç‚¹å¾ˆå¤šï¼Œè€Œä¸”åˆ†æçš„æ—¶å€™ï¼Œç¬¬ä¸€ä¸ª30så¹¶æ²¡æœ‰è¿›è¡Œåˆ†æ\"\"\"import wfdbfrom wfdb import processingimport warnings# å¿½ç•¥è­¦å‘Šwarnings.filterwarnings(\"ignore\")test = 'slp01b'record = wfdb.rdrecord('F:/slpdb_data/mitdata' + '/%s' % test, channels=[0])# è¯»å–å¿ƒç”µæ•°æ®åº“çš„Rå³°å€¼ç‚¹annotation = wfdb.rdann('F:/slpdb_data/mitdata' + '/%s' % test, 'ecg')ecg_signal = record.p_signalecg_locs = annotation.sample.tolist()ecg_locs.pop(0)# Correct the peaks shifting them to local maximamin_bpm = 40max_bpm = 200# Use the maximum possible bpm as the search radius,è¿›è¡Œå¹³æ»‘æ ¡å‡†åˆ°å³°å€¼ç‚¹ä½ç½®search_radius = int(record.fs * 60 / max_bpm)# è¿›è¡ŒçŸ«æ­£åçš„å³°å€¼ç‚¹ä¿¡å·åæ ‡ï¼Œç”¨è¿™ä¸ªæ¥è¿›è¡Œåç»­çš„åˆ†æï¼Œè™½ç„¶RRé—´æœŸæ²¡ä»€ä¹ˆå½±å“ï¼Œä½†æ˜¯å³°å€¼ç‚¹çš„å€¼æœ‰å¾ˆå¤§çš„å½±å“ecg_r_locs = processing.correct_peaks(ecg_signal[:, 0], peak_inds=ecg_locs, search_radius=search_radius, smooth_window_size=100)# å³°å€¼ä¿¡å·ecg_r_peaks = ecg_signal[ecg_r_locs].tolist()# å¼‚å¸¸ç‚¹å¤„ç†ï¼Œæ„Ÿè§‰å¯ä»¥ä¸å†™ï¼Œæ¯•ç«Ÿå†™äº†ä¼šå‡ºç°Rå³°å€¼æ— æ³•å¯¹åº”çš„ç°è±¡ï¼Œä¼šæŠ¥é”™ï¼Œåˆ°æ—¶å¯ä»¥å†™è¿™ä¸ªæ­¥éª¤ï¼Œä½†æ˜¯ï¼Œæ²¡å¿…è¦åœ¨ç¨‹åºä¸­ä¹¦å†™# 30såˆ‡ç‰‡# for i in range(record.sig_len/record.fs/30 - 1):RR_30s = []locs_30s = []for i in range(30*record.fs): if ecg_r_locs[i] &lt;= 30*record.fs: locs_30s.append(ecg_r_locs[i]) RR_30s.append(ecg_r_locs[i+1] - ecg_r_locs[i]) else: pass# åˆ é™¤RRé—´æœŸçš„æœ€åä¸€ä¸ªï¼Œi+1æ•°æ®è¶…å‡ºäº†èŒƒå›´RR_30s.pop()# åˆ é™¤locså¯¹åº”çš„ç¬¬ä¸€ä¸ªåæ ‡ï¼Œå› ä¸ºæ˜¯ç”¨åé¢çš„Rå³°å€¼ç‚¹çš„åæ ‡å»å¯¹åº”RRæ³¢å½¢del locs_30s[0] å°†30sçš„æ•°æ®è¿›è¡Œå¾ªç¯åˆ‡ç‰‡ï¼Œç„¶åè¿›è¡Œè¾“å‡ºä¸ºlist30sçš„å’Œ5minçš„è¿›è¡Œå•ç‹¬çš„åˆ†æï¼Œç„¶åè¿›è¡Œæ—¶é¢‘åŸŸå’Œéçº¿æ€§çš„åˆ†æ123456789101112131415161718192021222324252627282930313233343536373839404142434445464748# -*- coding: utf-8 -*-# @Time : 2020/6/2# @Author : esy# å°†30sçš„æ•°æ®è¿›è¡Œå¾ªç¯åˆ‡ç‰‡ï¼Œç„¶åè¿›è¡Œè¾“å‡ºä¸ºlist# 30sçš„å’Œ5minçš„è¿›è¡Œå•ç‹¬çš„åˆ†æï¼Œç„¶åè¿›è¡Œæ—¶é¢‘åŸŸå’Œéçº¿æ€§çš„åˆ†æimport wfdbfrom wfdb import processing# import numpy as npimport warnings# å¿½ç•¥è­¦å‘Šwarnings.filterwarnings(\"ignore\")test = 'slp01a'record = wfdb.rdrecord('F:/slpdb_data/mitdata' + '/%s' % test, channels=[0])annotation = wfdb.rdann('F:/slpdb_data/mitdata' + '/%s' % test, 'ecg')ecg_signal = record.p_signalecg_locs = annotation.sample.tolist()ecg_locs.pop(0)min_bpm = 40max_bpm = 200search_radius = int(record.fs * 60 / max_bpm)ecg_r_locs = processing.correct_peaks(ecg_signal[:, 0], peak_inds=ecg_locs, search_radius=search_radius, smooth_window_size=100)# å³°å€¼ä¿¡å·ecg_r_peaks = ecg_signal[ecg_r_locs].tolist()all_RR_30s = []all_locs_30s = []all_peaks_30s = []for i in range(int(record.sig_len/record.fs/30 - 1)): RR_30s = [] locs_30s = [] peaks_30s = [] for j in range(len(ecg_r_locs)): if (30*record.fs*i) &lt;= ecg_r_locs[j] &lt;= (30*record.fs*(i+1)): locs_30s.append(ecg_r_locs[j]) RR_30s.append((ecg_r_locs[j+1] - ecg_r_locs[j]) * 4) peaks_30s.append(ecg_r_peaks[j][0]) else: pass RR_30s.pop() all_RR_30s.append(RR_30s) all_locs_30s.append(locs_30s) all_peaks_30s.append(peaks_30s)","categories":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/categories/work/"}],"tags":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/tags/work/"}]},{"title":"ECGä¿¡å·è¯»å–","slug":"sleep apnea and sleep stage/ECGä¿¡å·è¯»å–","date":"2020-06-08T09:42:03.000Z","updated":"2020-06-08T09:42:03.000Z","comments":true,"path":"2020/06/08/sleep apnea and sleep stage/ECGä¿¡å·è¯»å–/","link":"","permalink":"https://esyyes.github.io/2020/06/08/sleep%20apnea%20and%20sleep%20stage/ECG%E4%BF%A1%E5%8F%B7%E8%AF%BB%E5%8F%96/","excerpt":"","text":"ECGä¿¡å·è¯»å–è¯»å–RRå’Œstä¸­çš„æ³¨é‡Šç¨‹åº 1234567891011121314151617181920212223242526# -*- coding: utf-8 -*-# @Time : 2020/5/29# @Author : esy# åˆ©ç”¨wfdbè¯»å–ECGæ•°æ®import wfdb as wfdb# è¯»å–slp01açš„æ•°æ®ï¼Œsampfromï¼šèµ·å§‹ä½ç½®ï¼Œsamptoï¼šç»“æŸä½ç½®ï¼Œå³å¯å†™åš# record = wfdb.rdrecord('F:/slpdb_data/mitdata/slp02a', sampfrom=0, sampto=1500, channels=[0])# ç›¸å½“äºå·²ç»æŠŠè¿™ä¸ªå†™æˆäº†ä¸€ä¸ªç±»åˆ«ï¼Œç„¶åè¿›è¡Œè¯»å–æ—¶ï¼Œè¯»å–ç›¸å…³çš„å±æ€§å°±å¯ä»¥äº†ã€‚é¢å‘å¯¹è±¡ç±»åˆ«record.p_signalå³ä¸ºç›¸å…³ä¿¡å·# è¯»å–æ³¨é‡Šæ–‡ä»¶annotation = wfdb.rdann('F:/slpdb_data/mitdata/slp14', 'st')aux = annotation.aux_note# ç›´æ¥è¯»å–æ³¨é‡Šçš„ä¿¡æ¯ï¼Œç„¶åè¿›è¡Œåˆ¤æ–­å³å¯ï¼Œæ‰€ä»¥å°±å¯ä»¥ä¸éœ€è¦txtã€‚ç›´æ¥ç”¨[][0]æ¥è¿›è¡Œåˆ¤æ–­ç¡çœ åˆ†æœŸ# ç”¨ã€ã€‘ã€2ã€‘æ¥åˆ¤å®šæ˜¯å¦æ˜¯å‘¼å¸æš‚åœ# aux[16][0]# Out[13]: '1'# aux[67][0]# Out[14]: 'M'# aux[63][3]# Out[15]: 'A'# aux[63][2]# Out[16]: 'H'# aux[55][2] æ ‡ç­¾å¤„ç†12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667# -*- coding: utf-8 -*-# @Time : 2020/5/31# @Author : esyimport wfdbimport pandas as pdimport warnings# å¿½ç•¥è­¦å‘Šwarnings.filterwarnings(\"ignore\")# è¯»å–stæ–‡ä»¶test = input(\"è¯·è¾“å…¥æƒ³è¯»å–çš„æ–‡ä»¶åï¼š \")# test = 'slp14'annotation = wfdb.rdann('F:/slpdb_data/mitdata' + '/%s' % test, 'st')aux = annotation.aux_note# record = wfdb.rdrecord('F:/slpdb_data/mitdata' + '/%s' % test, sampfrom=1222500, sampto=1237500, channels=[3])# ecg_signal = record.p_signal# æŸ¥çœ‹ä½é€šæ°”å’Œosaé˜»å¡æ€§å‘¼å¸æš‚åœçš„ecgä¿¡å·å–åˆ«# å¯¹æ ‡ç­¾è¿›è¡Œå¤„ç†ã€‚åˆ†ä¸º2ä¸ªç±»åˆ«,å°±æ˜¯æ­£å¸¸å’Œä½é€šæ°”ã€‚æŠŠosaåˆ¤å®šä¸ºä½é€šæ°”tag1 = []tag2 = []tag3 = []for i in range(len(aux)): if (aux[i][0] == '4') or (aux[i][0] == '3'): tag1.append(1) tag2.append(1) tag3.append(1) elif aux[i][0] == '2': tag1.append(2) tag2.append(2) tag3.append(1) elif aux[i][0] == '1': tag1.append(3) tag2.append(2) tag3.append(1) elif aux[i][0] == 'R': tag1.append(4) tag2.append(3) tag3.append(2) else: tag1.append(5) tag2.append(4) tag3.append(3)# å³aux[i][2]:ä¸ºä½é€šæ°”è¿™äº›çš„åˆ¤å®šï¼Œå¦‚æœæ²¡æœ‰åˆ™è®¤å®šä¸ºæ­£å¸¸ï¼Œæœ‰å°±è¿›è¡Œåˆ¤å®štag4 = []for i in range(len(aux)): if len(aux[i]) == 1 or len(aux[i]) == 2: tag4.append(0) elif len(aux[i]) &gt;= 3: if (aux[i][2] == 'H') or (aux[i][2] == 'X') or (aux[i][2] == 'O') or (aux[i][2] == 'C'): tag4.append(1) else: tag4.append(0)label1 = pd.DataFrame(tag1, columns=['N321RW'])label2 = pd.DataFrame(tag2, columns=['DLRW'])label4 = pd.DataFrame(tag4, columns=['AHI'])label3 = pd.DataFrame(tag3, columns=['NRW'])label = pd.concat([label1, label2, label3, label4], axis=1)num = int(input(\"è¾“å…¥ä¿å­˜çš„æ–‡ä»¶åï¼š \"))label.to_excel('%d' % num + \".xlsx\") 12345678910111213141516# å³aux[i][2]:ä¸ºä½é€šæ°”è¿™äº›çš„åˆ¤å®šï¼Œå¦‚æœæ²¡æœ‰åˆ™è®¤å®šä¸ºæ­£å¸¸ï¼Œæœ‰å°±è¿›è¡Œåˆ¤å®štag4 = []for i in range(len(aux)):# slp30å’Œ60æœ‰æ•°æ®ç¼ºå¤± # if 174 &lt; i &lt; 194: # slp03 if 538 &lt; i &lt; 549: # slp60 pass else: if len(aux[i]) == 1 or len(aux[i]) == 2: tag4.append(0) elif len(aux[i]) &gt;= 3: if (aux[i][2] == 'H') or (aux[i][2] == 'X') or (aux[i][2] == 'O') or (aux[i][2] == 'C'): tag4.append(1) else: tag4.append(0)","categories":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/categories/work/"}],"tags":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/tags/work/"}]},{"title":"sleep apnea","slug":"sleep apnea and sleep stage/sleep-apnea","date":"2020-05-31T07:43:01.000Z","updated":"2020-05-31T07:43:01.000Z","comments":true,"path":"2020/05/31/sleep apnea and sleep stage/sleep-apnea/","link":"","permalink":"https://esyyes.github.io/2020/05/31/sleep%20apnea%20and%20sleep%20stage/sleep-apnea/","excerpt":"","text":"sleep apneaè¯Šæ–­OSASæ—¶,å¯¹æœ‰é¼»ç‚ã€æ‰“é¼¾ã€å¼ å£å‘¼å¸ã€ç¡æ—¶æ…¢æ€§å’³å—½ã€ç¡çœ ä¸å®‰ç­‰é«˜å±ç—‡çŠ¶çš„å„¿ç«¥,åº”ç»™äºˆé«˜åº¦é‡è§†ã€‚æ ¹æ®åŒ—äº¬å„¿ç«¥åŒ»é™¢ç¡çœ ä¸­å¿ƒæ¨èçš„å„¿ç«¥OSASè¯Šæ–­æ ‡å‡†,å‘¼å¸æš‚åœä¸ºå‘¼å¸åœæ­¢â‰¥5ç§’æˆ–2ä¸ªå‘¼å¸å‘¨æœŸã€æš‚åœæŒ‡æ•°AIâ‰¥1æ¬¡/å°æ—¶;ä½é€šæ°”æŒ‡å£é¼»æ°”æµæŒ¯å¹…è¾ƒåŸºçº¿(æ°”æµåœæ­¢æˆ–ä¸‹é™ä¹‹å‰è‡³å°‘2åˆ†é’Ÿæˆ–3ä¸ªå‘¼å¸å‘¨æœŸçš„å¹³å‡å‘¼å¸å¹…åº¦)ä¸‹é™50%æˆ–æŒç»­2ä¸ªå‘¼å¸å‘¨æœŸä»¥ä¸Š,ä¼´è¡€æ°§é¥±å’Œåº¦é™ä½3%ä»¥ä¸Šæˆ–è§‰é†’;å‘¼å¸æš‚åœä½é€šæ°”æŒ‡æ•°AHIâ‰¥5æ¬¡/å°æ—¶å¯è¯Šæ–­ä¸ºå„¿ç«¥OSAS,è¯¥æŒ‡æ•°510ä¸ºè½»åº¦,1020ä¸ºä¸­åº¦,20ä»¥ä¸Šä¸ºé‡åº¦ã€‚é€šè¿‡ç—…å²ã€ä¸´åºŠè¡¨ç°ã€æ”¾å°„å­¦æ£€æŸ¥ä»¥åŠå¤šå¯¼ç¡çœ æ£€æµ‹ç­‰æ–¹æ³•,è¯Šæ–­OSASå¹¶ä¸å›°éš¾,ä½†è¦æ³¨æ„ä¸åŸå‘æ€§é¼¾ç—‡é‰´åˆ«è¯Šæ–­,åè€…æ— é¢‘ç¹è§‰é†’,ä¹Ÿæ— æ˜ç¡®æ¢—é˜»æ€§ç¡çœ å‘¼å¸æš‚åœæˆ–æ°”ä½“äº¤æ¢å¼‚å¸¸ã€‚ æˆå¹´äººçš„ç¡çœ å‘¼å¸æš‚åœåˆ¤å®šï¼š AHI(æ¬¡æ•°ã€å°æ—¶) è½»åº¦ï¼šAHI 5-14 ä¸­åº¦ï¼š 15-29 é‡åº¦ï¼š â‰¥30 ç›´æ¥æ ¹æ®AHIçš„å¹³å‡å€¼è¿›è¡Œåˆ¤å®šï¼Œåªè€ƒè™‘AHI,OSè¿™äº›å…¨éƒ¨åˆ¤å®šä¸ºAHIã€‚å³å¯ï¼Œç›´æ¥å…ˆç”¨è¿™ä¸ªç‰¹å¾è¿›è¡Œæå–ï¼Œç„¶åå†è€ƒè™‘å…¶ä»–å¿ƒç”µå…³äºå‘¼å¸æš‚åœçš„ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667# -*- coding: utf-8 -*-# @Time : 2020/5/31# @Author : esyimport wfdbimport pandas as pdimport warnings# å¿½ç•¥è­¦å‘Šwarnings.filterwarnings(\"ignore\")# è¯»å–stæ–‡ä»¶test = input(\"è¯·è¾“å…¥æƒ³è¯»å–çš„æ–‡ä»¶åï¼š \")num = int(input(\"è¾“å…¥ä¿å­˜çš„æ–‡ä»¶åï¼š \"))# test = 'slp14'annotation = wfdb.rdann('F:/slpdb_data/mitdata' + '/%s' % test, 'st')aux = annotation.aux_note# record = wfdb.rdrecord('F:/slpdb_data/mitdata' + '/%s' % test, sampfrom=1222500, sampto=1237500, channels=[3])# ecg_signal = record.p_signal# æŸ¥çœ‹ä½é€šæ°”å’Œosaé˜»å¡æ€§å‘¼å¸æš‚åœçš„ecgä¿¡å·å–åˆ«# å¯¹æ ‡ç­¾è¿›è¡Œå¤„ç†ã€‚åˆ†ä¸º2ä¸ªç±»åˆ«,å°±æ˜¯æ­£å¸¸å’Œä½é€šæ°”ã€‚æŠŠosaåˆ¤å®šä¸ºä½é€šæ°”tag1 = []tag2 = []tag3 = []for i in range(len(aux)): if (aux[i][0] == '4') or (aux[i][0] == '3'): tag1.append(1) tag2.append(1) tag3.append(1) elif aux[i][0] == '2': tag1.append(2) tag2.append(2) tag3.append(1) elif aux[i][0] == '1': tag1.append(3) tag2.append(2) tag3.append(1) elif aux[i][0] == 'R': tag1.append(4) tag2.append(3) tag3.append(2) else: tag1.append(5) tag2.append(4) tag3.append(3)# å³aux[i][2]:ä¸ºä½é€šæ°”è¿™äº›çš„åˆ¤å®šï¼Œå¦‚æœæ²¡æœ‰åˆ™è®¤å®šä¸ºæ­£å¸¸ï¼Œæœ‰å°±è¿›è¡Œåˆ¤å®štag4 = []for i in range(len(aux)): if len(aux[i]) == 1 or len(aux[i]) == 2: tag4.append(0) elif len(aux[i]) &gt;= 3: if (aux[i][2] == 'H') or (aux[i][2] == 'X') or (aux[i][2] == 'O') or (aux[i][2] == 'C'): tag4.append(1) else: tag4.append(0)label1 = pd.DataFrame(tag1, columns=['N321RW'])label2 = pd.DataFrame(tag2, columns=['DLRW'])label3 = pd.DataFrame(tag3, columns=['NRW'])label4 = pd.DataFrame(tag4, columns=['AHI'])label = pd.concat([label1, label2, label3, label4], axis=1)label.to_excel('%d' % num + \".xlsx\") é¦–å…ˆå¯¹æ ‡ç­¾è¿›è¡Œå¤„ç†ï¼Œç¡çœ åˆ†ä¸º3å¤§ä¸»é¢˜ã€‚ä½é€šæ°”å’Œæ­£å¸¸åˆ†ä¸ºä¸€ç±»ã€‚ slp03å’Œslp60ä¸¢å¤±äº†ä¸€æ®µæ•°æ® 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273# -*- coding: utf-8 -*-# @Time : 2020/6/8# @Author : esyimport wfdbimport pandas as pdimport warnings# å¿½ç•¥è­¦å‘Šwarnings.filterwarnings(\"ignore\")# è¯»å–stæ–‡ä»¶# test = input(\"è¯·è¾“å…¥æƒ³è¯»å–çš„æ–‡ä»¶åï¼š \")test = 'slp03'# test = 'slp60'annotation = wfdb.rdann('F:/slpdb_data/mitdata' + '/%s' % test, 'st')aux = annotation.aux_note# record = wfdb.rdrecord('F:/slpdb_data/mitdata' + '/%s' % test, sampfrom=1222500, sampto=1237500, channels=[3])# ecg_signal = record.p_signal# æŸ¥çœ‹ä½é€šæ°”å’Œosaé˜»å¡æ€§å‘¼å¸æš‚åœçš„ecgä¿¡å·å–åˆ«# å¯¹æ ‡ç­¾è¿›è¡Œå¤„ç†ã€‚åˆ†ä¸º2ä¸ªç±»åˆ«,å°±æ˜¯æ­£å¸¸å’Œä½é€šæ°”ã€‚æŠŠosaåˆ¤å®šä¸ºä½é€šæ°”tag1 = []tag2 = []tag3 = []for i in range(len(aux)): if (aux[i][0] == '4') or (aux[i][0] == '3'): tag1.append(1) tag2.append(1) tag3.append(1) elif aux[i][0] == '2': tag1.append(2) tag2.append(2) tag3.append(1) elif aux[i][0] == '1': tag1.append(3) tag2.append(2) tag3.append(1) elif aux[i][0] == 'R': tag1.append(4) tag2.append(3) tag3.append(2) else: tag1.append(5) tag2.append(4) tag3.append(3)# å³aux[i][2]:ä¸ºä½é€šæ°”è¿™äº›çš„åˆ¤å®šï¼Œå¦‚æœæ²¡æœ‰åˆ™è®¤å®šä¸ºæ­£å¸¸ï¼Œæœ‰å°±è¿›è¡Œåˆ¤å®štag4 = []for i in range(len(aux)): # if 174 &lt; i &lt; 194: # slp03 if 538 &lt; i &lt; 549: # slp60 pass else: if len(aux[i]) == 1 or len(aux[i]) == 2: tag4.append(0) elif len(aux[i]) &gt;= 3: if (aux[i][2] == 'H') or (aux[i][2] == 'X') or (aux[i][2] == 'O') or (aux[i][2] == 'C'): tag4.append(1) else: tag4.append(0)label1 = pd.DataFrame(tag1, columns=['N321RW'])label2 = pd.DataFrame(tag2, columns=['DLRW'])label4 = pd.DataFrame(tag4, columns=['AHI'])label3 = pd.DataFrame(tag3, columns=['NRW'])label = pd.concat([label1, label2, label3, label4], axis=1)num = int(input(\"è¾“å…¥ä¿å­˜çš„æ–‡ä»¶åï¼š \"))label.to_excel('%d' % num + \".xlsx\")","categories":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/categories/work/"}],"tags":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/tags/work/"}]},{"title":"é¢å‘å¯¹è±¡ç‰ˆå­¦å‘˜ç®¡ç†ç³»ç»Ÿ","slug":"python/é¢å‘å¯¹è±¡ç‰ˆå­¦å‘˜ç®¡ç†ç³»ç»Ÿ","date":"2020-05-28T11:58:57.000Z","updated":"2020-05-28T11:58:57.000Z","comments":true,"path":"2020/05/28/python/é¢å‘å¯¹è±¡ç‰ˆå­¦å‘˜ç®¡ç†ç³»ç»Ÿ/","link":"","permalink":"https://esyyes.github.io/2020/05/28/python/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%89%88%E5%AD%A6%E5%91%98%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/","excerpt":"","text":"é¢å‘å¯¹è±¡ç‰ˆå­¦å‘˜ç®¡ç†ç³»ç»Ÿ123456789101112131415161718192021222324252627282930313233343536373839# -*- coding: utf-8 -*-# @Time : 2020/5/27# @Author : esy\"\"\"## 3.1 student.pyéœ€æ±‚ï¼š- å­¦å‘˜ä¿¡æ¯åŒ…å«ï¼šå§“åã€æ€§åˆ«ã€æ‰‹æœºå·ï¼›- æ·»åŠ `__str__`é­”æ³•æ–¹æ³•ï¼Œæ–¹ä¾¿æŸ¥çœ‹å­¦å‘˜å¯¹è±¡ä¿¡æ¯\"\"\"\"\"\"åˆ†æï¼š1.ç”Ÿæˆå­¦ç”Ÿè¿™ä¸ªç±»åˆ«2.è¿™ä¸ªç±»åˆ«ä¸­çš„å±æ€§æœ‰ å§“åã€æ€§åˆ«ã€æ‰‹æœºå·3.å¯ä»¥ç”¨__str__è¿™ä¸ªæ¥è¿›è¡Œèµ‹å€¼\"\"\"# ç”Ÿæˆå­¦ç”Ÿè¿™ä¸ªç±»åˆ«class student(object): # åˆå§‹åŒ–å¯¹è±¡ï¼Œè®¾å®šå¯¹è±¡å¸¦çš„å±æ€§ï¼Œç”¨__init__è®¾ç½®å¸¦ç±»çš„å¯¹è±¡çš„å±æ€§ï¼Œselfå°±æ˜¯student def __init__(self, name, gender, tel): # self.nameå°±æ˜¯å¸¦çš„å°å±æ€§ï¼Œnameå³å¯å®šä¹‰å‚æ•° self.name = name self.gender = gender self.tel = tel # def __str__(self): # å½“ä½¿ç”¨printè¾“å‡ºå¯¹è±¡çš„æ—¶å€™ï¼Œé»˜è®¤æ‰“å°å¯¹è±¡çš„å†…å­˜åœ°å€ã€‚ # å¦‚æœç±»å®šä¹‰äº†`__str__`æ–¹æ³•ï¼Œé‚£ä¹ˆå°±ä¼šæ‰“å°ä»åœ¨è¿™ä¸ªæ–¹æ³•ä¸­ return çš„æ•°æ®ã€‚ # ä¾¿äºç›´æ¥æ‰“å°å‡ºå†…éƒ¨çš„æ–‡ä»¶ä¿¡æ¯ def __str__(self): # è¿”å›çš„æ˜¯è¦æ‰“å°çš„å†…å®¹ return f\"å­¦ç”Ÿå§“åï¼š&#123;self.name&#125;, æ€§åˆ«ï¼š&#123;self.gender&#125;, æ‰‹æœºå·ï¼š&#123;self.tel&#125;\"# é‡å‘½åæ—¶ä¸èƒ½å‘½åä¸ºç±»çš„åå­—# student1 = student('zc', 'man', '111')# print(student1) ç”Ÿæˆç®¡ç†ç³»ç»Ÿè¿™ä¸ªç±»åˆ«ï¼š123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261# -*- coding: utf-8 -*-# @Time : 2020/5/28# @Author : esyfrom student import student\"\"\"## ManagerSystem.pyéœ€æ±‚ï¼š- å­˜å‚¨æ•°æ®çš„ä½ç½®ï¼šæ–‡ä»¶(student.csv) - åŠ è½½æ–‡ä»¶æ•°æ® - ä¿®æ”¹æ•°æ®åä¿å­˜åˆ°æ–‡ä»¶- å­˜å‚¨æ•°æ®çš„å½¢å¼ï¼šåˆ—è¡¨å­˜å‚¨å­¦å‘˜å¯¹è±¡- ç³»ç»ŸåŠŸèƒ½ - æ·»åŠ å­¦å‘˜ - åˆ é™¤å­¦å‘˜ - ä¿®æ”¹å­¦å‘˜ - æŸ¥è¯¢å­¦å‘˜ä¿¡æ¯ - æ˜¾ç¤ºæ‰€æœ‰å­¦å‘˜ä¿¡æ¯ - ä¿å­˜å­¦å‘˜ä¿¡æ¯ - é€€å‡ºç³»ç»Ÿ\"\"\"\"\"\"éœ€æ±‚ï¼šç³»ç»ŸåŠŸèƒ½å¾ªç¯ä½¿ç”¨ï¼Œç”¨æˆ·è¾“å…¥ä¸åŒçš„åŠŸèƒ½åºå·æ‰§è¡Œä¸åŒçš„åŠŸèƒ½ã€‚- æ­¥éª¤ - å®šä¹‰ç¨‹åºå…¥å£å‡½æ•° - åŠ è½½æ•°æ® - æ˜¾ç¤ºåŠŸèƒ½èœå• - ç”¨æˆ·è¾“å…¥åŠŸèƒ½åºå· - æ ¹æ®ç”¨æˆ·è¾“å…¥çš„åŠŸèƒ½åºå·æ‰§è¡Œä¸åŒçš„åŠŸèƒ½ - å®šä¹‰ç³»ç»ŸåŠŸèƒ½å‡½æ•°ï¼Œæ·»åŠ ã€åˆ é™¤å­¦å‘˜ç­‰\"\"\"\"\"\"åˆ†æï¼š1. åŠ è½½dataæ–‡ä»¶éœ€è¦å¯¹æ–‡ä»¶è¿›è¡Œä¿®æ”¹å’Œä¿å­˜2. ä¿®æ”¹æ•°æ®åä¿å­˜åˆ°æ–‡ä»¶\"\"\"class MangerSystem(object): def __init__(self): # åˆ—è¡¨å­˜å‚¨å­¦å‘˜å¯¹è±¡ self.student_list = [] def run(self): # ç¨‹åºå¼€å§‹è¿è¡Œï¼Œè¿›å…¥ç•Œé¢ # åŠ è½½student.dataæ–‡ä»¶ self.load_student() # while True è¯­å¥ä¸­ä¸€å®šè¦æœ‰ç»“æŸè¯¥å¾ªç¯çš„breakè¯­å¥ï¼Œå¦åˆ™ä¼šä¸€ç›´å¾ªç¯ä¸‹å»çš„ã€‚ # è¿™æ˜¯ä¸€ä¸ªæ­»å¾ªç¯ï¼Œæ‰€ä»¥æ¯æ¬¡å¾ªç¯åè¾“å…¥éƒ½è¦å»æ˜¾ç¤ºé¡µé¢ # é‡‡ç”¨while Trueå¾ªç¯è¯­å¥ï¼š # æ ¹æ®è¾“å…¥çš„åŠŸèƒ½åºå·è¿›è¡Œåˆ¤æ–­ï¼Œç„¶åè¿è¡ŒåŠŸèƒ½ while True: # æ˜¾ç¤ºç•Œé¢çš„åŠŸèƒ½ self.show_menu() # åˆ©ç”¨æ•°å­—ç­›é€‰ç³»ç»Ÿçš„åŠŸèƒ½ï¼Œä¾›é€‰æ‹©ç³»ç»Ÿçš„åŠŸèƒ½ï¼Œé¦–å…ˆè¦ç¡®å®šä½ è¾“å…¥çš„æ•°å­—æ˜¯ä»€ä¹ˆ # ç”¨intè½¬æ¢ä¸ºæ•´æ•°å½¢å¼ï¼Œå°†è¿™ä¸ªåŠŸèƒ½èµ‹å€¼ç»™èœå•ï¼Œç„¶åç”¨èœå•é‡Œçš„å†…å®¹è¿›è¡Œæ¯”è¾ƒï¼Œè¾“å…¥èœå•çš„åŠŸèƒ½ menu_num = int(input('è¯·è¾“å…¥ä½ éœ€è¦çš„åŠŸèƒ½åºå·ï¼š')) if menu_num == 1: # 1- æ·»åŠ å­¦å‘˜ self.add_student() elif menu_num == 2: # 2- åˆ é™¤å­¦å‘˜ self.del_student() elif menu_num == 3: # 3 - ä¿®æ”¹å­¦å‘˜ self.modify_student() elif menu_num == 4: # 4 - æŸ¥è¯¢å­¦å‘˜ä¿¡æ¯ self.search_student() elif menu_num == 5: # 5 - æ˜¾ç¤ºæ‰€æœ‰å­¦å‘˜ä¿¡æ¯ self.show_student() elif menu_num == 6: # 6 - ä¿å­˜å­¦å‘˜ä¿¡æ¯ self.save_student() elif menu_num == 7: # 7 - é€€å‡ºç³»ç»Ÿ # è·³å‡ºå¾ªç¯å³å¯ break # æ˜¾ç¤ºèœå•çš„åŠŸèƒ½ï¼Œå°†å¯¹åº”åºå·è¡¨ç°å‡ºæ¥ï¼Œä»¥ä¾›é€‰æ‹©ï¼Œé™æ€çš„ # å½“æ–¹æ³•ä¸­ **æ—¢ä¸éœ€è¦ä½¿ç”¨å®ä¾‹å¯¹è±¡**(å¦‚å®ä¾‹å¯¹è±¡ï¼Œå®ä¾‹å±æ€§)ï¼Œ**ä¹Ÿä¸éœ€è¦ä½¿ç”¨ç±»å¯¹è±¡** # (å¦‚ç±»å±æ€§ã€ç±»æ–¹æ³•ã€åˆ›å»ºå®ä¾‹ç­‰)æ—¶ï¼Œå®šä¹‰ä¸ºé™æ€æ–¹æ³• # ç”¨@staticmethodä¿®é¥° @staticmethod def show_menu(): print(f'è¯·é€‰æ‹©ä»¥ä¸‹åŠŸèƒ½ï¼š ') print(f'1: æ·»åŠ å­¦å‘˜') print(f'2: åˆ é™¤å­¦å‘˜') print(f'3: ä¿®æ”¹å­¦å‘˜ä¿¡æ¯') print(f'4: æŸ¥è¯¢å­¦å‘˜ä¿¡æ¯') print(f'5: æ˜¾ç¤ºæ‰€æœ‰å­¦å‘˜ä¿¡æ¯') print(f'6: ä¿å­˜å­¦å‘˜ä¿¡æ¯') print(f'7: é€€å‡ºç³»ç»Ÿ') # è¯»å–studentä¸­çš„æ•°æ® def load_student(self): try: f = open('student.data', 'r') print(f'æˆåŠŸæ‰“å¼€æ–‡ä»¶') except: f = open('student.data', 'w') print(f'æ²¡æœ‰è¯¥æ–‡ä»¶') else: data = f.read() data_list = eval(data) # å°†å­¦ç”Ÿçš„æ•°æ®æ”¾å…¥å­¦ç”Ÿçš„ç±»åˆ«ä¸­ï¼Œstudent.py,å‚æ•°å†™å…¥studentçš„å±æ€§('name', 'gender', 'tel')ï¼Œå°†å…¶èµ‹å€¼ï¼Œå¹¶ä¿å­˜ä¸ºlistå½¢å¼ # éœ€è¦ä¸student.pyæ–‡ä»¶ç»“åˆèµ·æ¥,éœ€è¦å¯¼å…¥é‚£ä¸ªæ–‡ä»¶ä¸­çš„studentæ¨¡å—ï¼Œç±»åˆ« self.student_list = [student(i['name'], i['gender'], i['tel']) for i in data_list] finally: f.close() # 1-æ·»åŠ å­¦å‘˜ def add_student(self): # è¾“å…¥name gender tel name = input(\"è¯·è¾“å…¥å­¦å‘˜çš„å§“åï¼š\") gender = input(\"è¯·è¾“å…¥å­¦å‘˜çš„æ€§åˆ«ï¼š \") tel = input(\"è¯·è¾“å…¥å­¦å‘˜çš„ç”µè¯å·ç ï¼š \") # å°†name gender telæ”¾å…¥studentè¿™ä¸ªç±»åˆ«é‡Œé¢ï¼Œä½œä¸ºä¸€ä¸ªå­—å…¸ï¼Œç„¶åå†å åŠ åˆ°student_listè¿™ä¸ªåˆ—è¡¨é‡Œé¢ student_in = student(name, gender, tel) self.student_list.append(student_in) # æŸ¥çœ‹å­—å…¸å’Œåˆ—è¡¨ print(student_in) print(self.student_list) # 2-åˆ é™¤å­¦å‘˜ def del_student(self): # è¾“å…¥ä½ æƒ³åˆ é™¤å­¦å‘˜çš„åå­— del_name = input(\"è¯·è¾“å…¥ä½ æƒ³åˆ é™¤çš„å­¦å‘˜çš„åå­—ï¼š \") # æŸ¥æ‰¾è¿™ä¸ªå­¦å‘˜çš„åå­—åœ¨å“ª,ç”¨å¾ªç¯éå†å‡ºè¿™ä¸ªå­¦å‘˜çš„æ‰€åœ¨ # ç„¶ååˆ é™¤è¿™ä¸ªå­¦å‘˜çš„name gender telï¼Œå³åœ¨listä¸­ç›´æ¥ç§»é™¤è¿™ä¸ªå­—å…¸ # éå†å‡ºçš„æ¯ä¸ªå­—å…¸éƒ½æ˜¯student_in = student(name, gender, tel)ï¼Œæ‰€ä»¥è¿™ä¸ªå­—å…¸ä¸­çš„åå­—å³å¯ä¸ºi.name for i in self.student_list: if del_name == i.name: self.student_list.remove(i) break else: # å¦‚æœæ²¡æœ‰è¿™ä¸ªåå­—å°±è¾“å‡ºè¿™ä¸ª print('æ²¡æœ‰è¿™ä¸ªå­¦å‘˜') # å†æ‰“å°å‡ºè¿™ä¸ªåˆ—è¡¨çš„å€¼ print(self.student_list) # 3- ä¿®æ”¹å­¦å‘˜ä¿¡æ¯ def modify_student(self): # è¾“å…¥ä½ æƒ³ä¿®æ”¹çš„å­¦å‘˜çš„åå­—,è¿›è¡ŒæŸ¥æ‰¾,ç„¶åä¿®æ”¹é‡Œé¢çš„name,gender,tel modify_name = input(\"è¯·è¾“å…¥ä½ æƒ³ä¿®æ”¹çš„å­¦å‘˜çš„åå­—ï¼š \") for i in self.student_list: if modify_name == i.name: i.name = input(\"å§“åä¿®æ”¹ï¼š\") i.gender = input(\"æ€§åˆ«ä¿®æ”¹ï¼š\") i.tel = input(\"ç”µè¯ä¿®æ”¹ä¸ºï¼š\") print(f'å­¦å‘˜ä¿¡æ¯ä¿®æ”¹å®Œæ¯•ã€‚ å§“åä¸º&#123;i.name&#125;, æ€§åˆ«ä¸ºï¼š&#123;i.gender&#125;, ç”µè¯ä¸ºï¼š&#123;i.tel&#125;') break else: # å¦‚æœæ²¡æœ‰è¿™ä¸ªåå­—å°±è¾“å‡ºè¿™ä¸ª print('æ²¡æœ‰è¿™ä¸ªå­¦å‘˜') # 4 - æŸ¥è¯¢å­¦å‘˜ä¿¡æ¯ def search_student(self): # è¾“å…¥ä½ æƒ³æŸ¥è¯¢çš„å­¦å‘˜çš„åå­—,è¿›è¡ŒæŸ¥æ‰¾ search_name = input(\"è¯·è¾“å…¥ä½ æƒ³æŸ¥æ‰¾çš„çš„å­¦å‘˜çš„åå­—ï¼š \") for i in self.student_list: if search_name == i.name: print(f'å§“åï¼š&#123;i.name&#125;, æ€§åˆ«ï¼š&#123;i.gender&#125;, ç”µè¯ï¼š&#123;i.tel&#125;') break else: # å¦‚æœæ²¡æœ‰è¿™ä¸ªåå­—å°±è¾“å‡ºè¿™ä¸ª print('æ²¡æœ‰è¿™ä¸ªå­¦å‘˜') # 5- æ˜¾ç¤ºæ‰€æœ‰å­¦å‘˜ä¿¡æ¯ def show_student(self): # ç”¨è¡¨æ ¼çš„å½¢å¼å±•ç¤º # æ‰“å°è¡¨å¤´ print(f'å§“å\\tæ€§åˆ«\\tç”µè¯') for i in self.student_list: # æ‰“å°å‡ºè¡¨æ ¼å†…å®¹ print(f'&#123;i.name&#125;\\t&#123;i.gender&#125;\\t&#123;i.tel&#125;') # 6- ä¿å­˜å­¦å‘˜ä¿¡æ¯ # å³å°†å­¦å‘˜çš„ä¿¡æ¯å†™å…¥student.dataæ–‡ä»¶ä¸­ def save_student(self): f = open('student.data', 'w') # å°†student_listä¸­çš„å†…å®¹æ›´æ”¹åå†™å…¥ç¨‹åº # å†™å…¥çš„å†…å®¹å¿…é¡»æ˜¯å­—ç¬¦ä¸² # ç›´æ¥å†™å…¥çš„åˆ—è¡¨å°†ä¼šæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²å½¢å¼ï¼Œä½†æ˜¯ä¸ä¼šè¿›è¡Œå•æ’çš„åˆ†é¡µï¼Œæ‰€ä»¥éœ€è¦å°†å®ƒä¸€ä¸ªä¸€ä¸ªçš„å±•å¼€ # new_list = [] # for i in self.student_list: # new_list.append(i.__dict__) new_list = [i.__dict__ for i in self.student_list] f.write(str(new_list)) f.close()# è¿™ä¸ªç¬¦å·çš„æ„æ€# __dict__?ç›´æ¥è°ƒç”¨ç±»åˆ«ä¸­çš„é‚£åˆ—çš„å­—å…¸# 1. å®šä¹‰ç±»# class A(object):# a = 0## def __init__(self):# self.b = 1### # 2. åˆ›å»ºå¯¹è±¡# aa = A()## # 3. è°ƒç”¨__dict__# print(A.__dict__)## print(aa.__dict__)\"\"\"try: # ç”¨åªè¯»çš„å½¢å¼æ‰“å¼€æ–‡ä»¶ f = open('student.data', 'r') print(f'æ–‡ä»¶å¤¹ä¸­æœ‰è¯¥æ–‡ä»¶')except: # å¦‚æœå‘ç”Ÿäº†å¼‚å¸¸ï¼Œåˆ™åœ¨æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶ï¼Œç”¨wå†™å…¥æ–‡ä»¶ f = open('student.data', 'w') print(f'åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶')else: # æ²¡æœ‰å¼‚å¸¸æ‰æ‰§è¡Œçš„è¯­å¥ï¼Œtryèƒ½å¤Ÿè¿è¡Œæ‰æ‰§è¡Œçš„è¯­å¥ # f.read()è¯»å–æ–‡ä»¶å¤¹ä¸­çš„å‚æ•°ï¼Œå†…å®¹ data = f.read() # æŸ¥çœ‹dataå†…çš„å‚æ•°å†…å®¹ print(type(data)) # '[&#123;'name': 'aaa', 'gender': 'nan', 'tel': '11111111'&#125;]' # dataæ˜¯å­—ç¬¦ä¸²å½¢å¼ï¼Œå»é™¤[]åˆ—è¡¨å¤–çš„'',ä½¿ç”¨evalï¼Œè½¬æ¢ä¸ºlist data_list = eval(data) print(f'å°†å­—ç¬¦ä¸²&#123;type(data)&#125;è½¬æ¢ä¸ºåˆ—è¡¨&#123;type(data_list)&#125;:&#123;data_list&#125;') print(f'å­—å…¸çš„key:&#123;data_list[0].keys()&#125;, å­—å…¸çš„values: &#123;data_list[0].values()&#125;') name = data_list[0]['name'] gender = data_list[0]['gender'] tel = data_list[0]['tel']finally: # ä¸ç®¡æˆåŠŸä¸å¦ï¼Œå…³é—­æ–‡ä»¶å¤¹ f.close()for i in data_list: print(i) print(1) self.student_list = [Student(i['name'], i['gender'], i['tel']) for i in new_list] ç”Ÿæˆä¸€ä¸ªå­—å…¸i: dict, &#123;'name': 'aaa', 'gender': 'nan', 'tel': '11111111'&#125; i['name'] = value # ç„¶åå°†å…¶èµ‹å€¼åˆ°studentçš„å±æ€§é‡Œé¢\"\"\" ç”Ÿæˆä¸€ä¸ªä¸»ç¨‹åºè¿›è¡Œè¿è¡Œ1234567891011121314151617181920# -*- coding: utf-8 -*-# @Time : 2020/5/28# @Author : esy# ç”Ÿæˆä¸€ä¸ªä¸»ç¨‹åºè¿›è¡Œè¿è¡Œfrom MangerSystem import *# å·²ç»åœ¨MangerSystemè¿›è¡Œäº†è°ƒç”¨# from student import *# 2. å¯åŠ¨ç®¡ç†ç³»ç»Ÿ# ä¿è¯æ˜¯å½“å‰æ–‡ä»¶è¿è¡Œæ‰å¯åŠ¨ç®¡ç†ç³»ç»Ÿï¼šif --åˆ›å»ºå¯¹è±¡å¹¶è°ƒç”¨runæ–¹æ³•# æ¯ä¸ªpythonæ¨¡å—ï¼ˆpythonæ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯æ­¤å¤„çš„ test.py å’Œ import_test.pyï¼‰éƒ½åŒ…å«å†…ç½®çš„å˜é‡# __name__ï¼Œå½“è¯¥æ¨¡å—è¢«ç›´æ¥æ‰§è¡Œçš„æ—¶å€™ï¼Œ__name__ ç­‰äºæ–‡ä»¶åï¼ˆåŒ…å«åç¼€ .py ï¼‰ï¼›# å¦‚æœè¯¥æ¨¡å— import åˆ°å…¶ä»–æ¨¡å—ä¸­ï¼Œåˆ™è¯¥æ¨¡å—çš„ __name__ ç­‰äºæ¨¡å—åç§°ï¼ˆä¸åŒ…å«åç¼€.pyï¼‰ã€‚# è€Œ â€œ__main__â€ å§‹ç»ˆæŒ‡å½“å‰æ‰§è¡Œæ¨¡å—çš„åç§°ï¼ˆåŒ…å«åç¼€.pyï¼‰ã€‚è¿›è€Œå½“æ¨¡å—è¢«ç›´æ¥æ‰§è¡Œæ—¶ï¼Œ__name__ == 'main' ç»“æœä¸ºçœŸã€‚if __name__ == '__main__': student_manager = MangerSystem() student_manager.run() ç”Ÿæˆçš„ç•Œé¢ï¼š12345678910æˆåŠŸæ‰“å¼€æ–‡ä»¶è¯·é€‰æ‹©ä»¥ä¸‹åŠŸèƒ½ï¼š 1: æ·»åŠ å­¦å‘˜2: åˆ é™¤å­¦å‘˜3: ä¿®æ”¹å­¦å‘˜ä¿¡æ¯4: æŸ¥è¯¢å­¦å‘˜ä¿¡æ¯5: æ˜¾ç¤ºæ‰€æœ‰å­¦å‘˜ä¿¡æ¯ ä¸èƒ½è¿›è¡Œbreak,è¦ä¸ç„¶ä¼šå¯¼è‡´æ·»åŠ åè·³å‡ºå¾ªç¯ï¼Œæ— æ³•æŸ¥æ‰¾åˆ°6: ä¿å­˜å­¦å‘˜ä¿¡æ¯7: é€€å‡ºç³»ç»Ÿè¯·è¾“å…¥ä½ éœ€è¦çš„åŠŸèƒ½åºå·ï¼š","categories":[{"name":"python","slug":"python","permalink":"https://esyyes.github.io/categories/python/"}],"tags":[{"name":"python","slug":"python","permalink":"https://esyyes.github.io/tags/python/"}]},{"title":"python-å…¥é—¨å¤ä¹ ä¹‹æ¨¡å—å’ŒåŒ…","slug":"python/python-å…¥é—¨å¤ä¹ ä¹‹æ¨¡å—å’ŒåŒ…","date":"2020-05-26T10:43:10.000Z","updated":"2020-05-26T10:43:10.000Z","comments":true,"path":"2020/05/26/python/python-å…¥é—¨å¤ä¹ ä¹‹æ¨¡å—å’ŒåŒ…/","link":"","permalink":"https://esyyes.github.io/2020/05/26/python/python-%E5%85%A5%E9%97%A8%E5%A4%8D%E4%B9%A0%E4%B9%8B%E6%A8%A1%E5%9D%97%E5%92%8C%E5%8C%85/","excerpt":"","text":"python-å…¥é—¨å¤ä¹ ä¹‹æ¨¡å—å’ŒåŒ…123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118# -*- coding: utf-8 -*-# @Time : 2020/5/26# @Author : esy\"\"\"æ¨¡å—Python æ¨¡å—(Module)ï¼Œæ˜¯ä¸€ä¸ª Python æ–‡ä»¶ï¼Œä»¥ .py ç»“å°¾ï¼ŒåŒ…å«äº† Python å¯¹è±¡å®šä¹‰å’ŒPythonè¯­å¥ã€‚æ¨¡å—èƒ½å®šä¹‰å‡½æ•°ï¼Œç±»å’Œå˜é‡ï¼Œæ¨¡å—é‡Œä¹Ÿèƒ½åŒ…å«å¯æ‰§è¡Œçš„ä»£ç ã€‚### å¯¼å…¥æ¨¡å—çš„æ–¹å¼- import æ¨¡å—å- from æ¨¡å—å import åŠŸèƒ½å- from æ¨¡å—å import *- import æ¨¡å—å as åˆ«å- from æ¨¡å—å import åŠŸèƒ½å as åˆ«å# 1. å¯¼å…¥æ¨¡å—import æ¨¡å—åimport æ¨¡å—å1, æ¨¡å—å2...# 2. è°ƒç”¨åŠŸèƒ½æ¨¡å—å.åŠŸèƒ½å()#### 1.1.2.2 from..import..- è¯­æ³•``` pythonfrom æ¨¡å—å import åŠŸèƒ½1, åŠŸèƒ½2, åŠŸèƒ½3...```- ä½“éªŒ``` pythonfrom math import sqrtprint(sqrt(9))```#### 1.1.2.3 from .. import *- è¯­æ³•``` pythonfrom æ¨¡å—å import *```- ä½“éªŒ``` pythonfrom math import *print(sqrt(9))```#### 1.1.2.4 aså®šä¹‰åˆ«å- è¯­æ³•``` python# æ¨¡å—å®šä¹‰åˆ«åimport æ¨¡å—å as åˆ«å# åŠŸèƒ½å®šä¹‰åˆ«åfrom æ¨¡å—å import åŠŸèƒ½ as åˆ«å```- ä½“éªŒ``` python# æ¨¡å—åˆ«åimport time as tttt.sleep(2)print('hello')# åŠŸèƒ½åˆ«åfrom time import sleep as slsl(2)print('hello')```åŒ…å°†æœ‰è”ç³»çš„æ¨¡å—ç»„ç»‡åœ¨ä¸€èµ·ï¼Œå³æ”¾åˆ°åŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹ï¼Œå¹¶ä¸”åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹åˆ›å»ºä¸€ä¸ªåå­—ä¸º`__init__.py` æ–‡ä»¶ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–‡ä»¶å¤¹å°±ç§°ä¹‹ä¸ºåŒ…ã€‚## 2.1 åˆ¶ä½œåŒ…[New] â€” [Python Package] â€” è¾“å…¥åŒ…å â€” [OK] â€” æ–°å»ºåŠŸèƒ½æ¨¡å—(æœ‰è”ç³»çš„æ¨¡å—)ã€‚æ³¨æ„ï¼šæ–°å»ºåŒ…åï¼ŒåŒ…å†…éƒ¨ä¼šè‡ªåŠ¨åˆ›å»º`__init__.py`æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶æ§åˆ¶ç€åŒ…çš„å¯¼å…¥è¡Œä¸ºã€‚importåŒ…å.æ¨¡å—ååŒ…å.æ¨¡å—å.ç›®æ ‡å¿…é¡»åœ¨`__init__.py`æ–‡ä»¶ä¸­æ·»åŠ `__all__ = []`ï¼Œæ§åˆ¶å…è®¸å¯¼å…¥çš„æ¨¡å—åˆ—è¡¨ã€‚- å¯¼å…¥æ¨¡å—æ–¹æ³•``` pythonimport æ¨¡å—åfrom æ¨¡å—å import ç›®æ ‡from æ¨¡å—å import *```- å¯¼å…¥åŒ…``` pythonimport åŒ…å.æ¨¡å—åfrom åŒ…å import *```- `__all__ = []` ï¼šå…è®¸å¯¼å…¥çš„æ¨¡å—æˆ–åŠŸèƒ½åˆ—è¡¨\"\"\"","categories":[{"name":"python","slug":"python","permalink":"https://esyyes.github.io/categories/python/"}],"tags":[{"name":"python","slug":"python","permalink":"https://esyyes.github.io/tags/python/"}]},{"title":"python-å…¥é—¨å¤ä¹ ä¹‹å¼‚å¸¸","slug":"python/python-å…¥é—¨å¤ä¹ ä¹‹å¼‚å¸¸","date":"2020-05-26T10:38:15.000Z","updated":"2020-05-26T10:38:15.000Z","comments":true,"path":"2020/05/26/python/python-å…¥é—¨å¤ä¹ ä¹‹å¼‚å¸¸/","link":"","permalink":"https://esyyes.github.io/2020/05/26/python/python-%E5%85%A5%E9%97%A8%E5%A4%8D%E4%B9%A0%E4%B9%8B%E5%BC%82%E5%B8%B8/","excerpt":"","text":"python-å…¥é—¨å¤ä¹ ä¹‹å¼‚å¸¸12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394# -*- coding: utf-8 -*-# @Time : 2020/5/26# @Author : esy\"\"\"å½“æ£€æµ‹åˆ°ä¸€ä¸ªé”™è¯¯æ—¶ï¼Œè§£é‡Šå™¨å°±æ— æ³•ç»§ç»­æ‰§è¡Œäº†ï¼Œåè€Œå‡ºç°äº†ä¸€äº›é”™è¯¯çš„æç¤ºï¼Œè¿™å°±æ˜¯æ‰€è°“çš„\"å¼‚å¸¸\"ã€‚å¼‚å¸¸çš„å†™æ³•try: å¯èƒ½å‘ç”Ÿé”™è¯¯çš„ä»£ç except: å¦‚æœå‡ºç°å¼‚å¸¸æ‰§è¡Œçš„ä»£ç æ•è·æŒ‡å®šå¼‚å¸¸try: å¯èƒ½å‘ç”Ÿé”™è¯¯çš„ä»£ç except å¼‚å¸¸ç±»å‹: å¦‚æœæ•è·åˆ°è¯¥å¼‚å¸¸ç±»å‹æ‰§è¡Œçš„ä»£ç try: print(num)except NameError: print('æœ‰é”™è¯¯')æ³¨æ„ï¼š1. å¦‚æœå°è¯•æ‰§è¡Œçš„ä»£ç çš„å¼‚å¸¸ç±»å‹å’Œè¦æ•è·çš„å¼‚å¸¸ç±»å‹ä¸ä¸€è‡´ï¼Œåˆ™æ— æ³•æ•è·å¼‚å¸¸ã€‚2. ä¸€èˆ¬tryä¸‹æ–¹åªæ”¾ä¸€è¡Œå°è¯•æ‰§è¡Œçš„ä»£ç ã€‚å½“æ•è·å¤šä¸ªå¼‚å¸¸æ—¶ï¼Œå¯ä»¥æŠŠè¦æ•è·çš„å¼‚å¸¸ç±»å‹çš„åå­—ï¼Œæ”¾åˆ°except åï¼Œå¹¶ä½¿ç”¨å…ƒç»„çš„æ–¹å¼è¿›è¡Œä¹¦å†™ã€‚try: print(1/0)except (NameError, ZeroDivisionError): print('æœ‰é”™è¯¯')æ•è·å¼‚å¸¸æè¿°ä¿¡æ¯try: print(num)except (NameError, ZeroDivisionError) as result: print(result)æ•è·æ‰€æœ‰å¼‚å¸¸Exceptionæ˜¯æ‰€æœ‰ç¨‹åºå¼‚å¸¸ç±»çš„çˆ¶ç±»ã€‚try: print(num)except Exception as result: print(result)elseè¡¨ç¤ºçš„æ˜¯å¦‚æœæ²¡æœ‰å¼‚å¸¸è¦æ‰§è¡Œçš„ä»£ç ã€‚try: print(1)except Exception as result: print(result)else: print('æˆ‘æ˜¯elseï¼Œæ˜¯æ²¡æœ‰å¼‚å¸¸çš„æ—¶å€™æ‰§è¡Œçš„ä»£ç ')finallyè¡¨ç¤ºçš„æ˜¯æ— è®ºæ˜¯å¦å¼‚å¸¸éƒ½è¦æ‰§è¡Œçš„ä»£ç \"\"\"\"\"\"å¼‚å¸¸è¯­æ³•try: å¯èƒ½å‘ç”Ÿå¼‚å¸¸çš„ä»£ç except: å¦‚æœå‡ºç°å¼‚å¸¸æ‰§è¡Œçš„ä»£ç else: æ²¡æœ‰å¼‚å¸¸æ‰§è¡Œçš„ä»£ç finally: æ— è®ºæ˜¯å¦å¼‚å¸¸éƒ½è¦æ‰§è¡Œçš„ä»£ç æ•è·å¼‚å¸¸ except å¼‚å¸¸ç±»å‹: ä»£ç except å¼‚å¸¸ç±»å‹ as xx: ä»£ç è‡ªå®šä¹‰å¼‚å¸¸# 1. è‡ªå®šä¹‰å¼‚å¸¸ç±»class å¼‚å¸¸ç±»ç±»å(Exception): ä»£ç  # è®¾ç½®æŠ›å‡ºå¼‚å¸¸çš„æè¿°ä¿¡æ¯ def __str__(self): return ...# 2. æŠ›å‡ºå¼‚å¸¸raise å¼‚å¸¸ç±»å()# æ•è·å¼‚å¸¸except Exception...\"\"\"","categories":[{"name":"python","slug":"python","permalink":"https://esyyes.github.io/categories/python/"}],"tags":[{"name":"python","slug":"python","permalink":"https://esyyes.github.io/tags/python/"}]},{"title":"python-å…¥é—¨å¤ä¹ é¢å‘å¯¹è±¡","slug":"python/python-å…¥é—¨å¤ä¹ é¢å‘å¯¹è±¡","date":"2020-05-26T08:45:05.000Z","updated":"2020-05-26T08:45:05.000Z","comments":true,"path":"2020/05/26/python/python-å…¥é—¨å¤ä¹ é¢å‘å¯¹è±¡/","link":"","permalink":"https://esyyes.github.io/2020/05/26/python/python-%E5%85%A5%E9%97%A8%E5%A4%8D%E4%B9%A0%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/","excerpt":"","text":"python-å…¥é—¨å¤ä¹ é¢å‘å¯¹è±¡å¾ˆç±»ä¼¼äºæ•°æ®åº“slpdb 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487488489490491492493494495496497498499500501502503504505506507508509510511512513514515516517518519520521522523524525526527528529530531532533534535536537538539540541542543544545546547548549550551552553554555556557558559560561562563564565566567568569570571572573574575576577578579580581582583584585586587588589590591592593594# -*- coding: utf-8 -*-# @Time : 2020/5/26# @Author : esy\"\"\"é¢å‘å¯¹è±¡åŸºç¡€==é¢å‘å¯¹è±¡å°±æ˜¯å°†ç¼–ç¨‹å½“æˆæ˜¯ä¸€ä¸ªäº‹ç‰©ï¼Œå¯¹å¤–ç•Œæ¥è¯´ï¼Œäº‹ç‰©æ˜¯ç›´æ¥ä½¿ç”¨çš„ï¼Œä¸ç”¨å»ç®¡ä»–å†…éƒ¨çš„æƒ…å†µã€‚è€Œç¼–ç¨‹å°±æ˜¯è®¾ç½®äº‹ç‰©èƒ½å¤Ÿåšä»€ä¹ˆäº‹ã€‚==ç±»å’Œå¯¹è±¡çš„å…³ç³»ï¼šç”¨ç±»å»åˆ›å»ºä¸€ä¸ªå¯¹è±¡ã€‚ç±»æ˜¯å¯¹ä¸€ç³»åˆ—å…·æœ‰ç›¸åŒ==ç‰¹å¾==å’Œ==è¡Œä¸º==çš„äº‹ç‰©çš„ç»Ÿç§°ï¼Œæ˜¯ä¸€ä¸ª==æŠ½è±¡çš„æ¦‚å¿µ==ï¼Œä¸æ˜¯çœŸå®å­˜åœ¨çš„äº‹ç‰©ã€‚- ç‰¹å¾å³æ˜¯å±æ€§- è¡Œä¸ºå³æ˜¯æ–¹æ³•å¯¹è±¡æ˜¯ç±»åˆ›å»ºå‡ºæ¥çš„çœŸå®å­˜åœ¨çš„äº‹ç‰© å®šä¹‰ç±»Python2ä¸­ç±»åˆ†ä¸ºï¼šç»å…¸ç±» å’Œ æ–°å¼ç±»class ç±»å(): ä»£ç  ......æ³¨æ„ï¼šç±»åè¦æ»¡è¶³æ ‡è¯†ç¬¦å‘½åè§„åˆ™ï¼ŒåŒæ—¶éµå¾ª==å¤§é©¼å³°å‘½åä¹ æƒ¯==ã€‚class Washer(): def wash(self): print('æˆ‘ä¼šæ´—è¡£æœ')ä¸ç”±ä»»æ„å†…ç½®ç±»å‹æ´¾ç”Ÿå‡ºçš„ç±»ï¼Œç§°ä¹‹ä¸ºç»å…¸ç±»class ç±»å: ä»£ç  ......åˆ›å»ºå¯¹è±¡å¯¹è±¡åˆåå®ä¾‹ã€‚- è¯­æ³•å¯¹è±¡å = ç±»å()# åˆ›å»ºå¯¹è±¡haier1 = Washer()# &lt;__main__.Washer object at 0x0000018B7B224240&gt;print(haier1)# haierå¯¹è±¡è°ƒç”¨å®ä¾‹æ–¹æ³•haier1.wash()selfæŒ‡çš„æ˜¯è°ƒç”¨è¯¥å‡½æ•°çš„å¯¹è±¡ã€‚# 1. å®šä¹‰ç±»class Washer(): def wash(self): print('æˆ‘ä¼šæ´—è¡£æœ') # &lt;__main__.Washer object at 0x0000024BA2B34240&gt; print(self)# 2. åˆ›å»ºå¯¹è±¡haier1 = Washer()# &lt;__main__.Washer object at 0x0000018B7B224240&gt;print(haier1)# haier1å¯¹è±¡è°ƒç”¨å®ä¾‹æ–¹æ³•haier1.wash()haier2 = Washer()# &lt;__main__.Washer object at 0x0000022005857EF0&gt;print(haier2)æ‰“å°å¯¹è±¡å’Œselfå¾—åˆ°çš„ç»“æœæ˜¯ä¸€è‡´çš„ï¼Œéƒ½æ˜¯å½“å‰å¯¹è±¡çš„å†…å­˜ä¸­å­˜å‚¨åœ°å€ã€‚å¯¹è±¡å.å±æ€§å = å€¼å¯¹è±¡å.å±æ€§åprint(f'haier1æ´—è¡£æœºçš„å®½åº¦æ˜¯&#123;haier1.width&#125;')print(f'haier1æ´—è¡£æœºçš„é«˜åº¦æ˜¯&#123;haier1.height&#125;')self.å±æ€§å# å®šä¹‰ç±»class Washer(): def print_info(self): # ç±»é‡Œé¢è·å–å®ä¾‹å±æ€§ print(f'haier1æ´—è¡£æœºçš„å®½åº¦æ˜¯&#123;self.width&#125;') print(f'haier1æ´—è¡£æœºçš„é«˜åº¦æ˜¯&#123;self.height&#125;')# åˆ›å»ºå¯¹è±¡haier1 = Washer()# æ·»åŠ å®ä¾‹å±æ€§haier1.width = 500haier1.height = 800haier1.print_info()\"\"\"\"\"\"åœ¨Pythonä¸­ï¼Œ`__xx__()`çš„å‡½æ•°å«åšé­”æ³•æ–¹æ³•ï¼ŒæŒ‡çš„æ˜¯å…·æœ‰ç‰¹æ®ŠåŠŸèƒ½çš„å‡½æ•°ã€‚==`__init__()`æ–¹æ³•çš„ä½œç”¨ï¼šåˆå§‹åŒ–å¯¹è±¡ã€‚==class Washer(): # å®šä¹‰åˆå§‹åŒ–åŠŸèƒ½çš„å‡½æ•° def __init__(self): # æ·»åŠ å®ä¾‹å±æ€§ self.width = 500 self.height = 800 def print_info(self): # ç±»é‡Œé¢è°ƒç”¨å®ä¾‹å±æ€§ print(f'æ´—è¡£æœºçš„å®½åº¦æ˜¯&#123;self.width&#125;, é«˜åº¦æ˜¯&#123;self.height&#125;')haier1 = Washer()haier1.print_info()æ³¨æ„ï¼š- `__init__()`æ–¹æ³•ï¼Œåœ¨åˆ›å»ºä¸€ä¸ªå¯¹è±¡æ—¶é»˜è®¤è¢«è°ƒç”¨ï¼Œä¸éœ€è¦æ‰‹åŠ¨è°ƒç”¨- `__init__(self)`ä¸­çš„selfå‚æ•°ï¼Œä¸éœ€è¦å¼€å‘è€…ä¼ é€’ï¼Œpythonè§£é‡Šå™¨ä¼šè‡ªåŠ¨æŠŠå½“å‰çš„å¯¹è±¡å¼•ç”¨ä¼ é€’è¿‡å»ã€‚ä¸€ä¸ªç±»å¯ä»¥åˆ›å»ºå¤šä¸ªå¯¹è±¡ï¼Œå¦‚ä½•å¯¹ä¸åŒçš„å¯¹è±¡è®¾ç½®ä¸åŒçš„åˆå§‹åŒ–å±æ€§å‘¢ï¼Ÿclass Washer(): def __init__(self, width, height): self.width = width self.height = height def print_info(self): print(f'æ´—è¡£æœºçš„å®½åº¦æ˜¯&#123;self.width&#125;') print(f'æ´—è¡£æœºçš„é«˜åº¦æ˜¯&#123;self.height&#125;')haier1 = Washer(10, 20)haier1.print_info()haier2 = Washer(30, 40)haier2.print_info()å½“ä½¿ç”¨printè¾“å‡ºå¯¹è±¡çš„æ—¶å€™ï¼Œé»˜è®¤æ‰“å°å¯¹è±¡çš„å†…å­˜åœ°å€ã€‚å¦‚æœç±»å®šä¹‰äº†`__str__`æ–¹æ³•ï¼Œé‚£ä¹ˆå°±ä¼šæ‰“å°ä»åœ¨è¿™ä¸ªæ–¹æ³•ä¸­ return çš„æ•°æ®ã€‚class Washer(): def __init__(self, width, height): self.width = width self.height = height def __str__(self): return 'è¿™æ˜¯æµ·å°”æ´—è¡£æœºçš„è¯´æ˜ä¹¦'haier1 = Washer(10, 20)# è¿™æ˜¯æµ·å°”æ´—è¡£æœºçš„è¯´æ˜ä¹¦print(haier1)å½“åˆ é™¤å¯¹è±¡æ—¶ï¼Œpythonè§£é‡Šå™¨ä¹Ÿä¼šé»˜è®¤è°ƒç”¨`__del__()`æ–¹æ³•ã€‚\"\"\"\"\"\"# æ€»ç»“- é¢å‘å¯¹è±¡é‡è¦ç»„æˆéƒ¨åˆ† - ç±» - åˆ›å»ºç±» ``` python class ç±»å(): ä»£ç  ``` - å¯¹è±¡ ``` python å¯¹è±¡å = ç±»å() ```- æ·»åŠ å¯¹è±¡å±æ€§ - ç±»å¤–é¢ ``` python å¯¹è±¡å.å±æ€§å = å€¼ ``` - ç±»é‡Œé¢ ``` python self.å±æ€§å = å€¼ ```- è·å–å¯¹è±¡å±æ€§ - ç±»å¤–é¢ ``` python å¯¹è±¡å.å±æ€§å ``` - ç±»é‡Œé¢ ``` python self.å±æ€§å ```- é­”æ³•æ–¹æ³• - `__init__()`: åˆå§‹åŒ– - `__str__()`:è¾“å‡ºå¯¹è±¡ä¿¡æ¯ - `__del__()`:åˆ é™¤å¯¹è±¡æ—¶è°ƒç”¨\"\"\"\"\"\"class ç±»å(object): ä»£ç # çˆ¶ç±»Aclass A(object): def __init__(self): self.num = 1 def info_print(self): print(self.num)# å­ç±»Bclass B(A): passresult = B()result.info_print() # 1åœ¨Pythonä¸­ï¼Œæ‰€æœ‰ç±»é»˜è®¤ç»§æ‰¿objectç±»ï¼Œobjectç±»æ˜¯é¡¶çº§ç±»æˆ–åŸºç±»ï¼›å…¶ä»–å­ç±»å«åšæ´¾ç”Ÿç±»æ³¨æ„ï¼šå½“ä¸€ä¸ªç±»æœ‰å¤šä¸ªçˆ¶ç±»çš„æ—¶å€™ï¼Œé»˜è®¤ä½¿ç”¨ç¬¬ä¸€ä¸ªçˆ¶ç±»çš„åŒåå±æ€§å’Œæ–¹æ³•ã€‚\"\"\"\"\"\"å•ç»§æ‰¿# 1. å¸ˆçˆ¶ç±»class Master(object): def __init__(self): self.kongfu = '[å¤æ³•ç…é¥¼æœå­é…æ–¹]' def make_cake(self): print(f'è¿ç”¨&#123;self.kongfu&#125;åˆ¶ä½œç…é¥¼æœå­') # 2. å¾’å¼Ÿç±»class Prentice(Master): pass# 3. åˆ›å»ºå¯¹è±¡daqiudaqiu = Prentice()# 4. å¯¹è±¡è®¿é—®å®ä¾‹å±æ€§print(daqiu.kongfu)# 5. å¯¹è±¡è°ƒç”¨å®ä¾‹æ–¹æ³•daqiu.make_cake()\"\"\"\"\"\" å¤šç»§æ‰¿class Master(object): def __init__(self): self.kongfu = '[å¤æ³•ç…é¥¼æœå­é…æ–¹]' def make_cake(self): print(f'è¿ç”¨&#123;self.kongfu&#125;åˆ¶ä½œç…é¥¼æœå­')# åˆ›å»ºå­¦æ ¡ç±»class School(object): def __init__(self): self.kongfu = '[é»‘é©¬ç…é¥¼æœå­é…æ–¹]' def make_cake(self): print(f'è¿ç”¨&#123;self.kongfu&#125;åˆ¶ä½œç…é¥¼æœå­')class Prentice(School, Master): passdaqiu = Prentice()print(daqiu.kongfu)daqiu.make_cake()æ³¨æ„ï¼šå½“ä¸€ä¸ªç±»æœ‰å¤šä¸ªçˆ¶ç±»çš„æ—¶å€™ï¼Œé»˜è®¤ä½¿ç”¨ç¬¬ä¸€ä¸ªçˆ¶ç±»çš„åŒåå±æ€§å’Œæ–¹æ³•ã€‚\"\"\"\"\"\"å­ç±»é‡å†™çˆ¶ç±»åŒåæ–¹æ³•å’Œå±æ€§class Master(object): def __init__(self): self.kongfu = '[å¤æ³•ç…é¥¼æœå­é…æ–¹]' def make_cake(self): print(f'è¿ç”¨&#123;self.kongfu&#125;åˆ¶ä½œç…é¥¼æœå­')class School(object): def __init__(self): self.kongfu = '[é»‘é©¬ç…é¥¼æœå­é…æ–¹]' def make_cake(self): print(f'è¿ç”¨&#123;self.kongfu&#125;åˆ¶ä½œç…é¥¼æœå­')# ç‹¬åˆ›é…æ–¹class Prentice(School, Master): def __init__(self): self.kongfu = '[ç‹¬åˆ›ç…é¥¼æœå­é…æ–¹]' def make_cake(self): print(f'è¿ç”¨&#123;self.kongfu&#125;åˆ¶ä½œç…é¥¼æœå­')daqiu = Prentice()print(daqiu.kongfu)daqiu.make_cake()print(Prentice.__mro__)å­ç±»å’Œçˆ¶ç±»å…·æœ‰åŒåå±æ€§å’Œæ–¹æ³•ï¼Œé»˜è®¤ä½¿ç”¨å­ç±»çš„åŒåå±æ€§å’Œæ–¹æ³•ã€‚\"\"\"\"\"\"å­ç±»è°ƒç”¨çˆ¶ç±»çš„åŒåæ–¹æ³•å’Œå±æ€§class Master(object): def __init__(self): self.kongfu = '[å¤æ³•ç…é¥¼æœå­é…æ–¹]' def make_cake(self): print(f'è¿ç”¨&#123;self.kongfu&#125;åˆ¶ä½œç…é¥¼æœå­')class School(object): def __init__(self): self.kongfu = '[é»‘é©¬ç…é¥¼æœå­é…æ–¹]' def make_cake(self): print(f'è¿ç”¨&#123;self.kongfu&#125;åˆ¶ä½œç…é¥¼æœå­')class Prentice(School, Master): def __init__(self): self.kongfu = '[ç‹¬åˆ›ç…é¥¼æœå­é…æ–¹]' def make_cake(self): # å¦‚æœæ˜¯å…ˆè°ƒç”¨äº†çˆ¶ç±»çš„å±æ€§å’Œæ–¹æ³•ï¼Œçˆ¶ç±»å±æ€§ä¼šè¦†ç›–å­ç±»å±æ€§ï¼Œæ•…åœ¨è°ƒç”¨å±æ€§å‰ï¼Œå…ˆè°ƒç”¨è‡ªå·±å­ç±»çš„åˆå§‹åŒ– self.__init__() print(f'è¿ç”¨&#123;self.kongfu&#125;åˆ¶ä½œç…é¥¼æœå­') # è°ƒç”¨çˆ¶ç±»æ–¹æ³•ï¼Œä½†æ˜¯ä¸ºä¿è¯è°ƒç”¨åˆ°çš„ä¹Ÿæ˜¯çˆ¶ç±»çš„å±æ€§ï¼Œå¿…é¡»åœ¨è°ƒç”¨æ–¹æ³•å‰è°ƒç”¨çˆ¶ç±»çš„åˆå§‹åŒ– def make_master_cake(self): Master.__init__(self) Master.make_cake(self) def make_school_cake(self): School.__init__(self) School.make_cake(self)daqiu = Prentice()daqiu.make_cake()daqiu.make_master_cake()daqiu.make_school_cake()daqiu.make_cake()\"\"\"\"\"\"&gt; ä½¿ç”¨super() å¯ä»¥è‡ªåŠ¨æŸ¥æ‰¾çˆ¶ç±»ã€‚è°ƒç”¨é¡ºåºéµå¾ª `__mro__` ç±»å±æ€§çš„é¡ºåºã€‚æ¯”è¾ƒé€‚åˆå•ç»§æ‰¿ä½¿ç”¨ã€‚class Master(object): def __init__(self): self.kongfu = '[å¤æ³•ç…é¥¼æœå­é…æ–¹]' def make_cake(self): print(f'è¿ç”¨&#123;self.kongfu&#125;åˆ¶ä½œç…é¥¼æœå­')class School(Master): def __init__(self): self.kongfu = '[é»‘é©¬ç…é¥¼æœå­é…æ–¹]' def make_cake(self): print(f'è¿ç”¨&#123;self.kongfu&#125;åˆ¶ä½œç…é¥¼æœå­') # æ–¹æ³•2.1 # super(School, self).__init__() # super(School, self).make_cake() # æ–¹æ³•2.2 super().__init__() super().make_cake()class Prentice(School): def __init__(self): self.kongfu = '[ç‹¬åˆ›ç…é¥¼æœå­æŠ€æœ¯]' def make_cake(self): self.__init__() print(f'è¿ç”¨&#123;self.kongfu&#125;åˆ¶ä½œç…é¥¼æœå­') # å­ç±»è°ƒç”¨çˆ¶ç±»çš„åŒåæ–¹æ³•å’Œå±æ€§ï¼šæŠŠçˆ¶ç±»çš„åŒåå±æ€§å’Œæ–¹æ³•å†æ¬¡å°è£… def make_master_cake(self): Master.__init__(self) Master.make_cake(self) def make_school_cake(self): School.__init__(self) School.make_cake(self) # ä¸€æ¬¡æ€§è°ƒç”¨çˆ¶ç±»çš„åŒåå±æ€§å’Œæ–¹æ³• def make_old_cake(self): # æ–¹æ³•ä¸€ï¼šä»£ç å†—ä½™ï¼›çˆ¶ç±»ç±»åå¦‚æœå˜åŒ–ï¼Œè¿™é‡Œä»£ç éœ€è¦é¢‘ç¹ä¿®æ”¹ # Master.__init__(self) # Master.make_cake(self) # School.__init__(self) # School.make_cake(self) # æ–¹æ³•äºŒ: super() # æ–¹æ³•2.1 super(å½“å‰ç±»å, self).å‡½æ•°() # super(Prentice, self).__init__() # super(Prentice, self).make_cake() # æ–¹æ³•2.2 super().å‡½æ•°() super().__init__() super().make_cake()daqiu = Prentice()daqiu.make_old_cake()\"\"\"\"\"\"- ç»§æ‰¿çš„ç‰¹ç‚¹ - å­ç±»é»˜è®¤æ‹¥æœ‰çˆ¶ç±»çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³• - å­ç±»é‡å†™çˆ¶ç±»åŒåæ–¹æ³•å’Œå±æ€§ - å­ç±»è°ƒç”¨çˆ¶ç±»åŒåæ–¹æ³•å’Œå±æ€§- super()æ–¹æ³•å¿«é€Ÿè°ƒç”¨çˆ¶ç±»æ–¹æ³•- ç§æœ‰æƒé™ - ä¸èƒ½ç»§æ‰¿ç»™å­ç±»çš„å±æ€§å’Œæ–¹æ³•éœ€è¦æ·»åŠ ç§æœ‰æƒé™ - è¯­æ³•class ç±»å(): # ç§æœ‰å±æ€§ __å±æ€§å = å€¼ # ç§æœ‰æ–¹æ³• def __å‡½æ•°å(self): ä»£ç \"\"\"\"\"\"- å°è£… - å°†å±æ€§å’Œæ–¹æ³•ä¹¦å†™åˆ°ç±»çš„é‡Œé¢çš„æ“ä½œå³ä¸ºå°è£… - å°è£…å¯ä»¥ä¸ºå±æ€§å’Œæ–¹æ³•æ·»åŠ ç§æœ‰æƒé™- ç»§æ‰¿ - å­ç±»é»˜è®¤ç»§æ‰¿çˆ¶ç±»çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³• - å­ç±»å¯ä»¥é‡å†™çˆ¶ç±»å±æ€§å’Œæ–¹æ³•- å¤šæ€ - ä¼ å…¥ä¸åŒçš„å¯¹è±¡ï¼Œäº§ç”Ÿä¸åŒçš„ç»“æœ\"\"\"'''å¤šæ€æŒ‡çš„æ˜¯ä¸€ç±»äº‹ç‰©æœ‰å¤šç§å½¢æ€ï¼Œï¼ˆä¸€ä¸ªæŠ½è±¡ç±»æœ‰å¤šä¸ªå­ç±»ï¼Œå› è€Œå¤šæ€çš„æ¦‚å¿µä¾èµ–äºç»§æ‰¿ï¼‰ã€‚- å®šä¹‰ï¼šå¤šæ€æ˜¯ä¸€ç§ä½¿ç”¨å¯¹è±¡çš„æ–¹å¼ï¼Œå­ç±»é‡å†™çˆ¶ç±»æ–¹æ³•ï¼Œè°ƒç”¨ä¸åŒå­ç±»å¯¹è±¡çš„ç›¸åŒçˆ¶ç±»æ–¹æ³•ï¼Œå¯ä»¥äº§ç”Ÿä¸åŒçš„æ‰§è¡Œç»“æœ- å¥½å¤„ï¼šè°ƒç”¨çµæ´»ï¼Œæœ‰äº†å¤šæ€ï¼Œæ›´å®¹æ˜“ç¼–å†™å‡ºé€šç”¨çš„ä»£ç ï¼Œåšå‡ºé€šç”¨çš„ç¼–ç¨‹ï¼Œä»¥é€‚åº”éœ€æ±‚çš„ä¸æ–­å˜åŒ–ï¼- å®ç°æ­¥éª¤ï¼š - å®šä¹‰çˆ¶ç±»ï¼Œå¹¶æä¾›å…¬å…±æ–¹æ³• - å®šä¹‰å­ç±»ï¼Œå¹¶é‡å†™çˆ¶ç±»æ–¹æ³• - ä¼ é€’å­ç±»å¯¹è±¡ç»™è°ƒç”¨è€…ï¼Œå¯ä»¥çœ‹åˆ°ä¸åŒå­ç±»æ‰§è¡Œæ•ˆæœä¸åŒclass Dog(object): def work(self): # çˆ¶ç±»æä¾›ç»Ÿä¸€çš„æ–¹æ³•ï¼Œå“ªæ€•æ˜¯ç©ºæ–¹æ³• print('æŒ‡å“ªæ‰“å“ª...')class ArmyDog(Dog): # ç»§æ‰¿Dogç±» def work(self): # å­ç±»é‡å†™çˆ¶ç±»åŒåæ–¹æ³• print('è¿½å‡»æ•Œäºº...')class DrugDog(Dog): def work(self): print('è¿½æŸ¥æ¯’å“...')class Person(object): def work_with_dog(self, dog): # ä¼ å…¥ä¸åŒçš„å¯¹è±¡ï¼Œæ‰§è¡Œä¸åŒçš„ä»£ç ï¼Œå³ä¸åŒçš„workå‡½æ•° dog.work()ad = ArmyDog()dd = DrugDog()daqiu = Person()daqiu.work_with_dog(ad)daqiu.work_with_dog(dd)'''\"\"\"### è®¾ç½®å’Œè®¿é—®ç±»å±æ€§- ç±»å±æ€§å°±æ˜¯ **ç±»å¯¹è±¡** æ‰€æ‹¥æœ‰çš„å±æ€§ï¼Œå®ƒè¢« **è¯¥ç±»çš„æ‰€æœ‰å®ä¾‹å¯¹è±¡ æ‰€å…±æœ‰**ã€‚- ç±»å±æ€§å¯ä»¥ä½¿ç”¨ **ç±»å¯¹è±¡** æˆ– **å®ä¾‹å¯¹è±¡** è®¿é—®ã€‚class Dog(object): tooth = 10wangcai = Dog()xiaohei = Dog()print(Dog.tooth) # 10print(wangcai.tooth) # 10print(xiaohei.tooth) # 10ç±»å±æ€§çš„ä¼˜ç‚¹- **è®°å½•çš„æŸé¡¹æ•°æ® å§‹ç»ˆä¿æŒä¸€è‡´æ—¶**ï¼Œåˆ™å®šä¹‰ç±»å±æ€§ã€‚- **å®ä¾‹å±æ€§** è¦æ±‚ **æ¯ä¸ªå¯¹è±¡** ä¸ºå…¶ **å•ç‹¬å¼€è¾Ÿä¸€ä»½å†…å­˜ç©ºé—´** æ¥è®°å½•æ•°æ®ï¼Œè€Œ **ç±»å±æ€§** ä¸ºå…¨ç±»æ‰€å…±æœ‰ ï¼Œ**ä»…å ç”¨ä¸€ä»½å†…å­˜**ï¼Œ**æ›´åŠ èŠ‚çœå†…å­˜ç©ºé—´**ã€‚\"\"\"\"\"\"ç±»å±æ€§åªèƒ½é€šè¿‡ç±»å¯¹è±¡ä¿®æ”¹ï¼Œä¸èƒ½é€šè¿‡å®ä¾‹å¯¹è±¡ä¿®æ”¹ï¼Œå¦‚æœé€šè¿‡å®ä¾‹å¯¹è±¡ä¿®æ”¹ç±»å±æ€§ï¼Œè¡¨ç¤ºçš„æ˜¯åˆ›å»ºäº†ä¸€ä¸ªå®ä¾‹å±æ€§ã€‚\"\"\"# éœ€è¦ç”¨è£…é¥°å™¨`@classmethod`æ¥æ ‡è¯†å…¶ä¸ºç±»æ–¹æ³•ï¼Œå¯¹äºç±»æ–¹æ³•ï¼Œ**ç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»æ˜¯ç±»å¯¹è±¡**ï¼Œä¸€èˆ¬ä»¥`cls`ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ã€‚'''### ç±»æ–¹æ³•ä½¿ç”¨åœºæ™¯- å½“æ–¹æ³•ä¸­ **éœ€è¦ä½¿ç”¨ç±»å¯¹è±¡** (å¦‚è®¿é—®ç§æœ‰ç±»å±æ€§ç­‰)æ—¶ï¼Œå®šä¹‰ç±»æ–¹æ³•- ç±»æ–¹æ³•ä¸€èˆ¬å’Œç±»å±æ€§é…åˆä½¿ç”¨'''\"\"\"### é™æ€æ–¹æ³•ç‰¹ç‚¹- éœ€è¦é€šè¿‡è£…é¥°å™¨`@staticmethod`æ¥è¿›è¡Œä¿®é¥°ï¼Œ**é™æ€æ–¹æ³•æ—¢ä¸éœ€è¦ä¼ é€’ç±»å¯¹è±¡ä¹Ÿä¸éœ€è¦ä¼ é€’å®ä¾‹å¯¹è±¡ï¼ˆå½¢å‚æ²¡æœ‰self/clsï¼‰**ã€‚- é™æ€æ–¹æ³• ä¹Ÿèƒ½å¤Ÿé€šè¿‡ **å®ä¾‹å¯¹è±¡** å’Œ **ç±»å¯¹è±¡** å»è®¿é—®ã€‚é™æ€æ–¹æ³•ä½¿ç”¨åœºæ™¯- å½“æ–¹æ³•ä¸­ **æ—¢ä¸éœ€è¦ä½¿ç”¨å®ä¾‹å¯¹è±¡**(å¦‚å®ä¾‹å¯¹è±¡ï¼Œå®ä¾‹å±æ€§)ï¼Œ**ä¹Ÿä¸éœ€è¦ä½¿ç”¨ç±»å¯¹è±¡** (å¦‚ç±»å±æ€§ã€ç±»æ–¹æ³•ã€åˆ›å»ºå®ä¾‹ç­‰)æ—¶ï¼Œå®šä¹‰é™æ€æ–¹æ³•- **å–æ¶ˆä¸éœ€è¦çš„å‚æ•°ä¼ é€’**ï¼Œæœ‰åˆ©äº **å‡å°‘ä¸å¿…è¦çš„å†…å­˜å ç”¨å’Œæ€§èƒ½æ¶ˆè€—**\"\"\"\"\"\"class Dog(object): @staticmethod def info_print(): print('è¿™æ˜¯ä¸€ä¸ªç‹—ç±»ï¼Œç”¨äºåˆ›å»ºç‹—å®ä¾‹....')wangcai = Dog()# é™æ€æ–¹æ³•æ—¢å¯ä»¥ä½¿ç”¨å¯¹è±¡è®¿é—®åˆå¯ä»¥ä½¿ç”¨ç±»è®¿é—®wangcai.info_print()Dog.info_print()\"\"\"\"\"\"- é¢å‘å¯¹è±¡ä¸‰å¤§ç‰¹æ€§ - å°è£… - ç»§æ‰¿ - å¤šæ€- ç±»å±æ€§ - å½’å±äºç±»å¯¹è±¡çš„å±æ€§ï¼Œæ‰€æœ‰å¯¹è±¡å…±æœ‰çš„å±æ€§- å®ä¾‹å±æ€§- ç±»æ–¹æ³•@classmethoddef xx(): ä»£ç  é™æ€æ–¹æ³•@staticmethoddef xx(): ä»£ç \"\"\"","categories":[{"name":"python","slug":"python","permalink":"https://esyyes.github.io/categories/python/"}],"tags":[{"name":"python","slug":"python","permalink":"https://esyyes.github.io/tags/python/"}]},{"title":"python_å…¥é—¨å¤ä¹ ä¹‹æ–‡ä»¶è¯»å–","slug":"python/python-å…¥é—¨å¤ä¹ ä¹‹æ–‡ä»¶è¯»å–","date":"2020-05-26T05:55:41.000Z","updated":"2020-05-26T05:55:41.000Z","comments":true,"path":"2020/05/26/python/python-å…¥é—¨å¤ä¹ ä¹‹æ–‡ä»¶è¯»å–/","link":"","permalink":"https://esyyes.github.io/2020/05/26/python/python-%E5%85%A5%E9%97%A8%E5%A4%8D%E4%B9%A0%E4%B9%8B%E6%96%87%E4%BB%B6%E8%AF%BB%E5%8F%96/","excerpt":"","text":"python-æ–‡ä»¶è¯»å–123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197 # -*- coding: utf-8 -*-# @Time : 2020/5/26# @Author : esy\"\"\"æ–‡ä»¶çš„åŸºæœ¬æ“ä½œ - æ‰“å¼€- è¯»å†™- å…³é—­æ‰“å¼€ï¼šåœ¨pythonï¼Œä½¿ç”¨openå‡½æ•°ï¼Œå¯ä»¥æ‰“å¼€ä¸€ä¸ªå·²ç»å­˜åœ¨çš„æ–‡ä»¶ï¼Œæˆ–è€…åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶ï¼Œè¯­æ³•å¦‚ä¸‹ï¼šopen(name, mode)nameï¼šæ˜¯è¦æ‰“å¼€çš„ç›®æ ‡æ–‡ä»¶åçš„å­—ç¬¦ä¸²(å¯ä»¥åŒ…å«æ–‡ä»¶æ‰€åœ¨çš„å…·ä½“è·¯å¾„)ã€‚modeï¼šè®¾ç½®æ‰“å¼€æ–‡ä»¶çš„æ¨¡å¼(è®¿é—®æ¨¡å¼)ï¼šåªè¯»ã€å†™å…¥ã€è¿½åŠ ç­‰ã€‚| æ¨¡å¼ | æè¿° || :--: | ------------------------------------------------------------ || r | ä»¥åªè¯»æ–¹å¼æ‰“å¼€æ–‡ä»¶ã€‚æ–‡ä»¶çš„æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„å¼€å¤´ã€‚è¿™æ˜¯é»˜è®¤æ¨¡å¼ã€‚ || rb | ä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºåªè¯»ã€‚æ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„å¼€å¤´ã€‚è¿™æ˜¯é»˜è®¤æ¨¡å¼ã€‚ || r+ | æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¯»å†™ã€‚æ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„å¼€å¤´ã€‚ || rb+ | ä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¯»å†™ã€‚æ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„å¼€å¤´ã€‚ || w | æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶åªç”¨äºå†™å…¥ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨åˆ™æ‰“å¼€æ–‡ä»¶ï¼Œå¹¶ä»å¼€å¤´å¼€å§‹ç¼–è¾‘ï¼Œå³åŸæœ‰å†…å®¹ä¼šè¢«åˆ é™¤ã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶ã€‚ || wb | ä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶åªç”¨äºå†™å…¥ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨åˆ™æ‰“å¼€æ–‡ä»¶ï¼Œå¹¶ä»å¼€å¤´å¼€å§‹ç¼–è¾‘ï¼Œå³åŸæœ‰å†…å®¹ä¼šè¢«åˆ é™¤ã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶ã€‚ || w+ | æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¯»å†™ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨åˆ™æ‰“å¼€æ–‡ä»¶ï¼Œå¹¶ä»å¼€å¤´å¼€å§‹ç¼–è¾‘ï¼Œå³åŸæœ‰å†…å®¹ä¼šè¢«åˆ é™¤ã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶ã€‚ || wb+ | ä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¯»å†™ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨åˆ™æ‰“å¼€æ–‡ä»¶ï¼Œå¹¶ä»å¼€å¤´å¼€å§‹ç¼–è¾‘ï¼Œå³åŸæœ‰å†…å®¹ä¼šè¢«åˆ é™¤ã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶ã€‚ || a | æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¿½åŠ ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨ï¼Œæ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„ç»“å°¾ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ–°çš„å†…å®¹å°†ä¼šè¢«å†™å…¥åˆ°å·²æœ‰å†…å®¹ä¹‹åã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶è¿›è¡Œå†™å…¥ã€‚ || ab | ä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¿½åŠ ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨ï¼Œæ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„ç»“å°¾ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ–°çš„å†…å®¹å°†ä¼šè¢«å†™å…¥åˆ°å·²æœ‰å†…å®¹ä¹‹åã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶è¿›è¡Œå†™å…¥ã€‚ || a+ | æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¯»å†™ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨ï¼Œæ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„ç»“å°¾ã€‚æ–‡ä»¶æ‰“å¼€æ—¶ä¼šæ˜¯è¿½åŠ æ¨¡å¼ã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶ç”¨äºè¯»å†™ã€‚ || ab+ | ä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¿½åŠ ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨ï¼Œæ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„ç»“å°¾ã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶ç”¨äºè¯»å†™ã€‚ |f = open('test.txt', 'w')# 1. æ‰“å¼€æ–‡ä»¶f = open('test.txt', 'w')# 2.æ–‡ä»¶å†™å…¥f.write('hello world')# 3. å…³é—­æ–‡ä»¶f.close()æ³¨æ„ï¼š1. `w `å’Œ`a`æ¨¡å¼ï¼šå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨åˆ™åˆ›å»ºè¯¥æ–‡ä»¶ï¼›å¦‚æœæ–‡ä»¶å­˜åœ¨ï¼Œ`w`æ¨¡å¼å…ˆæ¸…ç©ºå†å†™å…¥ï¼Œ`a`æ¨¡å¼ç›´æ¥æœ«å°¾è¿½åŠ ã€‚2. `r`æ¨¡å¼ï¼šå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨åˆ™æŠ¥é”™ã€‚æ–‡ä»¶å¯¹è±¡.read(num)&gt; numè¡¨ç¤ºè¦ä»æ–‡ä»¶ä¸­è¯»å–çš„æ•°æ®çš„é•¿åº¦ï¼ˆå•ä½æ˜¯å­—èŠ‚ï¼‰ï¼Œå¦‚æœæ²¡æœ‰ä¼ å…¥numï¼Œé‚£ä¹ˆå°±è¡¨ç¤ºè¯»å–æ–‡ä»¶ä¸­æ‰€æœ‰çš„æ•°æ®ã€‚readlineså¯ä»¥æŒ‰ç…§è¡Œçš„æ–¹å¼æŠŠæ•´ä¸ªæ–‡ä»¶ä¸­çš„å†…å®¹è¿›è¡Œä¸€æ¬¡æ€§è¯»å–ï¼Œå¹¶ä¸”è¿”å›çš„æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œå…¶ä¸­æ¯ä¸€è¡Œçš„æ•°æ®ä¸ºä¸€ä¸ªå…ƒç´ f = open('test.txt')content = f.readlines()# ['hello world\\n', 'abcdefg\\n', 'aaa\\n', 'bbb\\n', 'ccc']print(content)# å…³é—­æ–‡ä»¶f.close()readline()ä¸€æ¬¡è¯»å–ä¸€è¡Œå†…å®¹ã€‚æ–‡ä»¶å¯¹è±¡.seek(åç§»é‡, èµ·å§‹ä½ç½®)èµ·å§‹ä½ç½®ï¼š- 0ï¼šæ–‡ä»¶å¼€å¤´- 1ï¼šå½“å‰ä½ç½®- 2ï¼šæ–‡ä»¶ç»“å°¾å…³é—­æ–‡ä»¶å¯¹è±¡.close()\"\"\"\"\"\"åœ¨Pythonä¸­æ–‡ä»¶å’Œæ–‡ä»¶å¤¹çš„æ“ä½œè¦å€ŸåŠ©osæ¨¡å—é‡Œé¢çš„ç›¸å…³åŠŸèƒ½ï¼Œå…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼šå¯¼å…¥osæ¨¡å—import osä½¿ç”¨`os`æ¨¡å—ç›¸å…³åŠŸèƒ½os.å‡½æ•°å()æ–‡ä»¶é‡å‘½åos.rename(ç›®æ ‡æ–‡ä»¶å, æ–°æ–‡ä»¶å)åˆ é™¤æ–‡ä»¶os.remove(ç›®æ ‡æ–‡ä»¶å)åˆ›å»ºæ–‡ä»¶å¤¹os.mkdir(æ–‡ä»¶å¤¹åå­—)åˆ é™¤æ–‡ä»¶å¤¹os.rmdir(æ–‡ä»¶å¤¹åå­—)è·å–å½“å‰ç›®å½•os.getcwd()æ”¹å˜é»˜è®¤ç›®å½•os.chdir(ç›®å½•)è·å–ç›®å½•åˆ—è¡¨os.listdir(ç›®å½•)\"\"\"\"\"\"éœ€æ±‚ï¼šæ‰¹é‡ä¿®æ”¹æ–‡ä»¶åï¼Œæ—¢å¯æ·»åŠ æŒ‡å®šå­—ç¬¦ä¸²ï¼Œåˆèƒ½åˆ é™¤æŒ‡å®šå­—ç¬¦ä¸²ã€‚- æ­¥éª¤1. è®¾ç½®æ·»åŠ åˆ é™¤å­—ç¬¦ä¸²çš„çš„æ ‡è¯†2. è·å–æŒ‡å®šç›®å½•çš„æ‰€æœ‰æ–‡ä»¶3. å°†åŸæœ‰æ–‡ä»¶åæ·»åŠ /åˆ é™¤æŒ‡å®šå­—ç¬¦ä¸²ï¼Œæ„é€ æ–°åå­—4. os.rename()é‡å‘½åimport os# è®¾ç½®é‡å‘½åæ ‡è¯†ï¼šå¦‚æœä¸º1åˆ™æ·»åŠ æŒ‡å®šå­—ç¬¦ï¼Œflagå–å€¼ä¸º2åˆ™åˆ é™¤æŒ‡å®šå­—ç¬¦flag = 1# è·å–æŒ‡å®šç›®å½•dir_name = './'# è·å–æŒ‡å®šç›®å½•çš„æ–‡ä»¶åˆ—è¡¨file_list = os.listdir(dir_name)# print(file_list)# éå†æ–‡ä»¶åˆ—è¡¨å†…çš„æ–‡ä»¶for name in file_list: # æ·»åŠ æŒ‡å®šå­—ç¬¦ if flag == 1: new_name = 'Python-' + name # åˆ é™¤æŒ‡å®šå­—ç¬¦ elif flag == 2: num = len('Python-') new_name = name[num:] # æ‰“å°æ–°æ–‡ä»¶åï¼Œæµ‹è¯•ç¨‹åºæ­£ç¡®æ€§ print(new_name) # é‡å‘½å os.rename(dir_name+name, dir_name+new_name)\"\"\"\"\"\"# å…­. æ€»ç»“- æ–‡ä»¶æ“ä½œæ­¥éª¤ - æ‰“å¼€ ``` python æ–‡ä»¶å¯¹è±¡ = open(ç›®æ ‡æ–‡ä»¶, è®¿é—®æ¨¡å¼) ``` - æ“ä½œ - è¯» ``` python æ–‡ä»¶å¯¹è±¡.read() æ–‡ä»¶å¯¹è±¡.readlines() æ–‡ä»¶å¯¹è±¡.readline() ``` - å†™ ``` python æ–‡ä»¶å¯¹è±¡.write() ``` - seek() - å…³é—­ ``` python æ–‡ä»¶å¯¹è±¡.close() ```- ä¸»è®¿é—®æ¨¡å¼ - wï¼šå†™ï¼Œæ–‡ä»¶ä¸å­˜åœ¨åˆ™æ–°å»ºè¯¥æ–‡ä»¶ - rï¼šè¯»ï¼Œæ–‡ä»¶ä¸å­˜åœ¨åˆ™æŠ¥é”™ - aï¼šè¿½åŠ - æ–‡ä»¶å’Œæ–‡ä»¶å¤¹æ“ä½œ - é‡å‘½åï¼šos.rename() - è·å–å½“å‰ç›®å½•ï¼šos.getcwd() - è·å–ç›®å½•åˆ—è¡¨ï¼šos.listdir()\"\"\"","categories":[{"name":"python","slug":"python","permalink":"https://esyyes.github.io/categories/python/"}],"tags":[{"name":"python","slug":"python","permalink":"https://esyyes.github.io/tags/python/"}]},{"title":"python_å…¥é—¨å¤ä¹ ä¹‹å‡½æ•°","slug":"python/python-å…¥é—¨å¤ä¹ ä¹‹å‡½æ•°","date":"2020-05-26T05:50:42.000Z","updated":"2020-05-26T05:50:42.000Z","comments":true,"path":"2020/05/26/python/python-å…¥é—¨å¤ä¹ ä¹‹å‡½æ•°/","link":"","permalink":"https://esyyes.github.io/2020/05/26/python/python-%E5%85%A5%E9%97%A8%E5%A4%8D%E4%B9%A0%E4%B9%8B%E5%87%BD%E6%95%B0/","excerpt":"","text":"python-å‡½æ•°123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290# -*- coding: utf-8 -*-# @Time : 2020/5/26# @Author : esy'''å‡½æ•°å¤ä¹ ï¼š&gt; å‡½æ•°åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥æ›´é«˜æ•ˆçš„å®ç°==ä»£ç é‡ç”¨==ã€‚å®šä¹‰å‡½æ•°ï¼šdef å‡½æ•°å(å‚æ•°): ä»£ç 1 ä»£ç 2. ......è°ƒç”¨å‡½æ•°ï¼šå‡½æ•°å(å‚æ•°)1. ä¸åŒçš„éœ€æ±‚ï¼Œå‚æ•°å¯æœ‰å¯æ— ã€‚2. åœ¨Pythonä¸­ï¼Œå‡½æ•°å¿…é¡»==å…ˆå®šä¹‰åä½¿ç”¨==ã€‚å®šä¹‰å‡½æ•°çš„è¯´æ˜æ–‡æ¡£def å‡½æ•°å(å‚æ•°): \"\"\" è¯´æ˜æ–‡æ¡£çš„ä½ç½® \"\"\" ä»£ç  ......æŸ¥çœ‹å‡½æ•°çš„è¯´æ˜æ–‡æ¡£help(å‡½æ•°å)def sum_num(a, b): \"\"\" æ±‚å’Œå‡½æ•° \"\"\" return a + bhelp(sum_num)- å‡½æ•°çš„å‚æ•°ï¼šå‡½æ•°è°ƒç”¨çš„æ—¶å€™å¯ä»¥ä¼ å…¥çœŸå®æ•°æ®ï¼Œå¢å¤§å‡½æ•°çš„ä½¿ç”¨çš„çµæ´»æ€§ - å½¢å‚ï¼šå‡½æ•°å®šä¹‰æ—¶ä¹¦å†™çš„å‚æ•°(éçœŸå®æ•°æ®) - å®å‚ï¼šå‡½æ•°è°ƒç”¨æ—¶ä¹¦å†™çš„å‚æ•°(çœŸå®æ•°æ®)- å‡½æ•°çš„è¿”å›å€¼ - ä½œç”¨ï¼šå‡½æ•°è°ƒç”¨åï¼Œè¿”å›éœ€è¦çš„è®¡ç®—ç»“æœ - å†™æ³•return è¡¨è¾¾å¼- å‡½æ•°çš„è¯´æ˜æ–‡æ¡£ - ä½œç”¨ï¼šä¿å­˜å‡½æ•°è§£é‡Šè¯´æ˜çš„ä¿¡æ¯ - å†™æ³• ``` python def å‡½æ•°å(): \"\"\" å‡½æ•°è¯´æ˜æ–‡æ¡£ \"\"\" ```- å‡½æ•°åµŒå¥—è°ƒç”¨ï¼šä¸€ä¸ªå‡½æ•°å†…éƒ¨åµŒå¥—è°ƒç”¨å¦å¤–ä¸€ä¸ªå‡½æ•°'''\"\"\"å˜é‡ä½œç”¨åŸŸå˜é‡ä½œç”¨åŸŸæŒ‡çš„æ˜¯å˜é‡ç”Ÿæ•ˆçš„èŒƒå›´ï¼Œä¸»è¦åˆ†ä¸ºä¸¤ç±»ï¼š==å±€éƒ¨å˜é‡==å’Œ==å…¨å±€å˜é‡==ã€‚æ‰€è°“å±€éƒ¨å˜é‡æ˜¯å®šä¹‰åœ¨å‡½æ•°ä½“å†…éƒ¨çš„å˜é‡ï¼Œå³åªåœ¨å‡½æ•°ä½“å†…éƒ¨ç”Ÿæ•ˆã€‚å±€éƒ¨å˜é‡çš„ä½œç”¨ï¼šåœ¨å‡½æ•°ä½“å†…éƒ¨ï¼Œä¸´æ—¶ä¿å­˜æ•°æ®ï¼Œå³å½“å‡½æ•°è°ƒç”¨å®Œæˆåï¼Œåˆ™é”€æ¯å±€éƒ¨å˜é‡ã€‚- å…¨å±€å˜é‡æ‰€è°“å…¨å±€å˜é‡ï¼ŒæŒ‡çš„æ˜¯åœ¨å‡½æ•°ä½“å†…ã€å¤–éƒ½èƒ½ç”Ÿæ•ˆçš„å˜é‡ã€‚ # global å…³é”®å­—å£°æ˜aæ˜¯å…¨å±€å˜é‡def return_num(): return 1 return 2result = return_num()print(result) # 1åªæ‰§è¡Œäº†ç¬¬ä¸€ä¸ªreturnï¼ŒåŸå› æ˜¯å› ä¸ºreturnå¯ä»¥é€€å‡ºå½“å‰å‡½æ•°ï¼Œå¯¼è‡´returnä¸‹æ–¹çš„ä»£ç ä¸æ‰§è¡Œã€‚`return a, b`å†™æ³•ï¼Œè¿”å›å¤šä¸ªæ•°æ®çš„æ—¶å€™ï¼Œé»˜è®¤æ˜¯å…ƒç»„ç±»å‹ã€‚&gt; 1. returnåé¢å¯ä»¥è¿æ¥åˆ—è¡¨ã€å…ƒç»„æˆ–å­—å…¸ï¼Œä»¥è¿”å›å¤šä¸ªå€¼ã€‚è°ƒç”¨å‡½æ•°æ—¶æ ¹æ®å‡½æ•°å®šä¹‰çš„å‚æ•°ä½ç½®æ¥ä¼ é€’å‚æ•°ã€‚ä¼ é€’å’Œå®šä¹‰å‚æ•°çš„é¡ºåºåŠä¸ªæ•°å¿…é¡»ä¸€è‡´ã€‚**å‡½æ•°è°ƒç”¨æ—¶ï¼Œå¦‚æœæœ‰ä½ç½®å‚æ•°æ—¶ï¼Œä½ç½®å‚æ•°å¿…é¡»åœ¨å…³é”®å­—å‚æ•°çš„å‰é¢ï¼Œä½†å…³é”®å­—å‚æ•°ä¹‹é—´ä¸å­˜åœ¨å…ˆåé¡ºåºã€‚**å‡½æ•°è°ƒç”¨æ—¶ï¼Œå¦‚æœä¸ºç¼ºçœå‚æ•°ä¼ å€¼åˆ™ä¿®æ”¹é»˜è®¤å‚æ•°å€¼ï¼›å¦åˆ™ä½¿ç”¨è¿™ä¸ªé»˜è®¤å€¼ã€‚ä¸å®šé•¿å‚æ•°ä¹Ÿå«å¯å˜å‚æ•°ã€‚ç”¨äºä¸ç¡®å®šè°ƒç”¨çš„æ—¶å€™ä¼šä¼ é€’å¤šå°‘ä¸ªå‚æ•°(ä¸ä¼ å‚ä¹Ÿå¯ä»¥)çš„åœºæ™¯ã€‚æ­¤æ—¶ï¼Œå¯ç”¨åŒ…è£¹(packing)ä½ç½®å‚æ•°ï¼Œæˆ–è€…åŒ…è£¹å…³é”®å­—å‚æ•°ï¼Œæ¥è¿›è¡Œå‚æ•°ä¼ é€’ï¼Œä¼šæ˜¾å¾—éå¸¸æ–¹ä¾¿ã€‚åŒ…è£¹ä½ç½®ä¼ é€’def user_info(*args): print(args)# ('TOM',)user_info('TOM')# ('TOM', 18)user_info('TOM', 18)ä¼ è¿›çš„æ‰€æœ‰å‚æ•°éƒ½ä¼šè¢«argså˜é‡æ”¶é›†ï¼Œå®ƒä¼šæ ¹æ®ä¼ è¿›å‚æ•°çš„ä½ç½®åˆå¹¶ä¸ºä¸€ä¸ªå…ƒç»„(tuple)ï¼Œargsæ˜¯å…ƒç»„ç±»å‹ï¼Œè¿™å°±æ˜¯åŒ…è£¹ä½ç½®ä¼ é€’ã€‚åŒ…è£¹å…³é”®å­—ä¼ é€’def user_info(**kwargs): print(kwargs)# &#123;'name': 'TOM', 'age': 18, 'id': 110&#125;user_info(name='TOM', age=18, id=110)æ— è®ºæ˜¯åŒ…è£¹ä½ç½®ä¼ é€’è¿˜æ˜¯åŒ…è£¹å…³é”®å­—ä¼ é€’ï¼Œéƒ½æ˜¯ä¸€ä¸ªç»„åŒ…çš„è¿‡ç¨‹ã€‚\"\"\"def user_info(name, age, gender): print(f'æ‚¨çš„åå­—æ˜¯&#123;name&#125;, å¹´é¾„æ˜¯&#123;age&#125;, æ€§åˆ«æ˜¯&#123;gender&#125;')user_info('Rose', age=20, gender='å¥³')user_info('å°æ˜', gender='ç”·', age=16)# æ‹†åŒ…ï¼šå…ƒç»„def return_num(): return 100, 200num1, num2 = return_num()print(num1) # 100print(num2) # 200# æ‹†åŒ…ï¼šå­—å…¸dict1 = &#123;'name': 'TOM', 'age': 18&#125;a, b = dict1# å¯¹å­—å…¸è¿›è¡Œæ‹†åŒ…ï¼Œå–å‡ºæ¥çš„æ˜¯å­—å…¸çš„keyprint(a) # nameprint(b) # ageprint(dict1[a]) # TOMprint(dict1[b]) # 18'''**æˆ‘ä»¬å¯ä»¥ç”¨`id()`æ¥åˆ¤æ–­ä¸¤ä¸ªå˜é‡æ˜¯å¦ä¸ºåŒä¸€ä¸ªå€¼çš„å¼•ç”¨ã€‚** æˆ‘ä»¬å¯ä»¥å°†idå€¼ç†è§£ä¸ºé‚£å—å†…å­˜çš„åœ°å€æ ‡è¯†ã€‚'''# 1. intç±»å‹a = 1b = aprint(b) # 1print(id(a)) # 140708464157520print(id(b)) # 140708464157520a = 2print(b) # 1,è¯´æ˜intç±»å‹ä¸ºä¸å¯å˜ç±»å‹print(id(a)) # 140708464157552ï¼Œæ­¤æ—¶å¾—åˆ°æ˜¯çš„æ•°æ®2çš„å†…å­˜åœ°å€print(id(b)) # 140708464157520# 2. åˆ—è¡¨aa = [10, 20]bb = aaprint(id(aa)) # 2325297783432print(id(bb)) # 2325297783432aa.append(30)print(bb) # [10, 20, 30], åˆ—è¡¨ä¸ºå¯å˜ç±»å‹print(id(aa)) # 2325297783432print(id(bb)) # 2325297783432\"\"\"æ‰€è°“å¯å˜ç±»å‹ä¸ä¸å¯å˜ç±»å‹æ˜¯æŒ‡ï¼šæ•°æ®èƒ½å¤Ÿç›´æ¥è¿›è¡Œä¿®æ”¹ï¼Œå¦‚æœèƒ½ç›´æ¥ä¿®æ”¹é‚£ä¹ˆå°±æ˜¯å¯å˜ï¼Œå¦åˆ™æ˜¯ä¸å¯å˜.- å¯å˜ç±»å‹ - åˆ—è¡¨ - å­—å…¸ - é›†åˆ- ä¸å¯å˜ç±»å‹ - æ•´å‹ - æµ®ç‚¹å‹ - å­—ç¬¦ä¸² - å…ƒç»„\"\"\"\"\"\"- å˜é‡ä½œç”¨åŸŸ - å…¨å±€ï¼šå‡½æ•°ä½“å†…å¤–éƒ½èƒ½ç”Ÿæ•ˆ - å±€éƒ¨ï¼šå½“å‰å‡½æ•°ä½“å†…éƒ¨ç”Ÿæ•ˆ- å‡½æ•°å¤šè¿”å›å€¼å†™æ³•``` pythonreturn è¡¨è¾¾å¼1, è¡¨è¾¾å¼2...```- å‡½æ•°çš„å‚æ•° - ä½ç½®å‚æ•° - å½¢å‚å’Œå®å‚çš„ä¸ªæ•°å’Œä¹¦å†™é¡ºåºå¿…é¡»ä¸€è‡´ - å…³é”®å­—å‚æ•° - å†™æ³•ï¼š `key=value` - ç‰¹ç‚¹ï¼šå½¢å‚å’Œå®å‚çš„ä¹¦å†™é¡ºåºå¯ä»¥ä¸ä¸€è‡´ï¼›å…³é”®å­—å‚æ•°å¿…é¡»ä¹¦å†™åœ¨ä½ç½®å‚æ•°çš„åé¢ - ç¼ºçœå‚æ•° - ç¼ºçœå‚æ•°å°±æ˜¯é»˜è®¤å‚æ•° - å†™æ³•ï¼š`key=vlaue` - ä¸å®šé•¿ä½ç½®å‚æ•° - æ”¶é›†æ‰€æœ‰ä½ç½®å‚æ•°ï¼Œè¿”å›ä¸€ä¸ªå…ƒç»„ - ä¸å®šé•¿å…³é”®å­—å‚æ•° - æ”¶é›†æ‰€æœ‰å…³é”®å­—å‚æ•°ï¼Œè¿”å›ä¸€ä¸ªå­—å…¸- å¼•ç”¨ï¼šPythonä¸­ï¼Œæ•°æ®çš„ä¼ é€’éƒ½æ˜¯é€šè¿‡å¼•ç”¨\"\"\"\"\"\"`abs()`å‡½æ•°å¯ä»¥å®Œæˆå¯¹æ•°å­—æ±‚ç»å¯¹å€¼è®¡ç®—ã€‚`round()`å‡½æ•°å¯ä»¥å®Œæˆå¯¹æ•°å­—çš„å››èˆäº”å…¥è®¡ç®—ã€‚\"\"\"\"\"\"- é€’å½’ - å‡½æ•°å†…éƒ¨è‡ªå·±è°ƒç”¨è‡ªå·± - å¿…é¡»æœ‰å‡ºå£- lambda - è¯­æ³• ``` python lambda å‚æ•°åˆ—è¡¨: è¡¨è¾¾å¼ ``` - lambdaçš„å‚æ•°å½¢å¼ - æ— å‚æ•° ``` python lambda: è¡¨è¾¾å¼ ``` - ä¸€ä¸ªå‚æ•° ``` python lambda å‚æ•°: è¡¨è¾¾å¼ ``` - é»˜è®¤å‚æ•° ``` python lambda key=value: è¡¨è¾¾å¼ ``` - ä¸å®šé•¿ä½ç½®å‚æ•° ``` python lambda *args: è¡¨è¾¾å¼ ``` - ä¸å®šé•¿å…³é”®å­—å‚æ•° ``` python lambda **kwargs: è¡¨è¾¾å¼ ```- é«˜é˜¶å‡½æ•° - ä½œç”¨ï¼šæŠŠå‡½æ•°ä½œä¸ºå‚æ•°ä¼ å…¥ï¼ŒåŒ–ç®€ä»£ç  - å†…ç½®é«˜é˜¶å‡½æ•° - map() - reduce() - filter()strip()å‡½æ•°ç”¨äºç§»é™¤å­—ç¬¦ä¸²å¤´å°¾æŒ‡å®šçš„å­—ç¬¦ï¼ˆé»˜è®¤ä¸ºç©ºæ ¼æˆ–æ¢è¡Œç¬¦ï¼‰æˆ–å­—ç¬¦åºåˆ—ã€‚rstrip()å‡½æ•°ç§»é™¤æœ«å°¾æŒ‡å®šå­—ç¬¦ï¼Œé»˜è®¤ä¸ºç©ºæ ¼\"\"\"","categories":[{"name":"python","slug":"python","permalink":"https://esyyes.github.io/categories/python/"}],"tags":[{"name":"python","slug":"python","permalink":"https://esyyes.github.io/tags/python/"}]},{"title":"python--å…¥é—¨å¤ä¹ æ¨å¯¼å¼","slug":"python/python-å…¥é—¨å¤ä¹ æ¨å¯¼å¼","date":"2020-05-25T12:00:32.000Z","updated":"2020-05-25T12:00:32.000Z","comments":true,"path":"2020/05/25/python/python-å…¥é—¨å¤ä¹ æ¨å¯¼å¼/","link":"","permalink":"https://esyyes.github.io/2020/05/25/python/python-%E5%85%A5%E9%97%A8%E5%A4%8D%E4%B9%A0%E6%8E%A8%E5%AF%BC%E5%BC%8F/","excerpt":"","text":"123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596# -*- coding: utf-8 -*-# @Time : 2020/5/25# @Author : esy\"\"\"æ¨å¯¼å¼- åˆ—è¡¨æ¨å¯¼å¼ä½œç”¨ï¼šç”¨ä¸€ä¸ªè¡¨è¾¾å¼åˆ›å»ºä¸€ä¸ªæœ‰è§„å¾‹çš„åˆ—è¡¨æˆ–æ§åˆ¶ä¸€ä¸ªæœ‰è§„å¾‹åˆ—è¡¨ã€‚åˆ—è¡¨æ¨å¯¼å¼åˆå«åˆ—è¡¨ç”Ÿæˆå¼ã€‚- å­—å…¸æ¨å¯¼å¼å­—å…¸æ¨å¯¼å¼ä½œç”¨ï¼šå¿«é€Ÿåˆå¹¶åˆ—è¡¨ä¸ºå­—å…¸æˆ–æå–å­—å…¸ä¸­ç›®æ ‡æ•°æ®ã€‚- é›†åˆæ¨å¯¼å¼åˆ›å»ºä¸€ä¸ªé›†åˆï¼Œæ•°æ®ä¸ºä¸‹æ–¹åˆ—è¡¨çš„2æ¬¡æ–¹ã€‚- æ¨å¯¼å¼çš„ä½œç”¨ï¼šç®€åŒ–ä»£ç - æ¨å¯¼å¼å†™æ³•# åˆ—è¡¨æ¨å¯¼å¼[xx for xx in range()]# å­—å…¸æ¨å¯¼å¼&#123;xx1: xx2 for ... in ...&#125;# é›†åˆæ¨å¯¼å¼&#123;xx for xx in ...&#125;\"\"\"\"\"\"åˆ—è¡¨æ¨å¯¼å¼:éœ€æ±‚åˆ›å»ºä¸€ä¸ª0-10çš„åˆ—è¡¨ã€‚- whileå¾ªç¯å®ç°\"\"\"list1 = []# 2. ä¹¦å†™å¾ªç¯ï¼Œä¾æ¬¡è¿½åŠ æ•°å­—åˆ°ç©ºåˆ—è¡¨list1ä¸­i = 0while i &lt; 10: list1.append(i) i += 1print(list1)list1 = []for i in range(10): list1.append(i)print(list1)# åˆ—è¡¨æ¨å¯¼å¼å®ç°list1 = [i for i in range(10)]print(list1)# éœ€æ±‚ï¼šåˆ›å»º0-10çš„å¶æ•°åˆ—è¡¨## - æ–¹æ³•ä¸€ï¼šrange()æ­¥é•¿å®ç°list1 = [i for i in range(0, 10, 2)]print(list1)# ifå®ç°list1 = [i for i in range(10) if i % 2 == 0]print(list1)a = [(1, 0), (1, 1), (1, 2), (2, 0), (2, 1), (2, 2)]a = [(i, j) for i in range(1, 3) for j in range(3)]print(a)# åˆ›å»ºä¸€ä¸ªå­—å…¸ï¼šå­—å…¸keyæ˜¯1-5æ•°å­—ï¼Œvalueæ˜¯è¿™ä¸ªæ•°å­—çš„2æ¬¡æ–¹dict1 = &#123;i: i**2 for i in range(1, 5)&#125;print(dict1) # &#123;1: 1, 2: 4, 3: 9, 4: 16&#125;# å°†ä¸¤ä¸ªåˆ—è¡¨åˆå¹¶ä¸ºä¸€ä¸ªå­—å…¸list1 = ['name', 'age', 'gender']list2 = ['Tom', 20, 'man']dict1 = &#123;list1[i]: list2[i] for i in range(len(list1))&#125;print(dict1)# æå–å­—å…¸ä¸­ç›®æ ‡æ•°æ®counts = &#123;'MBP': 268, 'HP': 125, 'DELL': 201, 'Lenovo': 199, 'acer': 99&#125;# éœ€æ±‚ï¼šæå–ä¸Šè¿°ç”µè„‘æ•°é‡å¤§äºç­‰äº200çš„å­—å…¸æ•°æ®count1 = &#123;key: value for key, value in counts.items() if value &gt;= 200&#125;print(count1) # &#123;'MBP': 268, 'DELL': 201&#125;# é›†åˆæ¨å¯¼å¼# éœ€æ±‚ï¼šåˆ›å»ºä¸€ä¸ªé›†åˆï¼Œæ•°æ®ä¸ºä¸‹æ–¹åˆ—è¡¨çš„2æ¬¡æ–¹ã€‚list1 = [1, 1, 2]set1 = &#123;i ** 2 for i in list1&#125;print(set1) # &#123;1, 4&#125;# é›†åˆæœ‰æ•°æ®å»é‡åŠŸèƒ½ã€‚","categories":[],"tags":[]},{"title":"pythonâ€”â€”å…¥é—¨å¤ä¹ æ•°æ®åºåˆ—","slug":"python/pythonâ€”â€”å…¥é—¨å¤ä¹ æ•°æ®åºåˆ—","date":"2020-05-25T11:57:35.000Z","updated":"2020-05-25T11:57:35.000Z","comments":true,"path":"2020/05/25/python/pythonâ€”â€”å…¥é—¨å¤ä¹ æ•°æ®åºåˆ—/","link":"","permalink":"https://esyyes.github.io/2020/05/25/python/python%E2%80%94%E2%80%94%E5%85%A5%E9%97%A8%E5%A4%8D%E4%B9%A0%E6%95%B0%E6%8D%AE%E5%BA%8F%E5%88%97/","excerpt":"","text":"123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315# -*- coding: utf-8 -*-# @Time : 2020/5/25# @Author : esy# å­—ç¬¦ä¸²'''æ•°æ®ç±»å‹ä¸ºstr(å­—ç¬¦ä¸²)ä¸‰å¼•å·å½¢å¼çš„å­—ç¬¦ä¸²æ”¯æŒæ¢è¡Œã€‚'''c = \"I'm Tom\"d = 'I\\'m Tom'print(c)print(d)'''åˆ‡ç‰‡æ˜¯æŒ‡å¯¹æ“ä½œçš„å¯¹è±¡æˆªå–å…¶ä¸­ä¸€éƒ¨åˆ†çš„æ“ä½œã€‚**å­—ç¬¦ä¸²ã€åˆ—è¡¨ã€å…ƒç»„**éƒ½æ”¯æŒåˆ‡ç‰‡æ“ä½œã€‚åºåˆ—[å¼€å§‹ä½ç½®ä¸‹æ ‡:ç»“æŸä½ç½®ä¸‹æ ‡:æ­¥é•¿]æ­¥é•¿æ˜¯é€‰å–é—´éš”ï¼Œæ­£è´Ÿæ•´æ•°å‡å¯ï¼Œé»˜è®¤æ­¥é•¿ä¸º1ã€‚å·¦é—­å³å¼€'''name = \"abcdefg\"print(name[2:5:1]) # cdeprint(name[2:5]) # cdeprint(name[:5]) # abcdeprint(name[1:]) # bcdefgprint(name[:]) # abcdefgprint(name[::2]) # acegprint(name[:-1]) # abcdef, è´Ÿ1è¡¨ç¤ºå€’æ•°ç¬¬ä¸€ä¸ªæ•°æ®print(name[-4:-1]) # defprint(name[::-1]) # gfedcba'''find()ï¼šæ£€æµ‹æŸä¸ªå­ä¸²æ˜¯å¦åŒ…å«åœ¨è¿™ä¸ªå­—ç¬¦ä¸²ä¸­ï¼Œå¦‚æœåœ¨è¿”å›è¿™ä¸ªå­ä¸²å¼€å§‹çš„ä½ç½®ä¸‹æ ‡ï¼Œå¦åˆ™åˆ™è¿”å›-1ã€‚å­—ç¬¦ä¸²åºåˆ—.find(å­ä¸², å¼€å§‹ä½ç½®ä¸‹æ ‡, ç»“æŸä½ç½®ä¸‹æ ‡)'''mystr = \"hello world and itcast and itheima and Python\"print(mystr.find('and')) # 12print(mystr.find('and', 15, 30)) # 23print(mystr.find('ands')) # -1'''index()ï¼šæ£€æµ‹æŸä¸ªå­ä¸²æ˜¯å¦åŒ…å«åœ¨è¿™ä¸ªå­—ç¬¦ä¸²ä¸­ï¼Œå¦‚æœåœ¨è¿”å›è¿™ä¸ªå­ä¸²å¼€å§‹çš„ä½ç½®ä¸‹æ ‡ï¼Œå¦åˆ™åˆ™æŠ¥å¼‚å¸¸ã€‚å¼€å§‹å’Œç»“æŸä½ç½®ä¸‹æ ‡å¯ä»¥çœç•¥ï¼Œè¡¨ç¤ºåœ¨æ•´ä¸ªå­—ç¬¦ä¸²åºåˆ—ä¸­æŸ¥æ‰¾ã€‚'''mystr = \"hello world and itcast and itheima and Python\"print(mystr.index('and')) # 12print(mystr.index('and', 15, 30)) # 23print(mystr.index('ands')) # æŠ¥é”™'''æ‰€è°“ä¿®æ”¹å­—ç¬¦ä¸²ï¼ŒæŒ‡çš„å°±æ˜¯é€šè¿‡å‡½æ•°çš„å½¢å¼ä¿®æ”¹å­—ç¬¦ä¸²ä¸­çš„æ•°æ®ã€‚å­—ç¬¦ä¸²åºåˆ—.replace(æ—§å­ä¸², æ–°å­ä¸², æ›¿æ¢æ¬¡æ•°)'''# ç»“æœï¼šhello world he itcast he itheima he Pythonprint(mystr.replace('and', 'he', 10))\"\"\"- ä¸‹æ ‡ - è®¡ç®—æœºä¸ºæ•°æ®åºåˆ—ä¸­æ¯ä¸ªå…ƒç´ åˆ†é…çš„ä»0å¼€å§‹çš„ç¼–å·- åˆ‡ç‰‡``` pythonåºåˆ—å[å¼€å§‹ä½ç½®ä¸‹æ ‡:ç»“æŸä½ç½®ä¸‹æ ‡:æ­¥é•¿]```- å¸¸ç”¨æ“ä½œæ–¹æ³• - find() - index()\"\"\"\"\"\"åˆ—è¡¨ï¼š[æ•°æ®1, æ•°æ®2, æ•°æ®3, æ•°æ®4......]åˆ—è¡¨çš„ä½œç”¨æ˜¯ä¸€æ¬¡æ€§å­˜å‚¨å¤šä¸ªæ•°æ®ï¼Œç¨‹åºå‘˜å¯ä»¥å¯¹è¿™äº›æ•°æ®è¿›è¡Œçš„æ“ä½œæœ‰ï¼šå¢ã€åˆ ã€æ”¹ã€æŸ¥ã€‚\"\"\"name_list = ['Tom', 'Lily', 'Rose']print(name_list[0]) # Tomprint(name_list[1]) # Lilyprint(name_list[2]) # Rose# index()ï¼šè¿”å›æŒ‡å®šæ•°æ®æ‰€åœ¨ä½ç½®çš„ä¸‹æ ‡ ã€‚# åˆ—è¡¨åºåˆ—.index(æ•°æ®, å¼€å§‹ä½ç½®ä¸‹æ ‡, ç»“æŸä½ç½®ä¸‹æ ‡)print(name_list.index('Lily', 0, 2)) # 1# count()ï¼šç»Ÿè®¡æŒ‡å®šæ•°æ®åœ¨å½“å‰åˆ—è¡¨ä¸­å‡ºç°çš„æ¬¡æ•°ã€‚print(name_list.count('Lily')) # 1# len()ï¼šè®¿é—®åˆ—è¡¨é•¿åº¦ï¼Œå³åˆ—è¡¨ä¸­æ•°æ®çš„ä¸ªæ•°ã€‚print(len(name_list)) # 3# append()ï¼šåˆ—è¡¨ç»“å°¾è¿½åŠ æ•°æ®ã€‚name_list.append('xiaoming')# ç»“æœï¼š['Tom', 'Lily', 'Rose', 'xiaoming']print(name_list)# å¦‚æœappend()è¿½åŠ çš„æ•°æ®æ˜¯ä¸€ä¸ªåºåˆ—ï¼Œåˆ™è¿½åŠ æ•´ä¸ªåºåˆ—åˆ°åˆ—è¡¨# extend()ï¼šåˆ—è¡¨ç»“å°¾è¿½åŠ æ•°æ®ï¼Œå¦‚æœæ•°æ®æ˜¯ä¸€ä¸ªåºåˆ—ï¼Œåˆ™å°†è¿™ä¸ªåºåˆ—çš„æ•°æ®é€ä¸€æ·»åŠ åˆ°åˆ—è¡¨ã€‚name_list = ['Tom', 'Lily', 'Rose']name_list.extend('xiaoming')# ç»“æœï¼š['Tom', 'Lily', 'Rose', 'x', 'i', 'a', 'o', 'm', 'i', 'n', 'g']print(name_list)name_list.extend(['xiaoming'])print(name_list)# insert()ï¼šæŒ‡å®šä½ç½®æ–°å¢æ•°æ®ã€‚# åˆ—è¡¨åºåˆ—.insert(ä½ç½®ä¸‹æ ‡, æ•°æ®)name_list = ['Tom', 'Lily', 'Rose']name_list.insert(1, 'xiaoming')# ç»“æœï¼š['Tom', 'xiaoming', 'Lily', 'Rose']print(name_list)# åˆ é™¤# del ç›®æ ‡name_list = ['Tom', 'Lily', 'Rose']# ç»“æœï¼šæŠ¥é”™æç¤ºï¼šname 'name_list' is not defineddel name_listprint(name_list)name_list = ['Tom', 'Lily', 'Rose']# åˆ é™¤æŒ‡å®šæ•°æ®del name_list[0]# ç»“æœï¼š['Lily', 'Rose']print(name_list)# pop()ï¼šåˆ é™¤æŒ‡å®šä¸‹æ ‡çš„æ•°æ®(é»˜è®¤ä¸ºæœ€åä¸€ä¸ª)ï¼Œå¹¶è¿”å›è¯¥æ•°æ®ã€‚# åˆ—è¡¨åºåˆ—.pop(ä¸‹æ ‡)name_list = ['Tom', 'Lily', 'Rose']del_name = name_list.pop(1)# ç»“æœï¼šLilyprint(del_name)# ç»“æœï¼š['Tom', 'Rose']print(name_list)# åˆ—è¡¨åºåˆ—.sort( key=None, reverse=False)'''åˆ—è¡¨åºåˆ—.sort( key=None, reverse=False)å¦‚æœå®šä¹‰çš„å…ƒç»„åªæœ‰ä¸€ä¸ªæ•°æ®ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°æ®åé¢ä¹Ÿå¥½æ·»åŠ é€—å·ï¼Œå¦åˆ™æ•°æ®ç±»å‹ä¸ºå”¯ä¸€çš„è¿™ä¸ªæ•°æ®çš„æ•°æ®ç±»å‹å…ƒç»„æ•°æ®ä¸æ”¯æŒä¿®æ”¹ï¼Œåªæ”¯æŒæŸ¥æ‰¾index()ï¼šæŸ¥æ‰¾æŸä¸ªæ•°æ®ï¼Œå¦‚æœæ•°æ®å­˜åœ¨è¿”å›å¯¹åº”çš„ä¸‹æ ‡ï¼Œå¦åˆ™æŠ¥é”™ï¼Œè¯­æ³•å’Œåˆ—è¡¨ã€å­—ç¬¦ä¸²çš„indexæ–¹æ³•ç›¸åŒcount()ï¼šç»Ÿè®¡æŸä¸ªæ•°æ®åœ¨å½“å‰å…ƒç»„å‡ºç°çš„æ¬¡æ•°ã€‚len()ï¼šç»Ÿè®¡å…ƒç»„ä¸­æ•°æ®çš„ä¸ªæ•°ã€‚ '''# å¤šä¸ªæ•°æ®å…ƒç»„t1 = (10, 20, 30)# å•ä¸ªæ•°æ®å…ƒç»„t2 = (10,)'''å­—å…¸ç‰¹ç‚¹ï¼š- ç¬¦å·ä¸º==å¤§æ‹¬å·==- æ•°æ®ä¸º==é”®å€¼å¯¹==å½¢å¼å‡ºç°- å„ä¸ªé”®å€¼å¯¹ä¹‹é—´ç”¨==é€—å·==éš”å¼€ä¸€èˆ¬ç§°å†’å·å‰é¢çš„ä¸ºé”®(key)ï¼Œç®€ç§°kï¼›å†’å·åé¢çš„ä¸ºå€¼(value)ï¼Œç®€ç§°vã€‚&gt; å­—å…¸ä¸ºå¯å˜ç±»å‹ã€‚del() / delï¼šåˆ é™¤å­—å…¸æˆ–åˆ é™¤å­—å…¸ä¸­æŒ‡å®šé”®å€¼å¯¹ã€‚clear()ï¼šæ¸…ç©ºå­—å…¸'''# æœ‰æ•°æ®å­—å…¸dict1 = &#123;'name': 'Tom', 'age': 20, 'gender': 'ç”·'&#125;# ç©ºå­—å…¸dict2 = &#123;&#125;dict3 = dict()dict1['name'] = 'Rose'# ç»“æœï¼š&#123;'name': 'Rose', 'age': 20, 'gender': 'ç”·'&#125;print(dict1)dict1['id'] = 110# &#123;'name': 'Rose', 'age': 20, 'gender': 'ç”·', 'id': 110&#125;print(dict1)'''å­—å…¸åºåˆ—.get(key, é»˜è®¤å€¼)å¦‚æœå½“å‰æŸ¥æ‰¾çš„keyä¸å­˜åœ¨åˆ™è¿”å›ç¬¬äºŒä¸ªå‚æ•°(é»˜è®¤å€¼)ï¼Œå¦‚æœçœç•¥ç¬¬äºŒä¸ªå‚æ•°ï¼Œåˆ™è¿”å›Noneã€‚'''dict1 = &#123;'name': 'Tom', 'age': 20, 'gender': 'ç”·'&#125;print(dict1.get('name')) # Tomprint(dict1.get('id', 110)) # 110print(dict1.get('id')) # None# keys()dict1 = &#123;'name': 'Tom', 'age': 20, 'gender': 'ç”·'&#125;print(dict1.keys()) # dict_keys(['name', 'age', 'gender'])# values()print(dict1.values()) # dict_values(['Tom', 20, 'ç”·'])dict1 = &#123;'name': 'Tom', 'age': 20, 'gender': 'ç”·'&#125;print(dict1.items()) # dict_items([('name', 'Tom'), ('age', 20), ('gender', 'ç”·')])'''åˆ›å»ºé›†åˆä½¿ç”¨`&#123;&#125;`æˆ–`set()`ï¼Œ ä½†æ˜¯å¦‚æœè¦åˆ›å»ºç©ºé›†åˆåªèƒ½ä½¿ç”¨`set()`ï¼Œå› ä¸º`&#123;&#125;`ç”¨æ¥åˆ›å»ºç©ºå­—å…¸ã€‚'''s3 = set('abcdefg')print(s3)\"\"\"1. é›†åˆå¯ä»¥å»æ‰é‡å¤æ•°æ®ï¼›2. é›†åˆæ•°æ®æ˜¯æ— åºçš„ï¼Œæ•…ä¸æ”¯æŒä¸‹æ ‡å¢åŠ æ•°æ®add()\"\"\"s1 = &#123;10, 20&#125;s1.add(100)s1.add(10)print(s1) # &#123;100, 10, 20&#125;# å› ä¸ºé›†åˆæœ‰å»é‡åŠŸèƒ½ï¼Œæ‰€ä»¥ï¼Œå½“å‘é›†åˆå†…è¿½åŠ çš„æ•°æ®æ˜¯å½“å‰é›†åˆå·²æœ‰æ•°æ®çš„è¯ï¼Œåˆ™ä¸è¿›è¡Œä»»ä½•æ“ä½œã€‚# update(), è¿½åŠ çš„æ•°æ®æ˜¯åºåˆ—ã€‚s1 = &#123;10, 20&#125;# s1.update(100) # æŠ¥é”™s1.update([100, 200])s1.update('abc')print(s1)# remove()ï¼Œåˆ é™¤é›†åˆä¸­çš„æŒ‡å®šæ•°æ®ï¼Œå¦‚æœæ•°æ®ä¸å­˜åœ¨åˆ™æŠ¥é”™ã€‚# discard()ï¼Œåˆ é™¤é›†åˆä¸­çš„æŒ‡å®šæ•°æ®ï¼Œå¦‚æœæ•°æ®ä¸å­˜åœ¨ä¹Ÿä¸ä¼šæŠ¥é”™ã€‚# pop()ï¼Œéšæœºåˆ é™¤é›†åˆä¸­çš„æŸä¸ªæ•°æ®ï¼Œå¹¶è¿”å›è¿™ä¸ªæ•°æ®ã€‚s1 = &#123;10, 20, 30, 40, 50&#125;del_num = s1.pop()print(del_num)print(s1)\"\"\"å¸¸è§æ“ä½œ- å¢åŠ æ•°æ® - add() - update()- åˆ é™¤æ•°æ® - remove() - discard()\"\"\"\"\"\"| è¿ç®—ç¬¦ | æè¿° | æ”¯æŒçš„å®¹å™¨ç±»å‹ || :----: | :------------: | :----------------------: || + | åˆå¹¶ | å­—ç¬¦ä¸²ã€åˆ—è¡¨ã€å…ƒç»„ || * | å¤åˆ¶ | å­—ç¬¦ä¸²ã€åˆ—è¡¨ã€å…ƒç»„ || in | å…ƒç´ æ˜¯å¦å­˜åœ¨ | å­—ç¬¦ä¸²ã€åˆ—è¡¨ã€å…ƒç»„ã€å­—å…¸ || not in | å…ƒç´ æ˜¯å¦ä¸å­˜åœ¨ | å­—ç¬¦ä¸²ã€åˆ—è¡¨ã€å…ƒç»„ã€å­—å…¸ |\"\"\"# 1. å­—ç¬¦ä¸²str1 = 'aa'str2 = 'bb'str3 = str1 + str2print(str3) # aabb# 2. åˆ—è¡¨list1 = [1, 2]list2 = [10, 20]list3 = list1 + list2print(list3) # [1, 2, 10, 20]# 3. å…ƒç»„t1 = (1, 2)t2 = (10, 20)t3 = t1 + t2print(t3) # (10, 20, 100, 200)# 1. å­—ç¬¦ä¸²print('-' * 10) # ----------# 2. åˆ—è¡¨list1 = ['hello']print(list1 * 4) # ['hello', 'hello', 'hello', 'hello']# 3. å…ƒç»„t1 = ('world',)print(t1 * 4) # ('world', 'world', 'world', 'world')\"\"\"len()è®¡ç®—å®¹å™¨ä¸­å…ƒç´ ä¸ªæ•°del æˆ– del()åˆ é™¤max()è¿”å›å®¹å™¨ä¸­å…ƒç´ æœ€å¤§å€¼min()è¿”å›å®¹å™¨ä¸­å…ƒç´ æœ€å°å€¼\"\"\"\"\"\"æ•°æ®ç±»å‹è½¬æ¢- tuple()- list()- set()\"\"\"","categories":[],"tags":[]},{"title":"python_å…¥é—¨å¤ä¹ ","slug":"python/python-å…¥é—¨å¤ä¹ ","date":"2020-05-21T08:28:34.000Z","updated":"2020-05-25T08:23:33.525Z","comments":true,"path":"2020/05/21/python/python-å…¥é—¨å¤ä¹ /","link":"","permalink":"https://esyyes.github.io/2020/05/21/python/python-%E5%85%A5%E9%97%A8%E5%A4%8D%E4%B9%A0/","excerpt":"","text":"pythonå…¥é—¨å¤ä¹ _å˜é‡â€”å¾ªç¯â€”æ¡ä»¶123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397# -*- coding: utf-8 -*-# @Time : 2020/5/21# @Author : esy# python å…¥é—¨å¤ä¹ \"\"\"æ³¨é‡Šæ–‡ä»¶: å¤šè¡Œæ³¨é‡Šï¼šâ€˜â€™â€˜ ã€‚ã€‚ã€‚â€™â€˜â€™æˆ–è€…â€œâ€â€œã€‚ã€‚ã€‚â€â€œâ€ å•è¡Œæ³¨é‡Šï¼š# å¿«æ·é”® ï¼šctrl + /\"\"\"'''æ ‡è¯†ç¬¦å‘½åè§„åˆ™æ˜¯Pythonä¸­å®šä¹‰å„ç§åå­—çš„æ—¶å€™çš„ç»Ÿä¸€è§„èŒƒï¼Œå…·ä½“å¦‚ä¸‹ï¼š- ç”±æ•°å­—ã€å­—æ¯ã€ä¸‹åˆ’çº¿ç»„æˆ- ä¸èƒ½æ•°å­—å¼€å¤´- ä¸èƒ½ä½¿ç”¨å†…ç½®å…³é”®å­—- ä¸¥æ ¼åŒºåˆ†å¤§å°å†™å˜é‡å‘½åä¹ æƒ¯- å¤§é©¼å³°ï¼šå³æ¯ä¸ªå•è¯é¦–å­—æ¯éƒ½å¤§å†™ï¼Œä¾‹å¦‚ï¼š`MyName`ã€‚- å°é©¼å³°ï¼šç¬¬äºŒä¸ªï¼ˆå«ï¼‰ä»¥åçš„å•è¯é¦–å­—æ¯å¤§å†™ï¼Œä¾‹å¦‚ï¼š`myName`ã€‚- ä¸‹åˆ’çº¿ï¼šä¾‹å¦‚ï¼š`my_name`ã€‚''''''Debugå·¥å…·æ˜¯PyCharm IDEä¸­é›†æˆ ç”¨æ¥è°ƒè¯•ç¨‹åºçš„å·¥å…·ï¼Œåœ¨è¿™é‡Œç¨‹åºå‘˜å¯ä»¥æŸ¥çœ‹ç¨‹åºçš„æ‰§è¡Œç»†èŠ‚å’Œæµç¨‹æˆ–è€…è°ƒè§£bugã€‚Debugå·¥å…·ä½¿ç”¨æ­¥éª¤ï¼š1. æ‰“æ–­ç‚¹2. Debugè°ƒè¯•'''\"\"\"æ£€æµ‹æ•°æ®ç±»å‹çš„æ–¹æ³•ï¼š`type()`æ•°æ®ç±»å‹- æ•´å‹ï¼šint- æµ®ç‚¹å‹ï¼šfloat- å­—ç¬¦ä¸²ï¼šstr- å¸ƒå°”å‹ï¼šbool- å…ƒç»„ï¼štuple- é›†åˆï¼šset- å­—å…¸ï¼šdict\"\"\"\"\"\"- æ ¼å¼åŒ–è¾“å‡º - æ ¼å¼åŒ–ç¬¦å· - f-å­—ç¬¦ä¸²- printçš„ç»“æŸç¬¦æ‰€è°“çš„æ ¼å¼åŒ–è¾“å‡ºå³æŒ‰ç…§ä¸€å®šçš„æ ¼å¼è¾“å‡ºå†…å®¹| æ ¼å¼ç¬¦å· | è½¬æ¢ | :------: | :--------------------: | ==%s== | å­—ç¬¦ä¸² | ==%d== | æœ‰ç¬¦å·çš„åè¿›åˆ¶æ•´æ•° | ==%f== | æµ®ç‚¹æ•° | %c | å­—ç¬¦ | %u | æ— ç¬¦å·åè¿›åˆ¶æ•´æ•° | %o | å…«è¿›åˆ¶æ•´æ•° | %x | åå…­è¿›åˆ¶æ•´æ•°ï¼ˆå°å†™oxï¼‰ | %X | åå…­è¿›åˆ¶æ•´æ•°ï¼ˆå¤§å†™OXï¼‰ | %e | ç§‘å­¦è®¡æ•°æ³•ï¼ˆå°å†™'e'ï¼‰ | %E | ç§‘å­¦è®¡æ•°æ³•ï¼ˆå¤§å†™'E'ï¼‰ | %g | %få’Œ%eçš„ç®€å†™ | %G | %få’Œ%Eçš„ç®€å†™ - %06dï¼Œè¡¨ç¤ºè¾“å‡ºçš„æ•´æ•°æ˜¾ç¤ºä½æ•°ï¼Œä¸è¶³ä»¥0è¡¥å…¨ï¼Œè¶…å‡ºå½“å‰ä½æ•°åˆ™åŸæ ·è¾“å‡º- %.2fï¼Œè¡¨ç¤ºå°æ•°ç‚¹åæ˜¾ç¤ºçš„å°æ•°ä½æ•°ã€‚æ ¼å¼åŒ–å­—ç¬¦ä¸²é™¤äº†%sï¼Œè¿˜å¯ä»¥å†™ä¸º`f'&#123;è¡¨è¾¾å¼&#125;'`\"\"\"# print('') or print(\"\")print('hello Python')print(\"hello Python\")# hello Python# hello Pythonage = 18name = 'TOM'weight = 75.5student_id = 1# æˆ‘çš„åå­—æ˜¯TOMprint('æˆ‘çš„åå­—æ˜¯%s' % name)# æˆ‘çš„å­¦å·æ˜¯0001print('æˆ‘çš„å­¦å·æ˜¯%4d' % student_id)# æˆ‘çš„ä½“é‡æ˜¯75.50å…¬æ–¤print('æˆ‘çš„ä½“é‡æ˜¯%.2få…¬æ–¤' % weight)# æˆ‘çš„åå­—æ˜¯TOMï¼Œä»Šå¹´18å²äº†print('æˆ‘çš„åå­—æ˜¯%sï¼Œä»Šå¹´%då²äº†' % (name, age))# æˆ‘çš„åå­—æ˜¯TOMï¼Œæ˜å¹´19å²äº†print('æˆ‘çš„åå­—æ˜¯%sï¼Œæ˜å¹´%då²äº†' % (name, age + 1))# æˆ‘çš„åå­—æ˜¯TOMï¼Œæ˜å¹´19å²äº†print(f'æˆ‘çš„åå­—æ˜¯&#123;name&#125;, æ˜å¹´&#123;age + 1&#125;å²äº†')\"\"\"- è½¬ä¹‰å­—ç¬¦ - \\nï¼šæ¢è¡Œ - \\tï¼šåˆ¶è¡¨ç¬¦- printç»“æŸç¬¦print('å†…å®¹', end=\"\")\"\"\"\"\"\"è¾“å‡ºçš„ print å‡½æ•°æ€»ç»“ï¼š1. å­—ç¬¦ä¸²å’Œæ•°å€¼ç±»å‹å¯ä»¥ç›´æ¥è¾“å‡º2.å˜é‡æ— è®ºä»€ä¹ˆç±»å‹ï¼Œæ•°å€¼ï¼Œå¸ƒå°”ï¼Œåˆ—è¡¨ï¼Œå­—å…¸...éƒ½å¯ä»¥ç›´æ¥è¾“å‡º(1). %å­—ç¬¦ï¼šæ ‡è®°è½¬æ¢è¯´æ˜ç¬¦çš„å¼€å§‹(2). è½¬æ¢æ ‡å¿—ï¼š-è¡¨ç¤ºå·¦å¯¹é½ï¼›+è¡¨ç¤ºåœ¨è½¬æ¢å€¼ä¹‹å‰è¦åŠ ä¸Šæ­£è´Ÿå·ï¼›â€œâ€ï¼ˆç©ºç™½å­—ç¬¦ï¼‰è¡¨ç¤ºæ­£æ•°ä¹‹å‰ä¿ç•™ç©ºæ ¼ï¼›0è¡¨ç¤ºè½¬æ¢å€¼è‹¥ä½æ•°ä¸å¤Ÿåˆ™ç”¨0å¡«å……(3). æœ€å°å­—æ®µå®½åº¦ï¼šè½¬æ¢åçš„å­—ç¬¦ä¸²è‡³å°‘åº”è¯¥å…·æœ‰è¯¥å€¼æŒ‡å®šçš„å®½åº¦ã€‚å¦‚æœæ˜¯*ï¼Œåˆ™å®½åº¦ä¼šä»å€¼å…ƒç»„ä¸­è¯»å‡ºã€‚(4). ç‚¹(.)åè·Ÿç²¾åº¦å€¼ï¼šå¦‚æœè½¬æ¢çš„æ˜¯å®æ•°ï¼Œç²¾åº¦å€¼å°±è¡¨ç¤ºå‡ºç°åœ¨å°æ•°ç‚¹åçš„ä½æ•°ã€‚å¦‚æœè½¬æ¢çš„æ˜¯å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆè¯¥æ•°å­—å°±è¡¨ç¤ºæœ€å¤§å­—æ®µå®½åº¦ã€‚å¦‚æœæ˜¯*ï¼Œé‚£ä¹ˆç²¾åº¦å°†ä»å…ƒç»„ä¸­è¯»å‡º (5).å­—ç¬¦ä¸²æ ¼å¼åŒ–è½¬æ¢ç±»å‹\"\"\"for x in range(0, 10): print(x, end='\\t')\"\"\"abs(number)ï¼Œè¿”å›æ•°å­—çš„ç»å¯¹å€¼cmath.sqrt(number)ï¼Œè¿”å›å¹³æ–¹æ ¹ï¼Œä¹Ÿå¯ä»¥åº”ç”¨äºè´Ÿæ•°float(object)ï¼ŒæŠŠå­—ç¬¦ä¸²å’Œæ•°å­—è½¬æ¢ä¸ºæµ®ç‚¹æ•°help()ï¼Œæä¾›äº¤äº’å¼å¸®åŠ©input(prompt)ï¼Œè·å–ç”¨æˆ·è¾“å…¥int(object)ï¼ŒæŠŠå­—ç¬¦ä¸²å’Œæ•°å­—è½¬æ¢ä¸ºæ•´æ•°math.ceil(number)ï¼Œè¿”å›æ•°çš„ä¸Šå…¥æ•´æ•°ï¼Œè¿”å›å€¼çš„ç±»å‹ä¸ºæµ®ç‚¹æ•°math.floor(number)ï¼Œè¿”å›æ•°çš„ä¸‹èˆæ•´æ•°ï¼Œè¿”å›å€¼çš„ç±»å‹ä¸ºæµ®ç‚¹æ•°math.sqrt(number)ï¼Œè¿”å›å¹³æ–¹æ ¹ä¸é€‚ç”¨äºè´Ÿæ•°pow(x,y[.z]),è¿”å›Xçš„yæ¬¡å¹‚ï¼ˆæœ‰zåˆ™å¯¹zå–æ¨¡ï¼‰repr(object)ï¼Œè¿”å›å€¼çš„å­—ç¬¦ä¸²æ ‡ç¤ºå½¢å¼round(number[.ndigits])ï¼Œæ ¹æ®ç»™å®šçš„ç²¾åº¦å¯¹æ•°å­—è¿›è¡Œå››èˆäº”å…¥str(object),æŠŠå€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²\"\"\"\"\"\"- è¾“å…¥åŠŸèƒ½ - input('æç¤ºæ–‡å­—')- è¾“å…¥çš„ç‰¹ç‚¹ - ä¸€èˆ¬å°†inputæ¥æ”¶çš„æ•°æ®å­˜å‚¨åˆ°å˜é‡ - inputæ¥æ”¶çš„ä»»ä½•æ•°æ®é»˜è®¤éƒ½æ˜¯å­—ç¬¦ä¸²æ•°æ®ç±»å‹\"\"\"k = input(\"è¯·è¾“å…¥ä½ çš„è´¦å·ï¼š\")print(\"tomçš„å¹´é¾„:\", 15 + 5)print('æˆ‘çš„åå­—æ˜¯%s' % name)\"\"\"è½¬æ¢æ•°æ®ç±»å‹å¸¸ç”¨çš„å‡½æ•°- int()- float()- str()- list()- tuple()- eval() eval() -- å°†å­—ç¬¦ä¸²ä¸­çš„æ•°æ®è½¬æ¢æˆPythonè¡¨è¾¾å¼åŸæœ¬ç±»å‹\"\"\"str1 = '10'str2 = '[1, 2, 3]'str3 = '(1000, 2000, 3000)'print(eval(str1))print(eval(str2))print(eval(str3))print(type(eval(str1)))print(type(eval(str2)))print(type(eval(str3)))\"\"\"10[1, 2, 3](1000, 2000, 3000)ç”¨evalå°†æ•°æ®è½¬æ¢ä¸ºåŸæœ‰å½¢å¼ï¼Œå»é™¤ä¸¤è¾¹çš„''åœ¨æ•°æ®è½¬æ¢ä¸­å¯ä»¥ç”¨åˆ°\"\"\"'''ç®—æ•°è¿ç®—ç¬¦| è¿ç®—ç¬¦ | æè¿° | å®ä¾‹ || :----: | :----: | ----------------------------------------------------|| + | åŠ  | 1 + 1 è¾“å‡ºç»“æœä¸º 2 || - | å‡ | 1-1 è¾“å‡ºç»“æœä¸º 0 || * | ä¹˜ | 2 * 2 è¾“å‡ºç»“æœä¸º 4 || / | é™¤ | 10 / 2 è¾“å‡ºç»“æœä¸º 5 || // | æ•´é™¤ | 9 // 4 è¾“å‡ºç»“æœä¸º2 || % | å–ä½™ | 9 % 4 è¾“å‡ºç»“æœä¸º 1 || ** | æŒ‡æ•° | 2 ** 4 è¾“å‡ºç»“æœä¸º 16ï¼Œå³ 2 * 2 * 2 * 2 || () | å°æ‹¬å· | å°æ‹¬å·ç”¨æ¥æé«˜è¿ç®—ä¼˜å…ˆçº§ï¼Œå³ (1 + 2) * 3 è¾“å‡ºç»“æœä¸º 9 |æ··åˆè¿ç®—ä¼˜å…ˆçº§é¡ºåºï¼š`()`é«˜äº `**` é«˜äº `*` `/` `//` `%` é«˜äº `+` `-`å¤åˆèµ‹å€¼è¿ç®—ç¬¦ | è¿ç®—ç¬¦ | æè¿° | å®ä¾‹ || ------ | -------------- | -------------------------- || += | åŠ æ³•èµ‹å€¼è¿ç®—ç¬¦ | c += a ç­‰ä»·äº c = c + a || -= | å‡æ³•èµ‹å€¼è¿ç®—ç¬¦ | c -= a ç­‰ä»·äº c = c- a || *= | ä¹˜æ³•èµ‹å€¼è¿ç®—ç¬¦ | c *= a ç­‰ä»·äº c = c * a || /= | é™¤æ³•èµ‹å€¼è¿ç®—ç¬¦ | c /= a ç­‰ä»·äº c = c / a || //= | æ•´é™¤èµ‹å€¼è¿ç®—ç¬¦ | c //= a ç­‰ä»·äº c = c // a || %= | å–ä½™èµ‹å€¼è¿ç®—ç¬¦ | c %= a ç­‰ä»·äº c = c % a || **= | å¹‚èµ‹å€¼è¿ç®—ç¬¦ | c ** = a ç­‰ä»·äº c = c ** a |æ¯”è¾ƒè¿ç®—ç¬¦| è¿ç®—ç¬¦ | æè¿° | å®ä¾‹ || ------ | ------------------------------------------------------------ | -------------------------------------|| == | åˆ¤æ–­ç›¸ç­‰ã€‚å¦‚æœä¸¤ä¸ªæ“ä½œæ•°çš„ç»“æœç›¸ç­‰ï¼Œåˆ™æ¡ä»¶ç»“æœä¸ºçœŸ(True)ï¼Œå¦åˆ™æ¡ä»¶ç»“æœä¸ºå‡(False) | å¦‚a=3,b=3ï¼Œåˆ™ï¼ˆa == b) ä¸º True || != | ä¸ç­‰äº ã€‚å¦‚æœä¸¤ä¸ªæ“ä½œæ•°çš„ç»“æœä¸ç›¸ç­‰ï¼Œåˆ™æ¡ä»¶ä¸ºçœŸ(True)ï¼Œå¦åˆ™æ¡ä»¶ç»“æœä¸ºå‡(False) | å¦‚a=3,b=3ï¼Œåˆ™ï¼ˆa == b) ä¸º Trueå¦‚a=1,b=3ï¼Œåˆ™(a != b) ä¸º True || &gt; | è¿ç®—ç¬¦å·¦ä¾§æ“ä½œæ•°ç»“æœæ˜¯å¦å¤§äºå³ä¾§æ“ä½œæ•°ç»“æœï¼Œå¦‚æœå¤§äºï¼Œåˆ™æ¡ä»¶ä¸ºçœŸï¼Œå¦åˆ™ä¸ºå‡ | å¦‚a=7,b=3ï¼Œåˆ™(a &gt; b) ä¸º True || &lt; | è¿ç®—ç¬¦å·¦ä¾§æ“ä½œæ•°ç»“æœæ˜¯å¦å°äºå³ä¾§æ“ä½œæ•°ç»“æœï¼Œå¦‚æœå°äºï¼Œåˆ™æ¡ä»¶ä¸ºçœŸï¼Œå¦åˆ™ä¸ºå‡ | å¦‚a=7,b=3ï¼Œåˆ™(a &lt; b) ä¸º False || &gt;= | è¿ç®—ç¬¦å·¦ä¾§æ“ä½œæ•°ç»“æœæ˜¯å¦å¤§äºç­‰äºå³ä¾§æ“ä½œæ•°ç»“æœï¼Œå¦‚æœå¤§äºï¼Œåˆ™æ¡ä»¶ä¸ºçœŸï¼Œå¦åˆ™ä¸ºå‡ | å¦‚a=7,b=3ï¼Œåˆ™(a &lt; b) ä¸º Falseå¦‚a=3,b=3ï¼Œåˆ™(a &gt;= b) ä¸º True || &lt;= | è¿ç®—ç¬¦å·¦ä¾§æ“ä½œæ•°ç»“æœæ˜¯å¦å°äºç­‰äºå³ä¾§æ“ä½œæ•°ç»“æœï¼Œå¦‚æœå°äºï¼Œåˆ™æ¡ä»¶ä¸ºçœŸï¼Œå¦åˆ™ä¸ºå‡ | å¦‚a=3,b=3ï¼Œåˆ™(a &lt;= b) ä¸º True |é€»è¾‘è¿ç®—ç¬¦| è¿ç®—ç¬¦ | é€»è¾‘è¡¨è¾¾å¼ | æè¿° | å®ä¾‹ || ------ | ---------- | ------------------------------------------------------------ | ------------------ || and | x and y | å¸ƒå°”\"ä¸\"ï¼šå¦‚æœ x ä¸º Falseï¼Œx and y è¿”å› Falseï¼Œå¦åˆ™å®ƒè¿”å› y çš„å€¼ã€‚ | True and Falseï¼Œ è¿”å› Falseã€‚ || or | x or y | å¸ƒå°”\"æˆ–\"ï¼šå¦‚æœ x æ˜¯ Trueï¼Œå®ƒè¿”å› Trueï¼Œå¦åˆ™å®ƒè¿”å› y çš„å€¼ã€‚ | False or Trueï¼Œ è¿”å› Trueã€‚ || not | not x | å¸ƒå°”\"é\"ï¼šå¦‚æœ x ä¸º Trueï¼Œè¿”å› False ã€‚å¦‚æœ x ä¸º Falseï¼Œå®ƒè¿”å› Trueã€‚ | not True è¿”å› False, not False è¿”å› True |'''# æ•°å­—ä¹‹é—´çš„é€»è¾‘è¿ç®—a = 0b = 1c = 2# andè¿ç®—ç¬¦ï¼Œåªè¦æœ‰ä¸€ä¸ªå€¼ä¸º0ï¼Œåˆ™ç»“æœä¸º0ï¼Œå¦åˆ™ç»“æœä¸ºæœ€åä¸€ä¸ªé0æ•°å­—print(a and b) # 0print(b and a) # 0print(a and c) # 0print(c and a) # 0print(b and c) # 2print(c and b) # 1# orè¿ç®—ç¬¦ï¼Œåªæœ‰æ‰€æœ‰å€¼ä¸º0ç»“æœæ‰ä¸º0ï¼Œå¦åˆ™ç»“æœä¸ºç¬¬ä¸€ä¸ªé0æ•°å­—print(a or b) # 1print(a or c) # 2print(b or c) # 1'''æ€»ç»“ï¼š- ç®—æ•°è¿ç®—çš„ä¼˜å…ˆçº§ - æ··åˆè¿ç®—ä¼˜å…ˆçº§é¡ºåºï¼š`()`é«˜äº `**` é«˜äº `*` `/` `//` `%` é«˜äº `+` `-`- èµ‹å€¼è¿ç®—ç¬¦ - =- å¤åˆèµ‹å€¼è¿ç®—ç¬¦ - += - -= - ä¼˜å…ˆçº§ 1. å…ˆç®—å¤åˆèµ‹å€¼è¿ç®—ç¬¦å³ä¾§çš„è¡¨è¾¾å¼ 2. å†ç®—å¤åˆèµ‹å€¼è¿ç®—çš„ç®—æ•°è¿ç®— 3. æœ€åç®—èµ‹å€¼è¿ç®—- æ¯”è¾ƒè¿ç®—ç¬¦ - åˆ¤æ–­ç›¸ç­‰ï¼š == - å¤§äºç­‰äºï¼š &gt;= - å°äºç­‰äºï¼š&lt;= - ä¸ç­‰äºï¼š !=- é€»è¾‘è¿ç®—ç¬¦ - ä¸ï¼š and - æˆ–ï¼šor - éï¼šnot'''# round()å‡½æ•°ï¼Œ4èˆ5å…¥print(f'round(5.3)') # 5print(f'æˆ‘çš„åå­—æ˜¯&#123;name&#125;, æ˜å¹´&#123;age + 1&#125;å²äº†')'''if æ¡ä»¶1: æ¡ä»¶1æˆç«‹æ‰§è¡Œçš„ä»£ç elif æ¡ä»¶2: æ¡ä»¶2æˆç«‹æ‰§è¡Œçš„ä»£ç else: ä»¥ä¸Šæ¡ä»¶éƒ½ä¸æˆç«‹æ‰§è¡Œçš„ä»£ç '''age = int(input('è¯·è¾“å…¥æ‚¨çš„å¹´é¾„ï¼š'))if age &lt; 18: print(f'æ‚¨çš„å¹´é¾„æ˜¯&#123;age&#125;,ç«¥å·¥ä¸€æš')# elif (age &gt;= 18) and (age &lt;= 60):elif 18 &lt;= age &lt;= 60: print(f'æ‚¨çš„å¹´é¾„æ˜¯&#123;age&#125;,åˆæ³•å·¥é¾„')elif age &gt; 60: print(f'æ‚¨çš„å¹´é¾„æ˜¯&#123;age&#125;,å¯ä»¥é€€ä¼‘')# age &gt;= 18 and age &lt;= 60`å¯ä»¥åŒ–ç®€ä¸º`18 &lt;= age &lt;= 60`ã€‚'''éšæœºåšæ³•ï¼š1. å¯¼å‡ºrandomæ¨¡å—2. random.randint(å¼€å§‹,ç»“æŸ)'''\"\"\"ä¸‰ç›®è¿ç®—ç¬¦ä¹Ÿå«ä¸‰å…ƒè¿ç®—ç¬¦ã€‚# å€¼1 if æ¡ä»¶ else å€¼2\"\"\"a = 1b = 2c = a if a &gt; b else bprint(c)# ctrl + c åœæ­¢è¿è¡Œ# ctrl + d å¤åˆ¶ä¸Šä¸€è¡Œ\"\"\"whileçš„è¯­æ³•å¿…é¡»åŠ : i += 1- breaké€€å‡ºæ•´ä¸ªå¾ªç¯- continueé€€å‡ºæœ¬æ¬¡å¾ªç¯ï¼Œç»§ç»­æ‰§è¡Œä¸‹ä¸€æ¬¡é‡å¤æ‰§è¡Œçš„ä»£ç - else - whileå’Œforéƒ½å¯ä»¥é…åˆelseä½¿ç”¨ - elseä¸‹æ–¹ç¼©è¿›çš„ä»£ç å«ä¹‰ï¼šå½“å¾ªç¯æ­£å¸¸ç»“æŸåæ‰§è¡Œçš„ä»£ç  - breakç»ˆæ­¢å¾ªç¯ä¸ä¼šæ‰§è¡Œelseä¸‹æ–¹ç¼©è¿›çš„ä»£ç  - continueé€€å‡ºå¾ªç¯çš„æ–¹å¼æ‰§è¡Œelseä¸‹æ–¹ç¼©è¿›çš„ä»£ç  for ä¸´æ—¶å˜é‡ in åºåˆ—: é‡å¤æ‰§è¡Œçš„ä»£ç 1 é‡å¤æ‰§è¡Œçš„ä»£ç 2 ......while æ¡ä»¶1: æ¡ä»¶1æˆç«‹æ‰§è¡Œçš„ä»£ç  ...... while æ¡ä»¶2: æ¡ä»¶2æˆç«‹æ‰§è¡Œçš„ä»£ç  ......\"\"\"i = 1result = 0while i &lt;= 100: result += i i += 1# è¾“å‡º5050print(result)# é‡å¤æ‰“å°5è¡Œæ˜Ÿæ˜Ÿj = 0while j &lt;= 4: # ä¸€è¡Œæ˜Ÿæ˜Ÿçš„æ‰“å° i = 0 while i &lt;= 4: # ä¸€è¡Œå†…çš„æ˜Ÿæ˜Ÿä¸èƒ½æ¢è¡Œï¼Œå–æ¶ˆprinté»˜è®¤ç»“æŸç¬¦\\n print('*', end='') i += 1 # æ¯è¡Œç»“æŸè¦æ¢è¡Œï¼Œè¿™é‡Œå€ŸåŠ©ä¸€ä¸ªç©ºçš„printï¼Œåˆ©ç”¨printé»˜è®¤ç»“æŸç¬¦æ¢è¡Œ print() j += 1# é‡å¤æ‰“å°5è¡Œæ˜Ÿæ˜Ÿ# jè¡¨ç¤ºè¡Œå·j = 0while j &lt;= 4: # ä¸€è¡Œæ˜Ÿæ˜Ÿçš„æ‰“å° i = 0 # iè¡¨ç¤ºæ¯è¡Œé‡Œé¢æ˜Ÿæ˜Ÿçš„ä¸ªæ•°ï¼Œè¿™ä¸ªæ•°å­—è¦å’Œè¡Œå·ç›¸ç­‰æ‰€ä»¥iè¦å’Œjè”åŠ¨ while i &lt;= j: print('*', end='') i += 1 print() j += 1# é‡å¤æ‰“å°9è¡Œè¡¨è¾¾å¼j = 1while j &lt;= 9: # æ‰“å°ä¸€è¡Œé‡Œé¢çš„è¡¨è¾¾å¼ a * b = a*b i = 1 while i &lt;= j: print(f'&#123;i&#125;*&#123;j&#125;=&#123;j*i&#125;', end='\\t') # end='\\t'åˆ¶è¡¨ç¬¦ i += 1 print() # æ¢è¡Œ j += 1# æ‰€è°“elseæŒ‡çš„æ˜¯å¾ªç¯æ­£å¸¸ç»“æŸä¹‹åè¦æ‰§è¡Œçš„ä»£ç ï¼Œå³å¦‚æœæ˜¯breakç»ˆæ­¢å¾ªç¯çš„æƒ…å†µï¼Œelseä¸‹æ–¹ç¼©è¿›çš„ä»£ç å°†ä¸æ‰§è¡Œ# &gt; å› ä¸ºcontinueæ˜¯é€€å‡ºå½“å‰ä¸€æ¬¡å¾ªç¯ï¼Œç»§ç»­ä¸‹ä¸€æ¬¡å¾ªç¯ï¼Œæ‰€ä»¥è¯¥å¾ªç¯åœ¨continueæ§åˆ¶ä¸‹æ˜¯å¯ä»¥æ­£å¸¸ç»“æŸçš„ï¼Œå½“å¾ªç¯ç»“æŸåï¼Œåˆ™æ‰§è¡Œäº†elseç¼©è¿›çš„ä»£ç ã€‚","categories":[],"tags":[]},{"title":"VFåŸºç¡€çŸ¥è¯†","slug":"matlab/VF/VFåŸºç¡€çŸ¥è¯†","date":"2020-05-18T07:17:42.000Z","updated":"2020-05-18T07:17:42.000Z","comments":true,"path":"2020/05/18/matlab/VF/VFåŸºç¡€çŸ¥è¯†/","link":"","permalink":"https://esyyes.github.io/2020/05/18/matlab/VF/VF%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/","excerpt":"","text":"å¿ƒå®¤çº¤é¢¤(Ventricular Fibrillation ï¼ŒVF)å¿ƒå®¤çº¤é¢¤(Ventricular Fibrillation ï¼ŒVF)ç‰¹ç‚¹ï¼š QRS-Tæ³¢ç¾¤å®Œå…¨æ¶ˆå¤±ï¼Œä»£ä¹‹ä»¥å½¢æ€ä¸åŒã€å¤§å°å„å¼‚é—´è·æä¸åŒ€é½çš„é¢¤åŠ¨æ³¢(fæ³¢)ï¼Œé¢‘ç‡ä¸º250ï½500æ¬¡/åˆ†é’Ÿï¼Œé¢¤åŠ¨æ³¢ä¹‹é—´æ— ç­‰ç”µçº¿ã€‚ å¿ƒå®¤æ‰‘åŠ¨å…¸å‹çš„å¿ƒç”µå›¾ç‰¹ç‚¹ è¿ç»­è€Œè§„åˆ™ã€å®½å¤§ã€ç•¸å½¢çš„QRSæ³¢ï¼Œå³å¿ƒå®¤æ‰‘åŠ¨æ³¢ã€‚QRSæ³¢çš„æ—¶é™é•¿ï¼Œåœ¨0.12sä»¥ä¸Šï¼ŒQRSæ³¢å‘ˆå‘ä¸Šå‘ä¸‹çš„æ³¢å¹…ä¼¼æ­£å¼¦æ ·æ›²çº¿ä¸Tæ³¢æ— æ³•åˆ†å¼€ï¼ŒQRSæ³¢ä¹‹é—´æ— ç­‰ç”µçº¿ã€‚QRSæ³¢é¢‘ç‡å¤šåœ¨180ï½250æ¬¡/åˆ†é’Ÿï¼Œæœ‰æ—¶å¯ä½è¾¾150æ¬¡/åˆ†é’Ÿæˆ–é«˜è¾¾300æ¬¡/åˆ†é’Ÿã€‚Pæ³¢æ¶ˆå¤±ã€‚ å¿ƒå®¤çº¤é¢¤çš„æ•°æ®åº“ï¼š æ•°æ®é•¿çŸ­ï¼š æ€»ç»“ï¼šç›´æ¥é€‰æ‹©æ•°æ®åº“ä¸ºVFDBï¼Œå®¤é¢¤çš„ï¼Œç„¶åæ ¹æ®æ ‡ç­¾é€‰æ‹©å®¤é¢¤çš„ä¿¡å·ï¼Œç­›é€‰10ä¸ªçš„æ ·å­ï¼Œæ¯ä¸ª10sï¼Œç„¶åç”Ÿæˆexcelè¡¨æ ¼ï¼Œå†é€‰æ‹©æ­£å¸¸çš„æ•°æ®10æ®µï¼Œæœ€åæ¥åŒºåˆ†ï¼Œåˆ©ç”¨åˆ©ç”¨pythonç›´æ¥æ¥è¯»å–æ•°æ®ï¼Œç„¶åç”Ÿæˆæ•°æ®ç»„åˆ!å†è¿›è¡Œé¢„å¤„ç†ã€‚æœ€åç­›é€‰å‡ºä¸€ä¸ªç®—æ³•è¿›è¡Œè¿›è¡Œåˆ†ç±»ï¼Œå¹¶æœ‰ä¸ªå‡†ç¡®ç‡è¾“å‡ºã€‚ VFæ•°æ®åº“å«æœ‰å®¤é¢¤çš„æ•°æ®æœ‰ï¼š424,426,430 æ•°æ®é•¿çŸ­ä¸ºï¼š2100sï¼Œ35min é‡‡æ ·ç‡ä¸ºï¼š250 é¦–å…ˆç¡®å®šVFå’ŒVFIBçš„ä½ç½®ï¼Œå°†å…¶ç”Ÿæˆexcelæ–‡æ¡£ï¼Œ10sé•¿çŸ­ï¼Œå³2500æ•°æ®ç‚¹ï¼Œ python-wfdbæˆªå–æ•°æ®12345678910111213141516171819202122232425262728293031323334# -*- coding: utf-8 -*-# @Time : 2020/5/19# @Author : esyimport wfdb as wfdbimport pandas as pdimport matplotlib.pyplot as pltimport warnings# å¿½ç•¥è­¦å‘Šwarnings.filterwarnings(\"ignore\")# æ ¹æ®æ ‡ç­¾ç­›é€‰å‡ºå®¤é¢¤ä¿¡å·record = wfdb.rdrecord('F:/VF/VFDB/424', channels=[0], sampfrom=314749, sampto=341173)VF = record.p_signalvf = []for i in range(record.sig_len): vf.append(VF[i][0])vf = vf[5000:7500]fig = plt.figure(figsize=(7, 4))plt.plot(vf, linewidth=1)plt.ylabel(\"U/mv\", fontsize=10)plt.xticks(fontsize=8)plt.xlabel(\"time/s\", fontsize=10)plt.yticks(fontsize=8)plt.show()data = pd.DataFrame(vf)data.to_excel(\"vf1.xlsx\") ç­›é€‰10ä¸ªæ•°æ®ç‰‡æ®µ ç­›é€‰æ­£å¸¸æ•°æ® ä¸‹ä¸€æ­¥å°±æ˜¯ç”¨ç®—æ³•å°†å…¶åˆ¤æ–­å‡ºæ¥ï¼Œå†™ä¸ªå¾ªç¯çœ‹çœ‹ï¼ŒNdataæ•°æ®çš„æ•ˆæœï¼Œç”¨ptç®—æ³•ï¼Œå¦å¤–ä¸€ä¸ªä¹Ÿè¯•è¯• æ•°æ®ç‰‡æ®µçš„ç­›é€‰ï¼Œé‡æ–°ä¿å­˜ç­›é€‰ï¼Œå…ˆé€‰æ‹©ç®—æ³•è¿›è¡Œåˆ†æã€‚ TCIç®—æ³•ï¼š https://link.springer.com/article/10.1186/1475-925X-4-60 éšä¾¿è®¾å®šä¸€ä¸ªå¤§äº250å’Œå°äº250å°±è¡Œäº† çºªå¿µä¸‹äººç”Ÿç¬¬ä¸€å•å“ˆå“ˆå“ˆ 1234567891011121314151617181920212223242526272829303132333435363738394041424344clc;clear;close all% è¯»å–å®¤é¢¤æ•°æ®data = xlsread(&apos;F:\\VF\\VFdata\\0.xlsx&apos;);% è¯»å–æ­£å¸¸æ•°æ®% data = xlsread(&apos;F:\\VF\\Ndata\\0.xlsx&apos;);% é‡‡æ ·é¢‘ç‡fs = 250;% æƒ³è¦é‡‡æ ·çš„æ—¶é—´é•¿åº¦ä¸º10sï¼Œæ‰€ä»¥æ•°æ®é•¿çŸ­é€šé€šä¸º2500vf = data(2:2501, 2);% å°†é‡‡æ ·ç‚¹çš„æ¨ªåæ ‡è½¬æ¢ä¸ºsN = length(vf);m = 0 : N-1;t = m / fs;% ç»˜åˆ¶å‡ºåŸå§‹æ•°æ®subplot(2,1,1)plot(t,vf,&apos;b&apos;);title(&apos;åŸå§‹ä¿¡å·&apos;);xlabel(&apos;time/s&apos;);ylabel(&apos;U/mV&apos;);% å¯è¦å¯ä¸è¦è¿™ä¸€æ­¥å°†æ•°æ®å¹³æ»‘ä¸€ä¸‹subplot(2,1,2)df = smooth(vf,3);plot(t,df);title(&apos;å¹³æ»‘åçš„ä¿¡å·&apos;);xlabel(&apos;time/s&apos;);ylabel(&apos;U/mV&apos;);% åˆ©ç”¨TCI (Threshold crossing intervals)ç®—æ³•å¯¹TCIå€¼è¿›è¡Œåˆ¤æ–­% verbose = 0æ•°æ®ç›´æ¥è¾“å‡º8ä¸ª3sçª—å£çš„å¹³å‡å€¼ï¼Œverbose = 1ï¼Œè¿›å…¥è°ƒè¯•ç•Œé¢verbose = 1;tci = VF_TCI(vf,fs,10,verbose);% VFçš„é¢‘ç‡ä¸º250ï½500æ¬¡/åˆ†é’Ÿï¼Œè½¬æ¢ä¸ºmsä¸º120-240msï¼Œå³å¯åˆ¤å®šä¸ºå®¤é¢¤if (tci &gt;= 120) &amp;&amp; (tci &lt;= 240) disp(&apos;è¯¥ä¿¡å·ä¸ºå®¤é¢¤ä¿¡å·&apos;)else disp(&apos;è¯¥ä¿¡å·ä¸ºæ­£å¸¸ä¿¡å·&apos;)end è¯»å–å•ä¸ªçš„å›¾ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748clc;clear;close all% æ•°æ®æ ‡ç­¾ï¼Œå°†VFæ•°æ®åˆ¤å®šä¸º1ï¼Œæ­£å¸¸çš„åˆ¤å®šä¸º0tag = [];for i = 0 : 31 if i &lt;= 18 tag(i+1,1) = 0; else tag(i+1,1) = 1; endend% å¾ªç¯è¯»å–æ•°æ®ï¼Œå°†VFæ•°æ®åˆ¤å®šä¸º1ï¼Œæ­£å¸¸çš„åˆ¤å®šä¸º0num_vf = 0;num_n = 0;all = [];TCI = [];for i = 0 : 31 data = xlsread(['F:\\VF\\all_data\\', num2str(i), '.xlsx']); fs = 250; vf = data(2:2501, 2); tci = VF_TCI(vf,fs,10,0); TCI(i+1,1) = tci; if (tci &gt;= 120) &amp;&amp; (tci &lt;= 240) num_vf = num_vf + 1; all(i+1,1) = 1; else num_n = num_n + 1; all(i+1,1) = 0; endend% è¿›è¡Œæ¯”è¾ƒï¼Œç”¨æ ‡ç­¾å’Œè¿™ä¸ªä½ åˆ¤å®šçš„æ•°æ®è¿›è¡Œæ¯”è¾ƒALL = 32;True = 0;F = 0;for i = 0 : 31 if all(i+1,1) == tag(i+1,1) True = True + 1; else F = F + 1; end end% è¾“å‡ºå¾—åˆ°åˆ¤å®šå‡†ç¡®çš„å€¼ï¼Œå·®ä¸å¤šå‡†ç¡®ç‡å°±åŸºæœ¬å¯ä»¥äº†ï¼Œæ¯•ç«Ÿ100%äº†ï¼Œå†è½¬æ¢ä¸ºç™¾åˆ†æ•°ACR = True / ALL;accuracy = strcat(num2str(ACR * 100),'%');disp(['å‡†ç¡®ç‡ä¸º:',accuracy]); è¾“å‡ºä¸ºå‡†ç¡®ç‡ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123function tci = VF_TCI(xf,fs,wL,verbose)% INPUT:% - xf: ecg signal (preprocessed)% - fs: sampling frequency% - wL: window length, in seconds % - verbose: debugging variable (1: plot; 0: default, not ploting)%% OUTPUT% - tci parameterwl = 1*fs; % 1-sec window sampleswa = 3*fs; % 3-sec window samplesL = wL-3+1; % number of 3-sec windows in wl segment %becg = zeros(1,wa);becg1 = zeros(1,wl);becg2 = zeros(1,wl);becg3 = zeros(1,wl);tci6 = zeros(1,L);for j=0:L-1 wsamples1 = j*wl+1:(j+1)*wl; wsamples2 = (j+1)*wl+1:(j+2)*wl; wsamples3 = (j+2)*wl+1:(j+3)*wl; stage1 = xf(wsamples1)-mean(xf(wsamples1)); maxv = max(stage1); th1 = 0.2*maxv; becg1(stage1&gt;th1) = 1; stage2 = xf(wsamples2)-mean(xf(wsamples2)); maxv = max(stage2); th2 = 0.2*maxv; becg2(stage2&gt;th2) = 1; stage3 = xf(wsamples3)-mean(xf(wsamples3)); maxv = max(stage3); th3 = 0.2*maxv; becg3(stage3&gt;th3) = 1; becg = [becg1 becg2 becg3]; aux = [0 diff(becg)]; s1 = find(aux(1:wl)==-1); if isempty(s1) t1 = 1; else t1 = (wl-s1(end))/fs; end index = find(aux(wl+1:2*wl)); s2 = aux(wl+1:2*wl); pulses = s2(index); if pulses(1) == -1 &amp;&amp; pulses(end) == -1 t2 = 0; t3 = (wl-index(end))/fs; N = (length(pulses)+1)/2; elseif pulses(1) == 1 &amp;&amp; pulses(end) == 1 t2 = index(1)/fs; t3 = 0; N = (length(pulses)+1)/2; elseif pulses(1) == -1 &amp;&amp; pulses(end) == 1 t2 = 0; t3 = 0; N = (length(pulses)+2)/2; elseif pulses(1) == 1 &amp;&amp; pulses(end) == -1 t2 = index(1)/fs; t3 = (wl-index(end))/fs; N = (length(pulses))/2; else disp('This should not be happening!') keyboard; %better to debug end s4 = find(aux(2*wl+1:3*wl)==1); if isempty(s4) t4 = 1; else t4 = s4(1)/fs; end tci6(j+1) = 1000/((N-1)+(t2/(t1+t2))+(t3/(t3+t4))); %Plot data if verbose f = figure; t = [wsamples1 wsamples2 wsamples3]/fs; stage = [stage1' stage2' stage3']; subplot(211) plot(t,stage); hold on; plot(t,[th1*ones(1,wl) th2*ones(1,wl) th3*ones(1,wl)],'r'); xlabel('time/s'); ylabel('ECG and threshold'); subplot(212); plot(t,becg,'k'); hold on; stem(t,aux,'r'); hold on; line([j+1 j+1],[-1.2 1.2]);line([j+2 j+2],[-1.2 1.2]); axis([t(1) t(end) -1.2 1.2]) xlabel('time/s'); ylabel('pulses'); msg = sprintf('t_1=%2.2f\\t\\t t_2=%2.2f\\t\\t t_3=%2.2f\\t\\t t_4=%2.2f',... t1,t2,t3,t4); title(msg) text(j+1.2,-0.5,['TCI = ' num2str(tci6(j+1))]) hold off % æ˜¯å¦è¿›è¡Œè°ƒè¯•ï¼Œè§‚çœ‹æ•ˆæœ keyboard; close(f); end becg1 = zeros(1,wa/3); becg2 = zeros(1,wa/3); becg3 = zeros(1,wa/3); endtci = mean(tci6); TCIç®—æ³• å‡†ç¡®ç‡ä¸º100%ç»“æŸ","categories":[],"tags":[]},{"title":"å›¾åƒè¯†åˆ«çš„ç›®æ ‡","slug":"opencv/å›¾åƒè¯†åˆ«çš„ç›®æ ‡","date":"2020-05-05T13:54:25.000Z","updated":"2020-05-05T13:54:25.000Z","comments":true,"path":"2020/05/05/opencv/å›¾åƒè¯†åˆ«çš„ç›®æ ‡/","link":"","permalink":"https://esyyes.github.io/2020/05/05/opencv/%E5%9B%BE%E5%83%8F%E8%AF%86%E5%88%AB%E7%9A%84%E7%9B%AE%E6%A0%87/","excerpt":"","text":"å›¾åƒè¯†åˆ«çš„å­¦ä¹ ç›®æ ‡ å†™ä¸€ç¯‡ä¸“åˆ© ä¸“åˆ©ï¼šåˆ©ç”¨å›¾åƒè¯†åˆ«æŠ€æœ¯ï¼Œè¯†åˆ«QRSæ³¢å½¢çš„Ræ³¢ å†™ä¸€ä¸ªå°è®ºæ–‡ åˆ©ç”¨å›¾åƒè¯†åˆ«æ¥å¯¹ç¡çœ è¿›è¡Œåˆ†ç±»ï¼Œæˆ–è€…åŒºåˆ†æ˜¯å¦æ˜¯OSAå’Œå¥åº·äººç¾¤ æŠŠç°åœ¨è¿™ç¯‡å°è®ºæ–‡å†™å®Œï¼Œç„¶åé‡æ–°å­¦ä¸‹æ•°æ®å¤„ç†æ–¹å‘çš„çŸ¥è¯†ï¼Œå›¾åƒå¤„ç†è¿˜æ˜¯è¦å…ˆç†è§£ 5æœˆä¸­æ—¬äº‰å–å†™å®Œå°è®ºæ–‡","categories":[],"tags":[]},{"title":"python-opencvåŸºç¡€å…¥é—¨","slug":"opencv/python-opencvåŸºç¡€å…¥é—¨","date":"2020-05-05T12:47:17.000Z","updated":"2020-05-05T12:47:17.000Z","comments":true,"path":"2020/05/05/opencv/python-opencvåŸºç¡€å…¥é—¨/","link":"","permalink":"https://esyyes.github.io/2020/05/05/opencv/python-opencv%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/","excerpt":"","text":"","categories":[],"tags":[]},{"title":"python-Matplotlibè§†é¢‘è®²è§£ç‰ˆ","slug":"python/python-Matplotlibè§†é¢‘è®²è§£ç‰ˆ","date":"2020-04-12T04:22:04.000Z","updated":"2020-04-12T04:22:04.000Z","comments":true,"path":"2020/04/12/python/python-Matplotlibè§†é¢‘è®²è§£ç‰ˆ/","link":"","permalink":"https://esyyes.github.io/2020/04/12/python/python-Matplotlib%E8%A7%86%E9%A2%91%E8%AE%B2%E8%A7%A3%E7%89%88/","excerpt":"","text":"python-Matplotlibè§†é¢‘è®²è§£ç‰ˆè§†é¢‘è¿æ¥ https://www.bilibili.com/video/BV1tt411e7zF?p=1 1234567891011121314151617181920212223242526# ç»˜åˆ¶æˆä¸€æ¡çº¿å½¢å¼fig, ax = plt.subplots(figsize=(7, 4))# xyèŒƒå›´plt.ylim((80,100))# è®¾å®šxyçš„å°ºåº¦å¤§å°new_ticks = np.linspace(80, 100, 6)# yticksæ”¹å˜åæ ‡è½´çš„å¤§å°plt.yticks(new_ticks, fontsize=8)# æ”¹å˜æ ‡ç­¾æ³¨é‡Šçš„å¤§å°plt.ylabel('Average Accuracy/%', fontsize=10)# æ›´æ”¹æ¨ªåæ ‡çš„æ ‡ç­¾å’Œå­—ä½“å¤§å°ï¼Œä»¥åŠè½¬æ¢æ–¹å‘plt.xticks(x,(df.keys()), fontsize=8, rotation=0)l1, = ax.plot(x,y1,color='red',linewidth=1.0,linestyle='--')l2, = ax.plot(x,y2,color='blue',linewidth=3.0,linestyle='--')# æ ‡å‡†å›¾ä¾‹plt.legend(handles=[l1,l2],labels=['Original model','Optimization model'],loc='best')# shift+tabå¯ä»¥æŸ¥çœ‹å›¾ä¸­å‡½æ•°çš„è®¾ç½®# æ”¹å˜å›¾çš„è¾¹æ¡†é¢œè‰²ax = plt.gca()ax.spines['right'].set_color('none')ax.spines['top'].set_color('blue')plt.show() https://jishuin.proginn.com/p/7056.html è¿™ä¸ªé“¾æ¥ä¸­æè¿°äº†å¾ˆå¤šç»˜åˆ¶ å¤šç”¨shift+tabåŠ æ¥æŸ¥çœ‹å‡½æ•°çš„è¯´æ˜","categories":[],"tags":[]},{"title":"python_å¯è§†åŒ–ä¹‹seaborn","slug":"python/python-å¯è§†åŒ–ä¹‹seaborn","date":"2020-03-26T13:16:31.000Z","updated":"2020-03-26T13:16:31.000Z","comments":true,"path":"2020/03/26/python/python-å¯è§†åŒ–ä¹‹seaborn/","link":"","permalink":"https://esyyes.github.io/2020/03/26/python/python-%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8Bseaborn/","excerpt":"","text":"python_å¯è§†åŒ–ä¹‹seaborn1import seaborn as sns ä¸»é¢˜ä¿®æ”¹ï¼š https://matplotlib.org/tutorials/introductory/customizing.html å°†è‡ªå·±çš„ä¸»é¢˜è®¾å®šä¸ºï¼š 12# è®¾ç½®é£æ ¼sns.set_style(\"whitegrid\") https://www.cntofu.com/book/172/docs/20.md åé¢è¿˜æ˜¯å‚è€ƒä¸Šé¢ç½‘å€è¿›è¡Œå­¦ä¹ ï¼ŒåŸºæœ¬å·²ç»ç†æ¸…seabornæ€ä¹ˆç»˜åˆ¶ã€‚ å¥½å§è¿˜æ˜¯ä½¿ç”¨è¿™ä¸ªï¼ https://www.jb51.net/article/104924.htm","categories":[],"tags":[]},{"title":"pythonâ€”â€”è¯»å–excelæ–‡ä»¶ä¹‹å¥‡è‘©æ•°æ®","slug":"python/pythonâ€”â€”è¯»å–excelæ–‡ä»¶ä¹‹å¥‡è‘©æ•°æ®","date":"2020-03-25T14:16:10.000Z","updated":"2020-03-25T14:16:10.000Z","comments":true,"path":"2020/03/25/python/pythonâ€”â€”è¯»å–excelæ–‡ä»¶ä¹‹å¥‡è‘©æ•°æ®/","link":"","permalink":"https://esyyes.github.io/2020/03/25/python/python%E2%80%94%E2%80%94%E8%AF%BB%E5%8F%96excel%E6%96%87%E4%BB%B6%E4%B9%8B%E5%A5%87%E8%91%A9%E6%95%B0%E6%8D%AE/","excerpt":"","text":"pythonâ€”â€”è¯»å–excelæ–‡ä»¶å¯¹åº”3-25 RFE-RFç‰¹å¾é€‰æ‹©è¿›è¡Œç»˜å›¾è¯»å–ç¨‹åº12345678# è¯»å–excelè¡¨æ ¼import pandas as pdimport numpy as np from matplotlib import pyplot as pltdata = pd.read_excel('E:/features/%s.xlsx'%1)data.head()æ•°æ®å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼Œåœ¨ç”Ÿæˆexcelçš„æ—¶å€™ï¼Œç›´æ¥å­˜çš„åˆ—è¡¨ï¼Œçº¯å±å¤±è¯¯ 0 1 0 [0.9420289855072463, 0.9710144927536232, 0.956â€¦ [0.9710144927536232, 0.9565217391304348, 0.956â€¦ 1 [0.7523809523809524, 0.7142857142857143, 0.742â€¦ [0.6285714285714286, 0.780952380952381, 0.7523â€¦ 2 [0.6761904761904762, 0.819047619047619, 0.9047â€¦ [0.7333333333333333, 0.7714285714285715, 0.847â€¦ 3 [0.7692307692307693, 0.8717948717948718, 0.910â€¦ [0.7307692307692307, 0.8846153846153846, 0.871â€¦ 4 [0.7230046948356808, 0.7981220657276995, 0.807â€¦ [0.6619718309859155, 0.7417840375586855, 0.737â€¦ ä¸€ä¸ªç©ºæ ¼ä¸­æœ‰è¿è¡Œçš„25ä¸ªæ•°æ®ã€‚éœ€è¦å°†18ä¸ªæ•°æ®ç»„ï¼Œæ¯ä¸ªæ•°æ®è¿è¡Œä¸¤æ¬¡ï¼Œ25ä¸ªæ•°æ®ï¼Œåˆ†åˆ«å–å¯¹åº”çš„è¡Œè¿›è¡Œæ±‚å¹³å‡å€¼ã€‚ 1234train_data = np.array(data)train_x_list = train_data.tolist() #listtrain_x_list[0][0]'[0.9420289855072463, 0.9710144927536232, 0.9565217391304348, 0.9710144927536232, 0.9565217391304348, 0.9565217391304348, 0.9565217391304348, 0.9710144927536232, 0.9710144927536232, 0.9710144927536232, 0.9420289855072463, 0.9565217391304348, 0.9710144927536232, 0.9710144927536232, 0.9565217391304348, 0.9565217391304348, 0.9710144927536232, 0.9565217391304348, 0.9420289855072463, 0.9565217391304348, 0.9420289855072463, 0.9565217391304348, 0.9710144927536232, 0.9565217391304348, 0.9420289855072463]' å…ˆè½¬æ¢ä¸ºåˆ—è¡¨ï¼Œé—®é¢˜1ï¼Œå®ƒè¡¨è¾¾çš„æ˜¯å­—ç¬¦ä¸²ï¼Œè¦å…ˆå»æ‰â€™â€™ 12eval(train_x_list[0][1])# è½¬æ¢ä¸ºåˆ—è¡¨ã€‚ç”¨eval()å‡½æ•° 12345678list_mean = []for i in range(18): list_x = eval(train_x_list[i][0]) list_y = eval(train_x_list[i][1]) list_m = [] for j in range(len(list_x)): list_m.append((list_x[j] + list_y[j])/2) list_mean.append(list_m) ç”Ÿæˆä¸€ä¸ªå«æœ‰18ä¸ªå°åˆ—è¡¨ï¼Œå·²ç»æ±‚äº†ä¸€æ¬¡å¹³å‡ï¼Œæ¯ä¸ªå°åˆ—è¡¨é‡Œé¢æœ‰25ä¸ªæ•°æ®ç»„ å‚è€ƒ 1234567list_f = []for j in range(25): s = [] for i in range(18): s.append(list_mean[i][j]) c = (np.array(s)).mean() list_f.append(c) å‡å€¼åŒ–ï¼Œåªæœ‰ä¸€ä¸ª25æ•°æ®çš„åˆ—è¡¨ æ ¹æ®è¿™ä¸ªç”»å›¾å³å¯ å‚è€ƒ 3-19 ç»˜åˆ¶ç‰¹å¾é€‰æ‹©æ›²çº¿ ç¨‹åº","categories":[],"tags":[]},{"title":"python_Accuracy,Precison,Recall,F1 score","slug":"python/python-Accuracy-Precison-Recall-F1-score","date":"2020-03-22T13:31:12.000Z","updated":"2020-03-22T13:31:12.000Z","comments":true,"path":"2020/03/22/python/python-Accuracy-Precison-Recall-F1-score/","link":"","permalink":"https://esyyes.github.io/2020/03/22/python/python-Accuracy-Precison-Recall-F1-score/","excerpt":"","text":"Accuracy,Precison,Recall,F1 scoreä¸»è¦å‚è€ƒè¿™ä¸¤ç¯‡åšæ–‡ https://blog.csdn.net/u014380165/article/details/77493978 https://www.cnblogs.com/laozhanghahaha/p/12374027.html å‡è®¾ä¸€ä¸ªäºŒåˆ†ç±»é—®é¢˜ï¼Œæ ·æœ¬æœ‰æ­£è´Ÿä¸¤ä¸ªç±»åˆ«ã€‚é‚£ä¹ˆæ¨¡å‹é¢„æµ‹çš„ç»“æœå’ŒçœŸå®æ ‡ç­¾çš„ç»„åˆå°±æœ‰4ç§ï¼šTPï¼ŒFPï¼ŒFNï¼ŒTNï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚è¿™4ä¸ªåˆ†åˆ«è¡¨ç¤ºï¼šå®é™…ä¸ºæ­£æ ·æœ¬ä½ é¢„æµ‹ä¸ºæ­£æ ·æœ¬ï¼Œå®é™…ä¸ºè´Ÿæ ·æœ¬ä½ é¢„æµ‹ä¸ºæ­£æ ·æœ¬ï¼Œå®é™…ä¸ºæ­£æ ·æœ¬ä½ é¢„æµ‹ä¸ºè´Ÿæ ·æœ¬ï¼Œå®é™…ä¸ºè´Ÿæ ·æœ¬ä½ é¢„æµ‹ä¸ºè´Ÿæ ·æœ¬ã€‚ TP(True Positive) ï¼ è¢«æ­£ç¡®é¢„æµ‹çš„æ­£ä¾‹ï¼è¡¨ç¤ºçœŸå®å€¼ä¸ºæ­£ï¼ŒåŒæ—¶ä¹Ÿè¢«æ­£ç¡®çš„é¢„æµ‹ä¸ºæ­£ï¼› TN(True Negative) ï¼è¢«æ­£ç¡®é¢„æµ‹çš„åä¾‹ï¼è¡¨ç¤ºçœŸå®å€¼ä¸ºåä¾‹ï¼Œä¹Ÿè¢«æ­£ç¡®çš„é¢„æµ‹ä¸ºåä¾‹ï¼› FP(False Positive) ï¼ è¡¨ç¤ºçœŸå®å€¼ä¸ºè´Ÿä¾‹ï¼Œè¢«é”™è¯¯çš„é¢„æµ‹ä¸ºæ­£ä¾‹ï¼› FN(False Negative)ï¼è¡¨ç¤ºçœŸå®å€¼ä¸ºæ­£ä¾‹ï¼Œè¢«é”™è¯¯çš„é¢„æµ‹ä¸ºåä¾‹ï¼› é‚£ä¹ˆPrecisionå’ŒRecallè¡¨ç¤ºä»€ä¹ˆæ„æ€ï¼Ÿä¸€èˆ¬Precisionå’ŒRecalléƒ½æ˜¯é’ˆå¯¹æŸä¸ªç±»è€Œè¨€çš„ï¼Œæ¯”å¦‚æ­£ç±»åˆ«çš„Recallï¼Œè´Ÿç±»åˆ«çš„Recallç­‰ã€‚å¦‚æœä½ æ˜¯10åˆ†ç±»ï¼Œé‚£ä¹ˆå¯ä»¥æœ‰1è¿™ä¸ªç±»åˆ«çš„Precisionï¼Œ2è¿™ä¸ªç±»åˆ«çš„Precisionï¼Œ3è¿™ä¸ªç±»åˆ«çš„Recallç­‰ã€‚è€Œæ²¡æœ‰ç±»ä¼¼å…¨éƒ¨æ•°æ®é›†çš„Recallæˆ–Precisionè¿™ç§è¯´æ³•ã€‚ Precison,Recalléƒ½å¯¹åº”çš„2åˆ†ç±»ï¼Œæ˜¯å•ç‹¬ä¸€ä¸ªç±»åˆ«çš„å‡†ç¡®ç‡ Precisioné€‚ç”¨åœºæ™¯:å½“åä¾‹è¢«é”™è¯¯çš„é¢„æµ‹ä¸ºæ­£ä¾‹ï¼ˆå‡æ­£ä¾‹ï¼‰äº§ç”Ÿçš„ä»£ä»·å¾ˆé«˜çš„æ—¶å€™ï¼Œé€‚åˆç”¨æŸ¥å‡†ç‡ï¼Œå› ä¸ºé«˜æŸ¥å‡†ç‡æ„å‘³ç€ä½å‡æ­£ç‡/å‡é˜³æ€§ï¼æ¯”å¦‚åœ¨åƒåœ¾é‚®ä»¶æ£€æµ‹ä¸­ï¼Œå‡æ­£ä¾‹æ„å‘³ç€éåƒåœ¾é‚®ä»¶ï¼ˆå®é™…ä¸ºè´Ÿï¼‰è¢«é”™è¯¯çš„é¢„æµ‹ä¸ºåƒåœ¾é‚®ä»¶ï¼ˆé¢„æµ‹ä¸ºæ­£ï¼‰ï¼å¦‚æœä¸€ä¸ªåƒåœ¾é‚®ä»¶ç›‘æµ‹ç³»ç»Ÿçš„æŸ¥å‡†ç‡ä¸é«˜å¯¼è‡´å¾ˆå¤šéåƒåœ¾é‚®ä»¶è¢«å½’åˆ°åƒåœ¾é‚®ç®±é‡Œå»ï¼Œé‚£ä¹ˆé‚®ç®±ç”¨æˆ·å¯èƒ½ä¼šä¸¢å¤±æˆ–è€…æ¼çœ‹ä¸€äº›å¾ˆé‡è¦çš„é‚®ä»¶ï¼ Recallä½¿ç”¨åœºæ™¯:å½“æ­£ä¾‹è¢«é”™è¯¯çš„é¢„æµ‹ä¸ºåä¾‹ï¼ˆå‡åä¾‹ï¼‰äº§ç”Ÿå¾ˆé«˜çš„ä»£ä»·æ—¶ï¼Œç”¨æŸ¥å…¨ç‡ï¼Œå› ä¸ºé«˜æŸ¥å…¨ç‡æ„å‘³ç€ä½å‡åç‡/å‡é˜´æ€§ï¼æ¯”å¦‚è¯´åœ¨é“¶è¡Œçš„æ¬ºè¯ˆæ£€æµ‹æˆ–åŒ»é™¢çš„ç—…æ‚£è€…æ£€æµ‹ä¸­ï¼Œå¦‚æœå°†æ¬ºè¯ˆæ€§äº¤æ˜“ï¼ˆå®é™…ä¸ºæ­£ï¼‰é¢„æµ‹ä¸ºéæ¬ºè¯ˆæ€§äº¤æ˜“ï¼ˆé¢„æµ‹ä¸ºè´Ÿï¼‰ï¼Œåˆ™å¯èƒ½ä¼šç»™é“¶è¡Œå¸¦æ¥éå¸¸ä¸¥é‡çš„æŸå¤±ã€‚å†æ¯”å¦‚ä»¥æœ€è¿‘çš„æ–°å† ç–«æƒ…ä¸ºä¾‹ï¼Œå¦‚æœä¸€ä¸ªæ‚£ç—…è€…ï¼ˆå®é™…ä¸ºæ­£ï¼‰ç»è¿‡è¯•å‰‚æ£€æµ‹è¢«é¢„æµ‹ä¸ºæ²¡æœ‰æ‚£ç—…ï¼ˆé¢„æµ‹ä¸ºè´Ÿï¼‰ï¼Œè¿™æ ·çš„å‡åä¾‹æˆ–è€…è¯´å‡é˜´æ€§äº§ç”Ÿçš„é£é™©å°±éå¸¸å¤§ï¼ è¿˜æœ‰ä¸€ä¸ªæ¦‚å¿µï¼šAccuracyï¼Œè¡¨ç¤ºä½ æœ‰å¤šå°‘æ¯”ä¾‹çš„æ ·æœ¬é¢„æµ‹å¯¹äº†ï¼Œå…¬å¼å¦‚ä¸‹ï¼Œåˆ†æ¯æ°¸è¿œæ˜¯å…¨éƒ¨æ ·æœ¬çš„æ•°é‡ï¼Œå¾ˆå¥½ç†è§£ã€‚å¾ˆå®¹æ˜“æ‰©å±•åˆ°å¤šç±»åˆ«çš„æƒ…å†µï¼Œæ¯”å¦‚10åˆ†ç±»ï¼Œé‚£ä¹ˆåˆ†å­å°±æ˜¯ç¬¬ä¸€ä¸ªç±»åˆ«é¢„æµ‹å¯¹äº†å¤šå°‘ä¸ª+ç¬¬äºŒä¸ªç±»åˆ«é¢„æµ‹å¯¹äº†å¤šå°‘ä¸ª+â€¦+ç¬¬åä¸ªç±»åˆ«é¢„æµ‹å¯¹äº†å¤šå°‘ä¸ªã€‚ æ‰€ä»¥ç”¨Accuracyæ¥è¿›è¡Œåˆ¤æ–­åˆ†ç±»çš„å‡†ç¡®ç‡ F1scoreçš„è®¡ç®—æ˜¯è¿™æ ·çš„ï¼š1/F1score = 1/2(1/recall + 1/precision)*ï¼Œç®€å•æ¢ç®—åå°±æˆäº†ï¼šF1score=2recallprecision/(recall+precision)ã€‚åŒæ ·F1scoreä¹Ÿæ˜¯é’ˆå¯¹æŸä¸ªæ ·æœ¬è€Œè¨€çš„ã€‚ä¸€èˆ¬è€Œè¨€F1scoreç”¨æ¥ç»¼åˆprecisionå’Œrecallä½œä¸ºä¸€ä¸ªè¯„ä»·æŒ‡æ ‡ã€‚è¿˜æœ‰F1scoreçš„å˜å½¢ï¼Œä¸»è¦æ˜¯æ·»åŠ ä¸€ä¸ªæƒé‡ç³»æ•°å¯ä»¥æ ¹æ®éœ€è¦å¯¹recallå’Œprecisionèµ‹äºˆä¸åŒçš„æƒé‡ã€‚","categories":[],"tags":[]},{"title":"python_éšæœºæ£®æ—å‚æ•°è®¾ç½®","slug":"python/python-éšæœºæ£®æ—å‚æ•°è®¾ç½®","date":"2020-03-22T05:37:20.000Z","updated":"2020-03-22T05:37:20.000Z","comments":true,"path":"2020/03/22/python/python-éšæœºæ£®æ—å‚æ•°è®¾ç½®/","link":"","permalink":"https://esyyes.github.io/2020/03/22/python/python-%E9%9A%8F%E6%9C%BA%E6%A3%AE%E6%9E%97%E5%8F%82%E6%95%B0%E8%AE%BE%E7%BD%AE/","excerpt":"","text":"éšæœºæ£®æ—å‚æ•°è®¾ç½®éšæœºæ£®æ—ä»‹ç»éšæœºæ£®æ—å®šä¹‰åœ¨æœºå™¨å­¦ä¹ ä¸­ï¼Œéšæœºæ£®æ—æ˜¯ä¸€ä¸ªåŒ…å«å¤šä¸ªå†³ç­–æ ‘çš„åˆ†ç±»å™¨ï¼Œ å¹¶ä¸”å…¶è¾“å‡ºçš„ç±»åˆ«æ˜¯ç”±ä¸ªåˆ«æ ‘è¾“å‡ºçš„ç±»åˆ«çš„ä¼—æ•°è€Œå®šã€‚ Leo Breimanå’ŒAdele Cutlerå‘å±•å‡ºæ¨è®ºå‡ºéšæœºæ£®æ—çš„ç®—æ³•ã€‚ è€Œ â€œRandom Forestsâ€ æ˜¯ä»–ä»¬çš„å•†æ ‡ã€‚ è¿™ä¸ªæœ¯è¯­æ˜¯1995å¹´ç”±è´å°”å®éªŒå®¤çš„Tin Kam Hoæ‰€æå‡ºçš„éšæœºå†³ç­–æ£®æ—ï¼ˆrandom decision forestsï¼‰è€Œæ¥çš„ã€‚è¿™ä¸ªæ–¹æ³•åˆ™æ˜¯ç»“åˆ Breimans çš„ â€œBootstrap aggregatingâ€ æƒ³æ³•å’Œ Ho çš„â€random subspace methodâ€ä»¥å»ºé€ å†³ç­–æ ‘çš„é›†åˆã€‚ éšæœºæ£®æ—å‚æ•°å®šä¹‰https://scikit-learn.org/stable/modules/generated/sklearn.ensemble.RandomForestClassifier.html https://blog.csdn.net/Longtermevolution/article/details/100919721 n_estimatorsï¼š æ£®æ—ä¸­æ•°çš„ä¸ªæ•°ã€‚è¿™ä¸ªå±æ€§æ˜¯å…¸å‹çš„æ¨¡å‹è¡¨ç°ä¸æ¨¡å‹æ•ˆç‡æˆåæ¯”çš„å½±å“å› å­ï¼Œå³ä¾¿å¦‚æ­¤ï¼Œä½ è¿˜æ˜¯åº”è¯¥å°½å¯èƒ½æé«˜è¿™ä¸ªæ•°å­—ï¼Œä»¥è®©ä½ çš„æ¨¡å‹æ›´å‡†ç¡®æ›´ç¨³å®šã€‚ criterion ï¼š åº¦é‡åˆ†è£‚çš„æ ‡å‡†ã€‚å¯é€‰å€¼ï¼šâ€œmseâ€ï¼Œå‡æ–¹å·®ï¼ˆmean squared errorï¼‰ï¼›â€œmaeâ€ï¼Œå¹³å‡ç»å¯¹å€¼è¯¯å·®ï¼ˆmean absolute errorï¼‰ æ”¯æŒçš„æ ‡å‡†æ˜¯åŸºå°¼æ‚è´¨çš„â€œginiï¼ˆåŸºå°¼ï¼‰â€å’Œä¿¡æ¯å¢ç›Šçš„â€œentropyï¼ˆç†µï¼‰â€ã€‚æ³¨æ„ï¼šæ­¤å‚æ•°æ˜¯ç‰¹å®šäºæ ‘çš„ã€‚é»˜è®¤æ˜¯åŸºå°¼ max_features ï¼š å¯»æ‰¾æœ€ä½³åˆ†è£‚ç‚¹æ—¶è€ƒè™‘çš„ç‰¹å¾æ•°ç›®ã€‚å¯é€‰å€¼ï¼Œintï¼ˆå…·ä½“çš„æ•°ç›®ï¼‰ï¼Œfloatï¼ˆæ•°ç›®çš„ç™¾åˆ†æ¯”ï¼‰ï¼Œstringï¼ˆâ€œautoâ€ï¼Œ â€œsqrtâ€ï¼Œâ€œlog2â€ï¼‰.è¿™ä¸€å±æ€§æ˜¯å¯¹å•ä¸ªæ ‘æ¥è®¾ç½®çš„ï¼Œé€šå¸¸æ¥è®²ï¼Œè¿™ä¸ªå€¼è¶Šå¤§å•æ£µæ ‘å¯ä»¥è€ƒè™‘çš„å±æ€§è¶Šå¤šï¼Œåˆ™æ¨¡å‹çš„è¡¨ç°å°±è¶Šå¥½ã€‚ä½†æ˜¯è¿™ä¹Ÿä¸æ˜¯è‚¯å®šçš„ï¼Œä¸è¿‡æœ‰ä¸€ç‚¹æ˜¯è‚¯å®šçš„ï¼Œå¢åŠ è¿™ä¸ªå€¼ä¼šå¯¼è‡´ç®—æ³•è¿è¡Œé€Ÿåº¦å˜æ…¢ï¼Œæ‰€ä»¥éœ€è¦æˆ‘ä»¬è€ƒè™‘å»è¾¾åˆ°ä¸€ä¸ªå¹³è¡¡ã€‚ max_depth :integeræˆ–è€…Noneã€‚æ ‘çš„æœ€å¤§æ·±åº¦ï¼Œå¦‚æœNoneï¼ŒèŠ‚ç‚¹æ‰©å±•ç›´åˆ°æ‰€æœ‰å¶å­æ˜¯çº¯çš„æˆ–è€…æ‰€æœ‰å¶å­èŠ‚ç‚¹åŒ…å«çš„æ ·ä¾‹æ•°å°äºmin_samples_split min_samples_split ï¼š åˆ†è£‚å†…éƒ¨èŠ‚ç‚¹éœ€è¦çš„æœ€å°‘æ ·ä¾‹æ•°ã€‚int(å…·ä½“æ•°ç›®),float(æ•°ç›®çš„ç™¾åˆ†æ¯”) min_samples_leaf ï¼šå¶å­èŠ‚ç‚¹ä¸Šåº”æœ‰çš„æœ€å°‘æ ·ä¾‹æ•°ã€‚int(å…·ä½“æ•°ç›®),float(æ•°ç›®çš„ç™¾åˆ†æ¯”)ã€‚æ›´å°‘çš„èŠ‚ç‚¹æ•°ä½¿å¾—æ¨¡å‹æ›´å®¹æ˜“é­å—noise dataçš„å½±å“ï¼Œæˆ‘é€šå¸¸è®¾ç½®è¿™ä¸ªå€¼å¤§äº50ï¼Œä½†æ˜¯ä½ éœ€è¦å¯»æ‰¾æœ€é€‚åˆä½ çš„æ•°å€¼ã€‚ min_weight_fraction_leaf ï¼š max_leaf_nodes ï¼šä»¥â€æœ€ä¼˜ä¼˜å…ˆæ–¹å¼â€(best-first fashion),æœ€ä¼˜èŠ‚ç‚¹å®šä¹‰ä¸º:çº¯åº¦çš„ç›¸å¯¹å‡å°‘.å¦‚æœNoneåˆ™ä¸é™åˆ¶å¶å­èŠ‚ç‚¹ä¸ªæ•°;[float]min_impurity_split : æ ‘å¢é•¿æå‰ç»“æŸçš„é˜ˆå€¼.å¯¹äºå½“å‰èŠ‚ç‚¹,å¤§äºè¿™ä¸ªé˜ˆå€¼å°†åˆ†è£‚,å¦åˆ™å°±çœ‹åšå¶å­èŠ‚ç‚¹; [float]min_impurity_decrease ï¼šä¸€ä¸ªé˜ˆå€¼,è¡¨ç¤ºä¸€ä¸ªèŠ‚ç‚¹åˆ†è£‚çš„æ¡ä»¶æ˜¯:å¦‚æœè¿™æ¬¡åˆ†è£‚çº¯åº¦çš„å‡å°‘å¤§äºç­‰äºè¿™è¿™ä¸ªå€¼.bootstrap ï¼šæ„å»ºæ•°æ˜¯ä¸æ˜¯é‡‡ç”¨æœ‰æ”¾å›æ ·æœ¬çš„æ–¹å¼(bootstrap samples); [True/False]oob_score ï¼šäº¤å‰éªŒè¯ç›¸å…³çš„å±æ€§ã€‚n_jobs ï¼šè®¾å®šfitå’Œpredicté˜¶æ®µå¹¶åˆ—æ‰§è¡Œçš„ä»»åŠ¡ä¸ªæ•°,å¦‚æœè®¾ç½®ä¸º-1è¡¨ç¤ºå¹¶è¡Œæ‰§è¡Œçš„ä»»åŠ¡æ•°ç­‰äºè®¡ç®—çº§æ ¸æ•°; [integer, optional (default=1)]random_state ï¼šå¦‚æœæ˜¯intæ•°å€¼è¡¨ç¤ºå®ƒå°±æ˜¯éšæœºæ•°äº§ç”Ÿå™¨çš„ç§å­.å¦‚æœæŒ‡å®šRandomStateå®ä¾‹,å®ƒå°±æ˜¯éšæœºäº§ç”Ÿå™¨çš„ç§å­.å¦‚æœæ˜¯None,éšæœºæ•°äº§ç”Ÿå™¨æ˜¯np.randomæ‰€ç”¨çš„RandomStateå®ä¾‹; [int, RandomState instance or None, optional (default=None)]verbose ï¼šæ§åˆ¶æ„å»ºæ•°è¿‡ç¨‹çš„å†—é•¿åº¦; [int, optional (default=0)]warm_start ï¼šå½“è®¾ç½®ä¸ºTrue,é‡æ–°ä½¿ç”¨ä¹‹å‰çš„ç»“æ„å»æ‹Ÿåˆæ ·ä¾‹å¹¶ä¸”åŠ å…¥æ›´å¤šçš„ä¼°è®¡å™¨(estimators,åœ¨è¿™é‡Œå°±æ˜¯éšæœºæ ‘)åˆ°ç»„åˆå™¨ä¸­; [True/False]class_weight: â€œbanlancedâ€æ¨¡å¼æ˜¯æ ¹æ®yæ ‡ç­¾å€¼è‡ªåŠ¨è°ƒæ•´æƒå€¼ä¸è¾“å…¥æ•°æ®çš„ç±»é¢‘ç‡æˆåæ¯”,è®¡ç®—å…¬å¼æ˜¯:n_samples / (n_classes np.bincount(y)).â€œbalanced_subsampleâ€æ¨¡å¼çš„ä¸â€balancedæ¨¡å¼ç›¸åŒ,åªä¸è¿‡åœ¨æ¯ä¸€æ¬¡æ ‘å¢é•¿è¿‡ç¨‹ä¸­æƒå€¼çš„è®¡ç®—æ˜¯æ ¹æ®æœ‰æ”¾å›æ ·æœ¬çš„. æ¨¡å‹è°ƒå‚åˆ©å™¨ gridSearchCVï¼ˆç½‘æ ¼æœç´¢ï¼‰GridSearchCVï¼Œå®ƒå­˜åœ¨çš„æ„ä¹‰å°±æ˜¯è‡ªåŠ¨è°ƒå‚ï¼Œåªè¦æŠŠå‚æ•°è¾“è¿›å»ï¼Œå°±èƒ½ç»™å‡ºæœ€ä¼˜åŒ–çš„ç»“æœå’Œå‚æ•°ã€‚ä½†æ˜¯è¿™ä¸ªæ–¹æ³•é€‚åˆäºå°æ•°æ®é›†ï¼Œä¸€æ—¦æ•°æ®çš„é‡çº§ä¸Šå»äº†ï¼Œå¾ˆéš¾å¾—å‡ºç»“æœã€‚è¿™ä¸ªæ—¶å€™å°±æ˜¯éœ€è¦åŠ¨è„‘ç­‹äº†ã€‚æ•°æ®é‡æ¯”è¾ƒå¤§çš„æ—¶å€™å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå¿«é€Ÿè°ƒä¼˜çš„æ–¹æ³•â€”â€”åæ ‡ä¸‹é™ã€‚å®ƒå…¶å®æ˜¯ä¸€ç§è´ªå¿ƒç®—æ³•ï¼šæ‹¿å½“å‰å¯¹æ¨¡å‹å½±å“æœ€å¤§çš„å‚æ•°è°ƒä¼˜ï¼Œç›´åˆ°æœ€ä¼˜åŒ–ï¼›å†æ‹¿ä¸‹ä¸€ä¸ªå½±å“æœ€å¤§çš„å‚æ•°è°ƒä¼˜ï¼Œå¦‚æ­¤ä¸‹å»ï¼Œç›´åˆ°æ‰€æœ‰çš„å‚æ•°è°ƒæ•´å®Œæ¯•ã€‚è¿™ä¸ªæ–¹æ³•çš„ç¼ºç‚¹å°±æ˜¯å¯èƒ½ä¼šè°ƒåˆ°å±€éƒ¨æœ€ä¼˜è€Œä¸æ˜¯å…¨å±€æœ€ä¼˜ï¼Œä½†æ˜¯çœæ—¶é—´çœåŠ›ï¼Œå·¨å¤§çš„ä¼˜åŠ¿é¢å‰ï¼Œè¿˜æ˜¯è¯•ä¸€è¯•å§ï¼Œåç»­å¯ä»¥å†æ‹¿baggingå†ä¼˜åŒ–ã€‚ 2.å‚æ•°è¯´æ˜class sklearn.model_selection.GridSearchCV(estimator, param_grid, scoring=None, fit_params=None, n_jobs=1, iid=True, refit=True, cv=None, verbose=0, pre_dispatch=â€˜2*n_jobsâ€™, error_score=â€™raiseâ€™, return_train_score=â€™warnâ€™) ï¼ˆ1ï¼‰ estimator\\ é€‰æ‹©ä½¿ç”¨çš„åˆ†ç±»å™¨ï¼Œå¹¶ä¸”ä¼ å…¥é™¤éœ€è¦ç¡®å®šæœ€ä½³çš„å‚æ•°ä¹‹å¤–çš„å…¶ä»–å‚æ•°ã€‚æ¯ä¸€ä¸ªåˆ†ç±»å™¨éƒ½éœ€è¦ä¸€ä¸ªscoringå‚æ•°ï¼Œæˆ–è€…scoreæ–¹æ³•ï¼šestimator=RandomForestClassifier(min_samples_split=100,min_samples_leaf=20,max_depth=8,max_features=â€™sqrtâ€™,random_state=10), ï¼ˆ2ï¼‰ param_grid\\ éœ€è¦æœ€ä¼˜åŒ–çš„å‚æ•°çš„å–å€¼ï¼Œå€¼ä¸ºå­—å…¸æˆ–è€…åˆ—è¡¨ï¼Œä¾‹å¦‚ï¼šparam_grid =param_test1ï¼Œparam_test1 = {â€˜n_estimatorsâ€™:range(10,71,10)}ã€‚ ï¼ˆ3ï¼‰ scoring=None\\ æ¨¡å‹è¯„ä»·æ ‡å‡†ï¼Œé»˜è®¤None,è¿™æ—¶éœ€è¦ä½¿ç”¨scoreå‡½æ•°ï¼›æˆ–è€…å¦‚scoring=â€™roc_aucâ€™ï¼Œæ ¹æ®æ‰€é€‰æ¨¡å‹ä¸åŒï¼Œè¯„ä»·å‡†åˆ™ä¸åŒã€‚å­—ç¬¦ä¸²ï¼ˆå‡½æ•°åï¼‰ï¼Œæˆ–æ˜¯å¯è°ƒç”¨å¯¹è±¡ï¼Œéœ€è¦å…¶å‡½æ•°ç­¾åå½¢å¦‚ï¼šscorer(estimator, X, y)ï¼›å¦‚æœæ˜¯Noneï¼Œåˆ™ä½¿ç”¨estimatorçš„è¯¯å·®ä¼°è®¡å‡½æ•°ã€‚å…·ä½“å€¼çš„é€‰å–çœ‹æœ¬ç¯‡ç¬¬ä¸‰èŠ‚å†…å®¹ã€‚ ï¼ˆ4ï¼‰ fit_params=None\\ ï¼ˆ5ï¼‰ n_jobs=1\\ n_jobs: å¹¶è¡Œæ•°ï¼Œintï¼šä¸ªæ•°,-1ï¼šè·ŸCPUæ ¸æ•°ä¸€è‡´, 1:é»˜è®¤å€¼ ï¼ˆ6ï¼‰ iid=True\\ iid:é»˜è®¤True,ä¸ºTrueæ—¶ï¼Œé»˜è®¤ä¸ºå„ä¸ªæ ·æœ¬foldæ¦‚ç‡åˆ†å¸ƒä¸€è‡´ï¼Œè¯¯å·®ä¼°è®¡ä¸ºæ‰€æœ‰æ ·æœ¬ä¹‹å’Œï¼Œè€Œéå„ä¸ªfoldçš„å¹³å‡ã€‚ ï¼ˆ7ï¼‰ refit=True\\ é»˜è®¤ä¸ºTrue,ç¨‹åºå°†ä¼šä»¥äº¤å‰éªŒè¯è®­ç»ƒé›†å¾—åˆ°çš„æœ€ä½³å‚æ•°ï¼Œé‡æ–°å¯¹æ‰€æœ‰å¯ç”¨çš„è®­ç»ƒé›†ä¸å¼€å‘é›†è¿›è¡Œï¼Œä½œä¸ºæœ€ç»ˆç”¨äºæ€§èƒ½è¯„ä¼°çš„æœ€ä½³æ¨¡å‹å‚æ•°ã€‚å³åœ¨æœç´¢å‚æ•°ç»“æŸåï¼Œç”¨æœ€ä½³å‚æ•°ç»“æœå†æ¬¡fitä¸€éå…¨éƒ¨æ•°æ®é›†ã€‚ ï¼ˆ8ï¼‰ cv=None\\ äº¤å‰éªŒè¯å‚æ•°ï¼Œé»˜è®¤Noneï¼Œä½¿ç”¨ä¸‰æŠ˜äº¤å‰éªŒè¯ã€‚æŒ‡å®šfoldæ•°é‡ï¼Œé»˜è®¤ä¸º3ï¼Œä¹Ÿå¯ä»¥æ˜¯yieldè®­ç»ƒ/æµ‹è¯•æ•°æ®çš„ç”Ÿæˆå™¨ã€‚ ï¼ˆ9ï¼‰ verbose=0\\, *scoring=None* verboseï¼šæ—¥å¿—å†—é•¿åº¦ï¼Œintï¼šå†—é•¿åº¦ï¼Œ0ï¼šä¸è¾“å‡ºè®­ç»ƒè¿‡ç¨‹ï¼Œ1ï¼šå¶å°”è¾“å‡ºï¼Œ&gt;1ï¼šå¯¹æ¯ä¸ªå­æ¨¡å‹éƒ½è¾“å‡ºã€‚ ï¼ˆ10ï¼‰ pre_dispatch=â€˜2*n_jobsâ€™\\ æŒ‡å®šæ€»å…±åˆ†å‘çš„å¹¶è¡Œä»»åŠ¡æ•°ã€‚å½“n_jobså¤§äº1æ—¶ï¼Œæ•°æ®å°†åœ¨æ¯ä¸ªè¿è¡Œç‚¹è¿›è¡Œå¤åˆ¶ï¼Œè¿™å¯èƒ½å¯¼è‡´OOMï¼Œè€Œè®¾ç½®pre_dispatchå‚æ•°ï¼Œåˆ™å¯ä»¥é¢„å…ˆåˆ’åˆ†æ€»å…±çš„jobæ•°é‡ï¼Œä½¿æ•°æ®æœ€å¤šè¢«å¤åˆ¶pre_dispatchæ¬¡ ï¼ˆ11ï¼‰ error_score=â€™raiseâ€™\\ ï¼ˆ12ï¼‰ return_train_score=â€™warnâ€™\\ å¦‚æœâ€œFalseâ€ï¼Œcv_results_å±æ€§å°†ä¸åŒ…æ‹¬è®­ç»ƒåˆ†æ•° å›åˆ°sklearné‡Œé¢çš„GridSearchCVï¼ŒGridSearchCVç”¨äºç³»ç»Ÿåœ°éå†å¤šç§å‚æ•°ç»„åˆï¼Œé€šè¿‡äº¤å‰éªŒè¯ç¡®å®šæœ€ä½³æ•ˆæœå‚æ•°ã€‚ æ‰“ç®—ä½¿ç”¨ç½‘æ ¼æœç´¢å¯¹æ¨¡å‹è¿›è¡Œè°ƒä¼˜ï¼Œç„¶åå†è¿›è¡Œäº¤å‰éªŒè¯ï¼ æ­¥éª¤å®ç°ï¼š æƒ³è®©æ ‘çš„æ•°ç›®ä»10åˆ°100 ç”Ÿæˆä¸€ä¸ª10,100çš„åˆ—è¡¨ list(range(10,100)) æ„å»ºå¾ªç¯ å®ç°ä»£ç  12345678910111213# åˆå§‹åŒ–æ¨¡å‹rfc = RandomForestClassifier()tuned_parameter = [&#123; 'n_estimators':list(range(10, 100))&#125;]å¯¹æ¨¡å‹è¿›è¡Œäº¤å‰éªŒè¯ï¼Œ# å°†è®­ç»ƒ/æµ‹è¯•æ•°æ®é›†åˆ’åˆ†10ä¸ªäº’æ–¥å­é›†# kflod = StratifiedKFold(n_splits=10, shuffle = True,random_state=7)# å°†æ¨¡å‹è¿›è¡Œç½‘æ ¼æœç´¢è°ƒä¼˜clf = GridSearchCV(estimator=rfc,param_grid=tuned_parameter, cv=kflod, n_jobs=1)clf.fit(X_train, y_train)# å°†æ¨¡å‹è¿›è¡Œç½‘æ ¼æœç´¢è°ƒä¼˜print(\"Best: %f using %s\" % (clf.best_score_,clf.best_params_))outï¼š Best: 0.912500 using &#123;'n_estimators': 28&#125; æ²¡å•¥å¿…è¦å¾ªç¯äº†ï¼Œæ¯æ¬¡éƒ½åœ¨å˜ï¼Œé€‰ä¸ªæœ€é«˜çš„æ¨¡å‹è¶Šå¤æ‚è¶Šå¥½ï¼Œå°±é€‰14çš„å€æ•°ï¼Œ28 å‚è€ƒåšå®¢å‚è€ƒè¿™ç¯‡å¯¹æ¨¡å‹è¿›è¡Œä¼˜åŒ–ï¼Œè¿˜å¯ä»¥ç”¨ä¸‹è¿™ä¸ªæ¨¡å‹ https://blog.csdn.net/weixin_41988628/article/details/83098130 123456789101112131415161718192021222324252627282930313233343536373839import pandas as pd # æ•°æ®ç§‘å­¦è®¡ç®—å·¥å…·import numpy as np # æ•°å€¼è®¡ç®—å·¥å…·import matplotlib.pyplot as plt # å¯è§†åŒ–import seaborn as sns # matplotlibçš„é«˜çº§APIfrom sklearn.model_selection import StratifiedKFold #äº¤å‰éªŒè¯from sklearn.model_selection import GridSearchCV #ç½‘æ ¼æœç´¢from sklearn.model_selection import train_test_split #å°†æ•°æ®é›†åˆ†å¼€æˆè®­ç»ƒé›†å’Œæµ‹è¯•é›†from xgboost import XGBClassifier #xgboostpima = pd.read_csv(\"pima_indians-diabetes.csv\")print(pima.head())x = pima.iloc[:,0:8]y = pima.iloc[:,8]seed = 7 #é‡ç°éšæœºç”Ÿæˆçš„è®­ç»ƒtest_size = 0.33 #33%æµ‹è¯•ï¼Œ67%è®­ç»ƒX_train, X_test, Y_train, Y_test = train_test_split(x, y, test_size=test_size, random_state=seedmodel = XGBClassifier() learning_rate = [0.0001,0.001,0.01,0.1,0.2,0.3] #å­¦ä¹ ç‡gamma = [1, 0.1, 0.01, 0.001]param_grid = dict(learning_rate = learning_rate,gamma = gamma)#è½¬åŒ–ä¸ºå­—å…¸æ ¼å¼ï¼Œç½‘ç»œæœç´¢è¦æ±‚kflod = StratifiedKFold(n_splits=10, shuffle = True,random_state=7)#å°†è®­ç»ƒ/æµ‹è¯•æ•°æ®é›†åˆ’åˆ†10ä¸ªäº’æ–¥å­é›†ï¼Œgrid_search = GridSearchCV(model,param_grid,scoring = 'neg_log_loss',n_jobs = -1,cv = kflod)#scoringæŒ‡å®šæŸå¤±å‡½æ•°ç±»å‹ï¼Œn_jobsæŒ‡å®šå…¨éƒ¨cpuè·‘ï¼ŒcvæŒ‡å®šäº¤å‰éªŒè¯grid_result = grid_search.fit(X_train, Y_train) #è¿è¡Œç½‘æ ¼æœç´¢print(\"Best: %f using %s\" % (grid_result.best_score_,grid_search.best_params_))#grid_scores_ï¼šç»™å‡ºä¸åŒå‚æ•°æƒ…å†µä¸‹çš„è¯„ä»·ç»“æœã€‚best_params_ï¼šæè¿°äº†å·²å–å¾—æœ€ä½³ç»“æœçš„å‚æ•°çš„ç»„åˆ#best_score_ï¼šæˆå‘˜æä¾›ä¼˜åŒ–è¿‡ç¨‹æœŸé—´è§‚å¯Ÿåˆ°çš„æœ€å¥½çš„è¯„åˆ†#å…·æœ‰é”®ä½œä¸ºåˆ—æ ‡é¢˜å’Œå€¼ä½œä¸ºåˆ—çš„dictï¼Œå¯ä»¥å¯¼å…¥åˆ°DataFrameä¸­ã€‚#æ³¨æ„ï¼Œâ€œparamsâ€é”®ç”¨äºå­˜å‚¨æ‰€æœ‰å‚æ•°å€™é€‰é¡¹çš„å‚æ•°è®¾ç½®åˆ—è¡¨ã€‚means = grid_result.cv_results_['mean_test_score']params = grid_result.cv_results_['params']for mean,param in zip(means,params): print(\"%f with: %r\" % (mean,param)) å¿½ç•¥è­¦å‘Šæ¯æ¬¡éƒ½ä¼šå‡ºç°ä¸€å¤§å †çš„çº¢å­—ï¼Œçœ‹åˆ°å°±ä¸èˆ’æœï¼Œä»¥åå°†è¿™ä¸ªä½œä¸ºç¬¬ä¸€ä¸ª 12import warningswarnings.filterwarnings(\"ignore\") åœ¨PyCharmä¸­æç¤ºshadows name â€˜xxxxâ€™ from outer scopeï¼Œå½“ä½ åœ¨å¤–éƒ¨æœ‰ä¸ªç›¸åŒåç§°çš„å˜é‡åœ¨æ–¹æ³•å†…éƒ¨è¢«é‡æ–°æŒ‡å®šäº†æ–°çš„å€¼ï¼Œä¹Ÿå°±æ˜¯è¯´ä½ åœ¨å¤–éƒ¨çš„ç›¸åŒåç§°çš„å˜é‡å‹æ ¹å°±æ²¡æœ‰ä»»ä½•ä½œç”¨ã€‚æ‰€ä»¥PyCharmå°±å›æç¤ºè¿™ä¸ªä¿¡æ¯ã€‚è¿™ä¸ªæ—¶å€™å°±éœ€è¦æˆ‘ä»¬å»è°ƒæ•´å…·ä½“ä»£ç äº†ã€‚ æ„æ€å°±æ˜¯åœ¨pycharmä¸­ï¼Œå‡½æ•°ä¸­çš„å˜é‡æœ€å¥½è·Ÿå¤–éƒ¨çš„å˜é‡ä¸ä¸€æ ·ï¼Œè¦ä¸ç„¶å°±ä¼šè­¦å‘Š","categories":[],"tags":[]},{"title":"python_æ–‡ä»¶å­˜å–æ“ä½œ","slug":"python/python-æ–‡ä»¶å­˜å–æ“ä½œ","date":"2020-03-21T06:50:12.000Z","updated":"2020-03-21T06:50:12.000Z","comments":true,"path":"2020/03/21/python/python-æ–‡ä»¶å­˜å–æ“ä½œ/","link":"","permalink":"https://esyyes.github.io/2020/03/21/python/python-%E6%96%87%E4%BB%B6%E5%AD%98%E5%8F%96%E6%93%8D%E4%BD%9C/","excerpt":"","text":"python_æ–‡ä»¶å­˜å–æ“ä½œ123456789# è¯»å–ç¬¬ä¸€ä¸ªæ•°æ®f = open(r'E:/test.txt', 'r')result = []for line in f.readlines(): result.append(list(map(str, line.split(','))))# å°†åˆ—è¡¨ä¸­çš„æ•°æ®ä»ç¬¬5åˆ—åå¼€å§‹åˆ é™¤for i in range(len(result)): del result[i][4:] åˆ é™¤åˆ—è¡¨åé¢çš„å‡ åˆ— 1del result[i][4:] [â€˜1729162717â€™, â€˜2169702956â€™, â€˜57181â€™, â€˜59445â€™] åˆ é™¤å¼•å· 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061# -*- coding: utf-8 -*-# @Time : 2020/3/21# @Author : esyimport pandas as pdimport numpy as np# è¯»å–txtæ–‡ä»¶f = open(r'E:/test.txt', 'r')result = []for line in f.readlines(): result.append(list(map(str, line.split(','))))# åˆ é™¤æŒ‡å®šçš„åˆ—for i in range(len(result)): del result[i][-2:-1]data2 = result# # å°†stræ•°æ®è½¬æ¢ä¸ºæ•´æ•°# data2 = []# for j in range(len(result)):# list2 = []# for i in range(len(result[j])):# list2.append(int(result[j][i]))# data2.append(list2)# è¯»å–xlsxæ–‡ä»¶ï¼Œæ˜¯è½¬æ¢ä¸ºdatarafmedf = pd.read_excel('E:/tt.xlsx')data = pd.get_dummies(df.iloc[0:])# 0æ’è¡¥data = data.fillna(0)# å°†å…¶è½¬æ¢ä¸ºæ•°ç»„train_data = np.array(data)# å°†å…¶è½¬æ¢ä¸ºåˆ—è¡¨train_x_list = train_data.tolist() #list# å°†åˆ—è¡¨å åŠ åˆ°åé¢å»data1 = []for j in range(len(train_x_list)): list1 = [] for i in range(len(train_x_list[j])): list1.append(int(train_x_list[j][i])) data1.append(list1)# æ‰¹é‡ä¿å­˜æ–‡ä»¶now = []for j in range(90): shu = [] for i in range(len(data1)): # æŒ‡å®šåˆ—è¿›è¡Œæ·»åŠ æ•°æ® data2[i].insert(7, int(data1[i][j])) shu.append(data2[i]) now.append(shu) # ä¿å­˜æ–‡ä»¶ np.savetxt(\"E:/3211/%s.txt\"%j, now[j], fmt='%s', delimiter=',') for s in range(len(data2)): del data2[s][-2:-1]print(\"1\") å…¶å®æ ¹æœ¬æ²¡å¿…è¦åˆ é™¤å¼•å·ï¼Œå†è¿›è¡Œä¿å­˜æ–‡ä»¶æ—¶ï¼Œå°±å·²ç»åˆ é™¤äº†å¼•å·","categories":[],"tags":[]},{"title":"python_Matplotlib","slug":"python/python-Matplotlib","date":"2020-03-19T07:38:53.000Z","updated":"2020-03-19T07:38:53.000Z","comments":true,"path":"2020/03/19/python/python-Matplotlib/","link":"","permalink":"https://esyyes.github.io/2020/03/19/python/python-Matplotlib/","excerpt":"","text":"python_Matplotlibå‚è€ƒè¿™ä¸ªå³å¯ https://www.jb51.net/article/168302.htm 1from matplotlib import pyplot as plt æ¨ªçºµåæ ‡çš„ç¡®å®šï¼Œä»¥ç»˜åˆ¶ç‰¹å¾é€‰æ‹©æ›²çº¿ä¸ºä¾‹ã€‚ 1234import numpy as np from matplotlib import pyplot as pltx = np.arange(1, 25)yä¸ºN123RW,DLRW,SRW ç»˜åˆ¶æœ€ç®€å•çš„å›¾åƒ 1234x = np.arange(1, 25)y1 = N123RWy2 = DLRWy3 = SRW 12345plt.plot(x,y1) plt.xlabel(\"Characteristic number\") plt.ylabel(\"Accuracy of RF\")plt.title(\"Feature elimination based on DBT and RFE\")plt.show() å¯¹ç‚¹è¿›è¡Œæ ‡è®°1234plt.plot(x,y1,\"*r\")# åªæœ‰ç‚¹plt.plot(x,y1,\"*r--\")# å¸¦è™šçº¿çš„ç‚¹ &#39;-&#39; å®çº¿æ ·å¼ &#39;--&#39; çŸ­æ¨ªçº¿æ ·å¼ &#39;-.&#39; ç‚¹åˆ’çº¿æ ·å¼ &#39;:&#39; è™šçº¿æ ·å¼ &#39;.&#39; ç‚¹æ ‡è®° &#39;,&#39; åƒç´ æ ‡è®° &#39;o&#39; åœ†æ ‡è®° &#39;v&#39; å€’ä¸‰è§’æ ‡è®° &#39;^&#39; æ­£ä¸‰è§’æ ‡è®° &#39;&lt;&#39; å·¦ä¸‰è§’æ ‡è®° &#39;&gt;&#39; å³ä¸‰è§’æ ‡è®° &#39;1&#39; ä¸‹ç®­å¤´æ ‡è®° &#39;2&#39; ä¸Šç®­å¤´æ ‡è®° &#39;3&#39; å·¦ç®­å¤´æ ‡è®° &#39;4&#39; å³ç®­å¤´æ ‡è®° &#39;s&#39; æ­£æ–¹å½¢æ ‡è®° &#39;p&#39; äº”è¾¹å½¢æ ‡è®° &#39;*&#39; æ˜Ÿå½¢æ ‡è®° &#39;h&#39; å…­è¾¹å½¢æ ‡è®° 1 &#39;H&#39; å…­è¾¹å½¢æ ‡è®° 2 &#39;+&#39; åŠ å·æ ‡è®° &#39;x&#39; X æ ‡è®° &#39;D&#39; è±å½¢æ ‡è®° &#39;d&#39; çª„è±å½¢æ ‡è®° `â€™ â€˜` &#39;_&#39; æ°´å¹³çº¿æ ‡è®° å­—ç¬¦ é¢œè‰² &#39;b&#39; è“è‰² &#39;g&#39; ç»¿è‰² &#39;r&#39; çº¢è‰² &#39;c&#39; é’è‰² &#39;m&#39; å“çº¢è‰² &#39;y&#39; é»„è‰² &#39;k&#39; é»‘è‰² &#39;w&#39; ç™½è‰² é—®é¢˜å›¾åƒä¸æ¸…æ™°ï¼Œæ¨ªåæ ‡æƒ³ç”¨12345-25è¡¨ç¤ºï¼Œå­—ä½“å¤ªå° 123456789101112131415161718192021222324252627282930313233å±æ€§ å€¼ç±»å‹alpha æµ®ç‚¹å€¼animated [True / False]antialiased or aa [True / False]clip_box matplotlib.transform.Bbox å®ä¾‹clip_on [True / False]clip_path Path å®ä¾‹ï¼Œ Transformï¼Œä»¥åŠPatchå®ä¾‹color or c ä»»ä½• matplotlib é¢œè‰²contains å‘½ä¸­æµ‹è¯•å‡½æ•°dash_capstyle ['butt' / 'round' / 'projecting']dash_joinstyle ['miter' / 'round' / 'bevel']dashes ä»¥ç‚¹ä¸ºå•ä½çš„è¿æ¥/æ–­å¼€å¢¨æ°´åºåˆ—data (np.array xdata, np.array ydata)figure matplotlib.figure.Figure å®ä¾‹label ä»»ä½•å­—ç¬¦ä¸²linestyle or ls [ '-' / '--' / '-.' / ':' / 'steps' / ...]linewidth or lw ä»¥ç‚¹ä¸ºå•ä½çš„æµ®ç‚¹å€¼lod [True / False]marker [ '+' / ',' / '.' / '1' / '2' / '3' / '4' ]markeredgecolor or mec ä»»ä½• matplotlib é¢œè‰²markeredgewidth or mew ä»¥ç‚¹ä¸ºå•ä½çš„æµ®ç‚¹å€¼markerfacecolor or mfc ä»»ä½• matplotlib é¢œè‰²markersize or ms æµ®ç‚¹å€¼markevery [ None / æ•´æ•°å€¼ / (startind, stride) ]picker ç”¨äºäº¤äº’å¼çº¿æ¡é€‰æ‹©pickradius çº¿æ¡çš„æ‹¾å–é€‰æ‹©åŠå¾„solid_capstyle ['butt' / 'round' / 'projecting']solid_joinstyle ['miter' / 'round' / 'bevel']transform matplotlib.transforms.Transform å®ä¾‹visible [True / False]xdata np.arrayydata np.arrayzorder ä»»ä½•æ•°å€¼ 123# æ˜¾ç¤ºä¸­æ–‡mpl.rcParams['font.sans-serif'] = ['FangSong'] # æŒ‡å®šé»˜è®¤å­—ä½“ mpl.rcParams['axes.unicode_minus'] = False # è§£å†³ä¿å­˜å›¾åƒæ˜¯è´Ÿå·'-'æ˜¾ç¤ºä¸ºæ–¹å—çš„é—®é¢˜ é»‘ä½“ SimHei å¾®è½¯é›…é»‘ Microsoft YaHei å¾®è½¯æ­£é»‘ä½“ Microsoft JhengHei æ–°å®‹ä½“ NSimSun æ–°ç»†æ˜ä½“ PMingLiU ç»†æ˜ä½“ MingLiU æ ‡æ¥·ä½“ DFKai-SB ä»¿å®‹ FangSong æ¥·ä½“ KaiTi ä»¿å®‹_GB2312 FangSong_GB2312 æ¥·ä½“_GB2312 KaiTi_GB2312 1234#é¢œè‰²ã€æ ‡è®°å’Œçº¿å‹plt.figure()##linestyleè®¾ç½®çº¿å‹ï¼Œcolorè®¾ç½®é¢œè‰²,markerè®¾ç½®è®¾ç½®è¿æ¥ç‚¹plt.plot(numpy.random.randn(30).cumsum(),linestyle='--',color='g',marker='o') å‚è€ƒè¿™ä¸ª https://www.jb51.net/article/168302.htm 123456789#è®¾ç½®æ ‡é¢˜ã€è½´æ ‡ç­¾ï¼Œåˆ»åº¦ä»¥åŠåˆ»åº¦æ ‡ç­¾fig = plt.figure() #åˆ›å»ºfigureå¯¹è±¡ax = fig.add_subplot(1,1,1) #è·å¾—Axeså¯¹è±¡ax.plot(numpy.random.randn(1000).cumsum()) #ç”Ÿæˆéšæœºæ•°ax.set_xticks([0,250,500,750,1000]) #è®¾ç½®xè½´åˆ»åº¦ax.set_yticks([-20,-10,0,10,20]) #è®¾ç½®yè½´åˆ»åº¦ax.set_title('My first matplotlib plot') #è®¾ç½®æ ‡é¢˜ax.set_xlabel('Xtages') #è®¾ç½®xè½´æ ‡ç­¾ax.set_ylabel('Ytages') #è®¾ç½®yè½´æ ‡ç­¾ 123plt.annotate(\"Important value\", (55,20), xycoords='data', #æ·»åŠ æ³¨é‡Šçš„æ–¹æ³• xytext=(5, 38), arrowprops=dict(arrowstyle='-&gt;')) 1234567891011121314151617181920212223# è°ƒæ•´å›¾åƒçš„å¤§å°fig = plt.figure(figsize=(12,6))#è§£å†³ä¸­æ–‡æ˜¾ç¤ºé—®é¢˜plt.rcParams['font.sans-serif']=['Microsoft YaHei']plt.rcParams['axes.unicode_minus'] = False# æ ‡è®°å›¾çš„åºå·# fig.suptitle('1') # æ”¹å˜æ¨ªçºµåæ ‡plt.xticks(x)# ç»˜åˆ¶å›¾åƒï¼Œr*--é¢œè‰²ï¼Œç‚¹çš„æ ‡è®°ï¼Œçº¿æ®µæ¨¡å¼ï¼Œlabelæ ‡ç­¾çš„åå­—ï¼Œlinewidthçº¿çš„å®½åº¦plt.plot(x,y1,\"r*--\", label='N123RW',linewidth=0.25 )plt.plot(x,y2,\"ks--\", label='DLRW',linewidth=0.25)plt.plot(x,y3,\"gp--\", label='SRW',linewidth=0.25)# æ˜¾ç¤ºæ ‡ç­¾ï¼Œé»˜è®¤ä¸ºaxis=0å·¦ä¸Šè§’plt.legend()# fontsizeå­—ä½“å¤§å°plt.xlabel(\"Characteristic number\", fontsize = 15) plt.xticks(fontsize=10)plt.ylabel(\"Accuracy of RF\", fontsize = 15)plt.yticks(fontsize=10)plt.title(\"Feature elimination based on DBT and RFE\", fontsize = 15)plt.show()fig.savefig('features.png',dpi = 400,bbox_inches='tight')","categories":[],"tags":[]},{"title":"pythonâ€”â€”OpenCVåˆæ¥è§¦","slug":"opencv/pythonâ€”â€”OpenCVåˆæ¥è§¦","date":"2020-03-08T13:43:17.000Z","updated":"2020-03-08T13:43:17.000Z","comments":true,"path":"2020/03/08/opencv/pythonâ€”â€”OpenCVåˆæ¥è§¦/","link":"","permalink":"https://esyyes.github.io/2020/03/08/opencv/python%E2%80%94%E2%80%94OpenCV%E5%88%9D%E6%8E%A5%E8%A7%A6/","excerpt":"","text":"OpenCVåˆæ¥è§¦ githubé—®é¢˜è§£å†³githubå‡ºé—®é¢˜äº†å…¬å…±ç§˜é’¥çš„é—®é¢˜,ä¸èƒ½è¿›è¡Œæ‰“å¼€å’Œä¸‹è½½ï¼Œè€Œä¸”githubä¹Ÿå‡ºç°é—®é¢˜ï¼Œå„ç§ä¸æ˜¾ç¤ºã€‚ å·²ç»è§£å†³ï¼š å¯¹æµè§ˆå™¨è¿›è¡Œåˆ é™¤æµè§ˆè®°å½•ï¼Œæ¶ˆé™¤cookie;ç„¶åå¯ä»¥æ­£å¸¸è¿›è¡Œç™»å½•äº†ã€‚ é—®é¢˜2ï¼Œç™»å½•æ…¢ï¼›ping github.comè¯·æ±‚è¶…æ—¶çš„é—®é¢˜ï¼›https://www.cnblogs.com/findview/p/11720245.html opencv-pythonä¸‹è½½pip insatll opencv-python pip install opencv-contrib-python pip install ptesseract é¦–å…ˆè¿›è¡Œå®‰è£…ï¼Œå®åœ¨æ˜¯æ…¢ï¼Œæˆ‘å…ˆçœ‹ä¸‹æ–‡çŒ®ï¼›å¸Œæœ›åˆ«å‡ºé”™ï¼ï¼ï¼ opencv-pythonå®‰è£…pythonç‰ˆæœ¬ï¼š3.7.5 1.è¿›å…¥æ¸…åé•œåƒ https://blog.csdn.net/qq_38327353/article/details/88847694?depth_1-utm_source=distribute.pc_relevant.none-task&amp;utm_source=distribute.pc_relevant.none-task 2.ä¸‹è½½opencv-pythonå¯¹åº”çš„ç‰ˆæœ¬ï¼Œwhlæ–‡ä»¶ 3.ç”¨pip install (whl)æ–‡ä»¶è¿›è¡Œå®‰è£… 4.ä»¥åä¸‹è½½å®‰è£…è¿˜æ˜¯ç›´æ¥æ‰¾åŒ…æˆ–è€…é•œåƒï¼Œè¦ä¸ç„¶å›½å¤–çš„å¤ªæ…¢ã€‚ opencv-pythonæµ‹è¯•import cv2 æµ‹è¯•æˆåŠŸã€‚ opencv-pythonå›¾ç‰‡è¯»å–é—®é¢˜opencvè¯»å–çš„å›¾ç‰‡æ ¼å¼cv2è¯»å–çš„å›¾ç‰‡é€šé“æ˜¯æŒ‰ç…§BGRæ’åˆ—çš„ï¼Œè€ŒéRGBé¡ºåºã€‚å› æ­¤å·¥ç¨‹ä¸­opencvåº“ä¸å…¶ä»–åº“æ··ç”¨çš„æ—¶å€™è¦æ³¨æ„ï¼Œå¯ä»¥ä½¿ç”¨img = cv2.cvtColor(img,cv2.COLOR_BGR2RGB) è²Œä¼¼å›¾ç‰‡éƒ½å¯ä»¥è¯»å– åˆ©ç”¨jupyterè¯»å–å›¾ç‰‡ï¼Œæ¯•ç«Ÿè¿™ä¸ªå¯ä»¥ä¿å­˜ã€‚ opencvè¯»å–å›¾ç‰‡å›¾ç‰‡çš„æ ·å­ 1234import cv2 as cvimg = cv.imread(\"C:/Users/86184/Desktop/111.jfif\") cv.imshow(\"miao\",img)cv.waitKey() #åœ¨imshowä¹‹åå¦‚æœæ²¡æœ‰waitkeyè¯­å¥åˆ™ä¸ä¼šæ­£å¸¸æ˜¾ç¤ºå›¾åƒ","categories":[],"tags":[]},{"title":"2-28æ±‡æŠ¥","slug":"hexo/2-28æ±‡æŠ¥","date":"2020-02-28T02:31:53.000Z","updated":"2020-02-28T02:31:53.000Z","comments":true,"path":"2020/02/28/hexo/2-28æ±‡æŠ¥/","link":"","permalink":"https://esyyes.github.io/2020/02/28/hexo/2-28%E6%B1%87%E6%8A%A5/","excerpt":"","text":"2-28æ±‡æŠ¥ æŒ‰ç…§AASMåˆ†æœŸæ ‡å‡†ï¼Œä»¥30sä¸ºä¸€ä¸ªåˆ†æœŸé—´éš”ï¼Œè€Œå¿ƒç‡å˜å¼‚æ€§æŒ‰ç…§ï¼ˆHeart rate variabilityï¼šStandards of measurement, physiological interpretation, and clinical useï¼‰æ ‡å‡†æ˜¯5åˆ†é’Ÿä¸ºä¸€ä¸ªåˆ†æé˜¶æ®µï¼Œå¤§éƒ¨åˆ†æ–‡çŒ®éƒ½æ˜¯ç›´æ¥å°†5åˆ†é’Ÿæ¥æ›¿æ¢å¯¹åº”çš„30såˆ†æœŸæ ‡å‡†æ¥è¿›è¡Œç‰¹å¾åˆ†æï¼Œæ‰“ç®—å°†å¯¹åº”çš„åˆ†æœŸæ ‡ç­¾å’Œ5minå’Œ30séƒ½è¿›è¡Œåˆ†æç‰¹å¾ï¼Œè¿›è¡Œå¯¹æ¯”æ•ˆæœã€‚ ä¸ºäº†æ¶ˆé™¤å¼‚å¸¸å€¼çš„å½±å“ï¼Œå°†æ¯ä¸ªRRå€¼ä¸ä»¥æµ‹è¯•å€¼ä¸ºä¸­å¿ƒçš„21ç‚¹çŸ©å½¢çª—å£å†…çš„å¹³å‡å€¼(MRR)è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœRRå°äº0.5MRRæˆ–å¤§äº1.5MRRï¼Œåˆ™æ›¿æ¢ä¸ºMRRåˆ›æ–°ç‚¹ï¼šå³å¯æè¿°ä¸º19ä¸ªï¼Œå°äº0.55ï¼Œå¤§äº1.55ï¼Œå°†å…¶è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœå°äº0.55ï¼Œåˆ™åˆ¤å®šä¸ºè¿‡æ£€ï¼Œåˆ™å åŠ åˆ°å‰ä¸€ä¸ªæ•°æ®ï¼Œç›¸åº”çš„åˆ é™¤å¯¹åº”çš„Rå³°å€¼ç‚¹çš„åæ ‡å¦‚æœå¤§äº1.55ï¼Œåˆ™åˆ¤å®šä¸ºæ¼æ£€ï¼Œåˆ™å°†RR/MRR=m,å–æ•´m,å†å°†RRåˆ†ä¸ºmä»½ï¼Œç›¸åº”çš„æ¨ªåæ ‡locsåˆ™å åŠ mRRã€‚ æ ¹æ®è¿™ä¸ªï¼ˆSleep stages classification based on heart rate variability and random forestï¼‰ æ–‡çŒ®è¯´æ³•ï¼š ä¸ºäº†æ¶ˆé™¤å¼‚å¸¸å€¼çš„å½±å“ï¼Œå°†æ¯ä¸ªRRå€¼ä¸ä»¥æµ‹è¯•å€¼ä¸ºä¸­å¿ƒçš„21ç‚¹çŸ©å½¢çª—å£å†…çš„å¹³å‡å€¼(MRR)è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœRRå°äº0.5MRR*æˆ–å¤§äº*1.5MRRï¼Œåˆ™æ›¿æ¢ä¸ºMRR è‡ªå·±å¤„ç†ï¼šå³å¯æè¿°ä¸º19ä¸ªï¼Œå°äº0.55ï¼Œå¤§äº1.55ï¼Œå°†å…¶è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœå°äº0.55ï¼Œåˆ™åˆ¤å®šä¸ºè¿‡æ£€ï¼Œåˆ™å åŠ åˆ°å‰ä¸€ä¸ªæ•°æ®ï¼Œç›¸åº”çš„åˆ é™¤å¯¹åº”çš„Rå³°å€¼ç‚¹çš„åæ ‡ å¦‚æœå¤§äº1.55ï¼Œåˆ™åˆ¤å®šä¸ºæ¼æ£€ï¼Œåˆ™å°†RR/MRR=m,å–æ•´m,å†å°†RRåˆ†ä¸ºmä»½ï¼Œç›¸åº”çš„æ¨ªåæ ‡locsåˆ™å åŠ mRRã€‚ æ€»ç»“7806ä¸ªæ•°æ®ç‚¹ï¼Œç”¨ç®—æ³•æå–åˆ°çš„æ˜¯7810ä¸ªï¼Œæ¶ˆé™¤äº†4ä¸ªï¼Œå¯ä»¥å¿½ç•¥ä¸è®¡ï¼Œæ—¶é¢‘åŸŸçš„ç‰¹å¾æå–æ•ˆæœå·®åˆ«ä¸å¤§ã€‚","categories":[],"tags":[]},{"title":"python","slug":"python/pythonâ€”â€”å‘¼å¸éŸ³ç‰¹å¾","date":"2020-02-26T12:58:00.000Z","updated":"2020-02-26T12:58:00.000Z","comments":true,"path":"2020/02/26/python/pythonâ€”â€”å‘¼å¸éŸ³ç‰¹å¾/","link":"","permalink":"https://esyyes.github.io/2020/02/26/python/python%E2%80%94%E2%80%94%E5%91%BC%E5%90%B8%E9%9F%B3%E7%89%B9%E5%BE%81/","excerpt":"","text":"æ‰¾åˆ°å‘¼å¸éŸ³çš„ç‰¹å¾ã€‚å·²ç»ECGä¿¡å·æ»¤æ³¢ä¸ºå‘¼å¸ä¿¡å·ï¼Œè¿™ä¸¤ä¸ªçš„ç‰¹å¾ï¼Œè¿˜æœ‰Rå³°å€¼çš„ä¿¡å·ç‚¹çš„ç‰¹å¾","categories":[],"tags":[]},{"title":"pythonâ€”â€”ç‰¹å¾é€‰æ‹©å’Œä¼˜åŒ–","slug":"python/pythonâ€”â€”ç‰¹å¾é€‰æ‹©å’Œä¼˜åŒ–","date":"2020-02-26T07:33:12.000Z","updated":"2020-02-26T07:33:12.000Z","comments":true,"path":"2020/02/26/python/pythonâ€”â€”ç‰¹å¾é€‰æ‹©å’Œä¼˜åŒ–/","link":"","permalink":"https://esyyes.github.io/2020/02/26/python/python%E2%80%94%E2%80%94%E7%89%B9%E5%BE%81%E9%80%89%E6%8B%A9%E5%92%8C%E4%BC%98%E5%8C%96/","excerpt":"","text":"","categories":[],"tags":[]},{"title":"python_wfdbä½¿ç”¨","slug":"python/python-wfdbä½¿ç”¨","date":"2020-02-15T14:42:29.000Z","updated":"2020-02-15T14:42:29.000Z","comments":true,"path":"2020/02/15/python/python-wfdbä½¿ç”¨/","link":"","permalink":"https://esyyes.github.io/2020/02/15/python/python-wfdb%E4%BD%BF%E7%94%A8/","excerpt":"","text":"python_wfdbä½¿ç”¨","categories":[],"tags":[]},{"title":"pythonæ¨¡å—çš„æ„å»ºå’Œè°ƒç”¨","slug":"python/pythonæ¨¡å—çš„æ„å»ºå’Œè°ƒç”¨","date":"2020-02-09T08:55:02.000Z","updated":"2020-02-09T08:55:02.000Z","comments":true,"path":"2020/02/09/python/pythonæ¨¡å—çš„æ„å»ºå’Œè°ƒç”¨/","link":"","permalink":"https://esyyes.github.io/2020/02/09/python/python%E6%A8%A1%E5%9D%97%E7%9A%84%E6%9E%84%E5%BB%BA%E5%92%8C%E8%B0%83%E7%94%A8/","excerpt":"","text":"pythonæ¨¡å—çš„æ„å»ºå’Œè°ƒç”¨ä»£ç è¿è¡Œå‡ºæ¥å¤ªå¤§äº†ï¼Œçœ‹èµ·æ¥æ²¡é‚£ä¹ˆå¥½çœ‹ï¼Œæ‰€ä»¥ï¼Œéœ€è¦è¿›è¡Œå¤„ç†ï¼Œå¼‚å¸¸ç‚¹è¿˜æ˜¯è¦å¤„ç†ä¸‹ï¼Œæ¯•ç«Ÿè¿˜å¯ä»¥å¾—åˆ°ä¸€ä¸ªæ—¶åŸŸç‰¹å¾ã€‚ å¼‚å¸¸ç‚¹å¤„ç†è¿˜æ˜¯éœ€è¦è€ƒè™‘åˆ°æ¼ç‚¹è¿™äº›æƒ…å†µï¼Œåœ¨è¿™ä¸ªé‡Œé¢å°±ä¸éœ€è¦äº†ï¼Œä½†æ˜¯åœ¨å…¶ä»–ç¨‹åºé‡Œé¢è¿˜æ˜¯éœ€è¦ï¼Œå› æ­¤æ‰¾ä¸‹ç›¸å…³çš„Rå³°å€¼ç‚¹æŸ¥æ‰¾çš„é—®é¢˜ã€‚ æ¨¡å—åˆè¦è€ƒè™‘ä¸¤ä¸ªé—®é¢˜ï¼Œä¸€ä¸ªå‡½æ•°çš„æ„å»ºï¼Œä¸€ä¸ªäº‹æ¨¡å—çš„æ„å»ºå’Œè°ƒç”¨ã€‚å…ˆçœ‹ä¸‹åˆ«äººçš„åšå®¢ï¼Œå…³äºæ—¶é¢‘åŸŸç‰¹å¾çš„æå–é—®é¢˜å‰é¢ä¸æ˜¯çœ‹åˆ°ä¸ªã€‚ 1.heartpyåº“https://blog.csdn.net/weixin_45414380/article/details/100084696 ç›´æ¥å¯¹å…¶è¿›è¡Œåº”ç”¨ https://github.com/paulvangentcom/heartrate_analysis_python æŸ¥çœ‹heartpyåº“çš„è¯´æ˜ã€‚ https://python-heart-rate-analysis-toolkit.readthedocs.io/en/latest/ æœ‰ç‚¹ä¸æƒ³çœ‹äº†ã€‚æ˜å¤©å†è¯´ã€‚ å®‰è£…èµ·äº†ï¼ŒæŠŠåŒ…éƒ½å‡çº§ä¸‹","categories":[],"tags":[]},{"title":"pythonâ€”â€”æ»‘åŠ¨åˆ‡ç‰‡ä¹‹æ•°ç»„","slug":"python/pythonâ€”â€”æ»‘åŠ¨åˆ‡ç‰‡ä¹‹æ•°ç»„","date":"2020-02-08T05:45:57.000Z","updated":"2020-02-08T05:45:57.000Z","comments":true,"path":"2020/02/08/python/pythonâ€”â€”æ»‘åŠ¨åˆ‡ç‰‡ä¹‹æ•°ç»„/","link":"","permalink":"https://esyyes.github.io/2020/02/08/python/python%E2%80%94%E2%80%94%E6%BB%91%E5%8A%A8%E5%88%87%E7%89%87%E4%B9%8B%E6%95%B0%E7%BB%84/","excerpt":"","text":"å±æ€§ è¯´æ˜ ndarray.ndim ç§©ï¼Œå³è½´çš„æ•°é‡æˆ–ç»´åº¦çš„æ•°é‡ ndarray.shape æ•°ç»„çš„ç»´åº¦ï¼Œå¯¹äºçŸ©é˜µï¼Œn è¡Œ m åˆ— ndarray.size æ•°ç»„å…ƒç´ çš„æ€»ä¸ªæ•°ï¼Œç›¸å½“äº .shape ä¸­ n*m çš„å€¼ ndarray.dtype ndarray å¯¹è±¡çš„å…ƒç´ ç±»å‹ ndarray.itemsize ndarray å¯¹è±¡ä¸­æ¯ä¸ªå…ƒç´ çš„å¤§å°ï¼Œä»¥å­—èŠ‚ä¸ºå•ä½ ndarray.flags ndarray å¯¹è±¡çš„å†…å­˜ä¿¡æ¯ ndarray.real ndarrayå…ƒç´ çš„å®éƒ¨ ndarray.imag ndarray å…ƒç´ çš„è™šéƒ¨ ndarray.data åŒ…å«å®é™…æ•°ç»„å…ƒç´ çš„ç¼“å†²åŒºï¼Œç”±äºä¸€èˆ¬é€šè¿‡æ•°ç»„çš„ç´¢å¼•è·å–å…ƒç´ ï¼Œæ‰€ä»¥é€šå¸¸ä¸éœ€è¦ä½¿ç”¨è¿™ä¸ªå±æ€§ã€‚ æ•°ç»„çš„åˆ‡ç‰‡ï¼š ndarrayå¯¹è±¡çš„å†…å®¹å¯ä»¥é€šè¿‡ç´¢å¼•æˆ–åˆ‡ç‰‡æ¥è®¿é—®å’Œä¿®æ”¹ï¼Œä¸ Python ä¸­ list çš„åˆ‡ç‰‡æ“ä½œä¸€æ ·ã€‚ ndarray æ•°ç»„å¯ä»¥åŸºäº 0 - n çš„ä¸‹æ ‡è¿›è¡Œç´¢å¼•ï¼Œåˆ‡ç‰‡å¯¹è±¡å¯ä»¥é€šè¿‡å†…ç½®çš„ slice å‡½æ•°ï¼Œå¹¶è®¾ç½® start, stop åŠ step å‚æ•°è¿›è¡Œï¼Œä»åŸæ•°ç»„ä¸­åˆ‡å‰²å‡ºä¸€ä¸ªæ–°æ•°ç»„ã€‚ 12345import numpy as np a = np.arange(10) b = a[2:7:2] # ä»ç´¢å¼• 2 å¼€å§‹åˆ°ç´¢å¼• 7 åœæ­¢ï¼Œé—´éš”ä¸º 2print(b) æ•°ç»„çš„è¯¦ç»†ä»‹ç» https://www.runoob.com/numpy/numpy-ndexing-and-slicing.html è¿˜æ˜¯éœ€è¦ç”¨åˆ°å¾ªç¯ç»“æœ è¿›è¡Œ30såˆ‡ç‰‡ï¼Œå¹¶å¾—åˆ°RRç³»åˆ—ï¼š 12345678910i = 0locs_30s = []RR = []while locs[i] &lt; 7500: locs_30s.append(locs[i]) RR.append(locs[i+1] - locs[i]) i += 1RR.pop()print(RR)[215, 223, 230, 224, 226, 223, 221, 227, 221, 215, 216, 213, 217, 227, 237, 245, 242, 239, 247, 249, 246, 239, 231, 234, 235, 237, 236, 226, 222, 224, 228, 226] å¾ªç¯åˆ‡ç‰‡å…ˆä¸ç®¡RRç³»åˆ— 12345678910111213141516171819202122232425# è€ƒè™‘å®ƒçš„ç‰‡æ®µä¸ªæ•°240# å…ˆè€ƒè™‘ECGç‰‡æ®µçš„åˆ†æ®µï¼Œåˆ†ä¸º240ä¸ª30sçš„æ•°æ®ï¼Œæ¯•ç«Ÿè¿™ä¸ªä¸ºç­‰è·ç¦»çš„ï¼Œåˆ—è¡¨é‡Œé¢æ”¾åˆ—è¡¨# å»ºç«‹ä¸€ä¸ªç©ºå…ƒç»„tuple1 = []i = 0while i &lt; (ECG_LEN / 250 / 30) - 1: j = 0 locs_30s = []# RR = [] while locs[j] &lt; 7500 * (i + 1): if locs[j] &gt;= 7500 * i: locs_30s.append(locs[j])# C = locs[j+1] - locs[j]# RR.append(C) j+=1 print(locs_30s) tuple1.append(locs_30s) i += 1print(i)print(tuple1)[19, 234, 457, 687, 911, 1137, 1360, 1581, 1808, 2029, 2244, 2460, 2673, 2890, 3117, 3354, 3599, 3841, 4080, 4327, 4576, 4822, 5061, 5292, 5526, 5761, 5998, 6234, 6460, 6682, 6906, 7134, 7360][7578, 7787, 7993, 8202, 8418, 8643, 8874, 9104, 9352, 9606, 9857, 10106, 10343, 10577, 10808, 11038, 11268, 11490, 11710, 11933, 12165, 12407, 12647, 12873, 13093, 13306, 13520, 13736, 13954, 14176, 14414, 14664, 14912][15159, 15400, 15634, 15875, 16114, 16352, 16583, 16809, 17038, 17266, 17497, 17728, 17946, 18159, 18368, 18575, 18787, 19007, 19230, 19455, 19691, 19934, 20178, 20416, 20654, 20898, 21143, 21387, 21619, 21845, 22071, 22301][22532, 22757, 22968, 23180, 23393, 23612, 23842, 24077, 24325, 24582, 24846, 25109, 25362, 25608, 25856, 26106, 26356, 26598, 26830, 27055, 27280, 27498, 27710, 27921, 28133, 28352, 28585, 28819, 29057, 29306, 29554, 29798][30054, 30314, 30573, 30824, 31070, 31313, 31555, 31793, 32029, 32258, 32490, 32727, 32961, 33195, 33425, 33652, 33880, 34110, 34337, 34562, 34782, 35007, 35236, 35473, 35710, 35943, 36174, 36409, 36653, 36899, 37138, 37369] å¾—åˆ°ä¸€ä¸ªå¤§çš„åˆ—è¡¨ï¼Œé‡Œé¢åŒ…å«å¾ˆå¤šä¸ªå°çš„åˆ—è¡¨ï¼Œ while i &lt; (ECG_LEN / 250 / 30) - 1:åœ¨ç¼–å†™æ—¶ï¼Œä¸€å®šè¦è€ƒè™‘içš„åŒºé—´èŒƒå›´ï¼Œè¦ä¸ç„¶ä¼šè¶…å‡ºèŒƒå›´ï¼Œå¯¼è‡´ç¨‹åºå‡ºé”™ï¼Œè™½ç„¶æœ‰ç»“æœï¼Œä½†æ˜¯æ— æ³•æ­£å¸¸è¿è¡Œï¼Œåœ¨è¿›è¡Œæ—¶é€šè¿‡è®¡ç®—-1å¯å¾—åˆ°å®Œæ•´çš„æ•°æ®ï¼Œæ¯•ç«Ÿåé¢æœ‰ä¸ª while locs[j] &lt; 7500 * (i + 1): 123456789101112131415161718192021list_RR = []i = 0while i &lt; (ECG_LEN / 250 / 30) - 1: j = 0 locs_30s = [] RR = [] while locs[j] &lt; 7500 * (i + 1): if locs[j] &gt;= 7500 * i: locs_30s.append(locs[j]) C = locs[j+1] - locs[j] RR.append(C) j+=1 print(RR) list_RR.append(RR) i += 1print(i)print(list_RR)[215, 223, 230, 224, 226, 223, 221, 227, 221, 215, 216, 213, 217, 227, 237, 245, 242, 239, 247, 249, 246, 239, 231, 234, 235, 237, 236, 226, 222, 224, 228, 226, 218][209, 206, 209, 216, 225, 231, 230, 248, 254, 251, 249, 237, 234, 231, 230, 230, 222, 220, 223, 232, 242, 240, 226, 220, 213, 214, 216, 218, 222, 238, 250, 248, 247][241, 234, 241, 239, 238, 231, 226, 229, 228, 231, 231, 218, 213, 209, 207, 212, 220, 223, 225, 236, 243, 244, 238, 238, 244, 245, 244, 232, 226, 226, 230, 231][225, 211, 212, 213, 219, 230, 235, 248, 257, 264, 263, 253, 246, 248, 250, 250, 242, 232, 225, 225, 218, 212, 211, 212, 219, 233, 234, 238, 249, 248, 244, 256] å¾—åˆ°ä»¥5åˆ†é’Ÿä¸ºç‰‡æ®µçš„30sæ»‘çª—çš„çŸ©é˜µ 123456789101112131415161718list_RR = []i = 0while i &lt; (ECG_LEN / 250 / 30) - 11: j = 0 locs_300s = [] RR = [] while locs[j] &lt; 75000 + 7500 * i: if locs[j] &gt;= 7500 * i: locs_30s.append(locs[j]) C = locs[j+1] - locs[j] RR.append(C) j+=1 RR.pop() # åˆ é™¤åˆ—è¡¨çš„æœ€åä¸€ä¸ªï¼Œæ¯•ç«Ÿå°†æ•°æ®å¤šåŠ äº†ä¸€ä¸ª1ï¼Œè¿›è¡Œäº†è¿ç®— print(RR) list_RR.append(RR) # å°†æ¯ä¸ªè¿è¡Œçš„åˆ—è¡¨å åŠ åœ¨ä¸€ä¸ªåˆ—è¡¨ä¸Šï¼Œæ„æˆä¸€ä¸ªå¤§çš„åˆ—è¡¨ i += 1print(list_RR)[215, 223, 230, 224, 226, 223, 221, 227, 221, 215, 216, 213, 217, 227, 237, 245, 242, 239, 247, 249, 246, 239, 231, 234, 235, 237, 236, 226, 222, 224, 228, 226, 218, 209, 206, 209, 216, 225, 231, 230, 248, 254, 251, 249, 237, 234, 231, 230, 230, 222, 220, 223, 232, 242, 240, 226, 220, 213, 214, 216, 218, 222, 238, 250, 248, 247, 241, 234, 241, 239, 238, 231, 226, 229, 228, 231, 231, 218, 213, 209, 207, 212, 220, 223, 225, 236, 243, 244, 238, 238, 244, 245, 244, 232, 226, 226, 230, 231, 225, 211, 212, 213, 219, 230, 235, 248, 257, 264, 263, 253, 246, 248, 250, 250, 242, 232, 225, 225, 218, 212, 211, 212, 219, 233, 234, 238, 249, 248, 244, 256, 260, 259, 251, 246, 243, 242, 238, 236, 229, 232, 237, 234, 234, 230, 227, 228, 230, 227, 225, 220, 225, 229, 237, 237, 233, 231, 235, 244, 246, 239, 231, 231, 229, 228, 226, 222, 226, 224, 214, 215, 212, 216, 223, 232, 236, 238, 232, 240, 244, 248, 239, 232, 231, 231, 232, 230, 227, 226, 235, 238, 238, 233, 227, 223, 214, 207, 202, 204, 210, 227, 245, 258, 254, 251, 255, 246, 248, 237, 227, 230, 227, 227, 230, 229, 232, 237, 239, 237, 230, 227, 235, 237, 234, 228, 230, 221, 222, 220, 221, 234, 244, 250, 247, 242, 247, 248, 247, 242, 231, 230, 232, 233, 233, 228, 227, 228, 229, 229, 217, 207, 207, 207, 213, 221, 227, 227, 228, 234, 238, 237, 230, 231, 234, 234, 232, 225, 222, 224, 229, 233, 225, 226, 228, 231, 234, 224, 217, 225, 231, 240, 246, 241, 240, 247, 254, 249, 234, 237, 236, 242, 241, 234, 227, 223, 214, 209, 208, 207, 210, 219, 227, 234, 235, 231, 238, 237, 238, 236, 231, 224, 226, 222, 214, 207, 206, 212, 220, 230, 233, 233, 236, 243, 246, 244] ä¸¤ç§æƒ…å†µéƒ½å¾—åˆ°ç»“æœ ä¸‹ä¸€æ­¥ï¼šå¾—åˆ°RRåºåˆ—ï¼Œé¦–å…ˆæŸ¥çœ‹ï¼Œé‚£ä¸ªåº“ï¼Œç„¶åè¿›è¡Œæ—¶é¢‘åŸŸåˆ†æï¼Œæˆ‘è§‰å¾—è¿˜æ˜¯è¦æ¶ˆé™¤å¼‚å¸¸ç‚¹ï¼Œæ¯•ç«Ÿä¸ºäº†åé¢åšå‡†å¤‡ï¼Œè¿˜å¯ä»¥å°†å…¶ä½œä¸ºä¸€ä¸ªæ—¶åŸŸç‰¹å¾ã€‚","categories":[],"tags":[]},{"title":"python__æ»‘åŠ¨åˆ‡ç‰‡","slug":"python/python-æ»‘åŠ¨åˆ‡ç‰‡","date":"2020-02-08T02:33:27.000Z","updated":"2020-02-08T02:33:27.000Z","comments":true,"path":"2020/02/08/python/python-æ»‘åŠ¨åˆ‡ç‰‡/","link":"","permalink":"https://esyyes.github.io/2020/02/08/python/python-%E6%BB%91%E5%8A%A8%E5%88%87%E7%89%87/","excerpt":"","text":"PYTHONâ€”â€”æ»‘åŠ¨åˆ‡ç‰‡éœ€æ±‚ï¼š1.æ‰€éœ€è¦çš„æ•°æ®æ˜¯ä»¥5åˆ†é’Ÿä¸ºçŸ­ç¨‹åˆ†æ 2.æ³¨é‡Šæ˜¯ä»¥30ç§’ä¸ºä¸€ä¸ªé—´æœŸ 3.ä»¥5åˆ†é’Ÿä¸ºç‰‡æ®µï¼Œ30ç§’ä¸ºæ»‘åŠ¨çª—å£ï¼Œè€ƒè™‘æ ·æœ¬é‡‡æ ·ç‡ä¸º250ï¼Œæ»‘åŠ¨çš„é—´éš”ä¸º250*30=7500ä¸ªæ•°æ®ç‚¹ 4.ç›´æ¥ç”¨é‡‡æ ·å³°å€¼ç‚¹æ¥è¿›è¡Œåˆ‡ç‰‡ï¼Œæœ€åæ”¾å…¥ä¸€ä¸ªï¼ˆï¼‰ä¸­ï¼Œæ¯ä¸ªé—´éš”ä¸ºå°çŸ©é˜µ è‹¥ä¸ºäº†å¥½å†™çš„è¯ï¼Œå¯ä»¥ç›´æ¥åœ¨pythoné‡Œé¢æ‰¾ptç®—æ³•ï¼Œåœ¨æ‰¾å¼‚å¸¸ç‚¹ï¼Œåœ¨å¾ªç¯ï¼ŒæŒ‰ç…§matlabçš„æ­¥éª¤ åé¢åˆ†æçš„è¿˜æ˜¯è¿™ä¸ªå…¬å¼€æ•°æ®åº“çš„æ•°æ®ï¼Œæ‰€ä»¥æˆ‘å¯ä»¥ç›´æ¥æŒ‰ç…§å³°å€¼ç‚¹æ¥è¿›è¡Œè®¡ç®—ã€‚ æ•°æ®æ ·æœ¬ç›´æ¥æŒ‰ç…§è¯»å–çš„å³°å€¼ç‚¹è¿›è¡Œæå–å³å¯ã€‚ 1.é€‰å–5åˆ†é’Ÿä½œä¸ºåˆ‡ç‰‡é¦–å…ˆåˆ¤å®šé‡Œé¢æ•°æ®çš„ç±»å‹ 1234567891011print(type(locs))print(type(ECG))[[0.085] [0.08 ] [0.125] ... [0.23 ] [0.235] [0.225]]&lt;class 'numpy.ndarray'&gt;&lt;class 'numpy.ndarray'&gt; 1.1 æ•°æ®ç³»åˆ—å¤ä¹ ä¸‹1.1.1å­—ç¬¦ä¸²å­—ç¬¦ä¸²æ˜¯ Python ä¸­æœ€å¸¸ç”¨çš„æ•°æ®ç±»å‹ã€‚æˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨å¼•å·æ¥åˆ›å»ºå­—ç¬¦ä¸²ã€‚name1 = â€˜Tomâ€™ æ§åˆ¶å°æ˜¾ç¤ºç»“æœä¸º&lt;class &#39;str&#39;&gt;ï¼Œ å³æ•°æ®ç±»å‹ä¸ºstr(å­—ç¬¦ä¸²)ã€‚ 1234567name = input('è¯·è¾“å…¥æ‚¨çš„åå­—ï¼š')print(f'æ‚¨è¾“å…¥çš„åå­—æ˜¯&#123;name&#125;')print(type(name))password = input('è¯·è¾“å…¥æ‚¨çš„å¯†ç ï¼š')print(f'æ‚¨è¾“å…¥çš„å¯†ç æ˜¯&#123;password&#125;')print(type(password)) 1.1.2 ä¸‹æ ‡12345name = \"abcdef\"å–åˆ°ä¸åŒä¸‹æ ‡å¯¹åº”çš„æ•°æ®print(name[1])print(name[0])print(name[2]) 1.1.3 åˆ‡ç‰‡1åºåˆ—[å¼€å§‹ä½ç½®ä¸‹æ ‡:ç»“æŸä½ç½®ä¸‹æ ‡:æ­¥é•¿] æ³¨æ„ 1. ä¸åŒ…å«ç»“æŸä½ç½®ä¸‹æ ‡å¯¹åº”çš„æ•°æ®ï¼Œ æ­£è´Ÿæ•´æ•°å‡å¯ï¼› 2. æ­¥é•¿æ˜¯é€‰å–é—´éš”ï¼Œæ­£è´Ÿæ•´æ•°å‡å¯ï¼Œé»˜è®¤æ­¥é•¿ä¸º1ã€‚1234567891011name = \"abcdefg\"print(name[2:5:1]) # cdeprint(name[2:5]) # cdeprint(name[:5]) # abcdeprint(name[1:]) # bcdefgprint(name[:]) # abcdefgprint(name[::2]) # acegprint(name[:-1]) # abcdef, è´Ÿ1è¡¨ç¤ºå€’æ•°ç¬¬ä¸€ä¸ªæ•°æ®print(name[-4:-1]) # defprint(name[::-1]) # gfedcba 1.1.4æŸ¥æ‰¾æ‰€è°“å­—ç¬¦ä¸²æŸ¥æ‰¾æ–¹æ³•å³æ˜¯æŸ¥æ‰¾å­ä¸²åœ¨å­—ç¬¦ä¸²ä¸­çš„ä½ç½®æˆ–å‡ºç°çš„æ¬¡æ•°ã€‚ find()ï¼šæ£€æµ‹æŸä¸ªå­ä¸²æ˜¯å¦åŒ…å«åœ¨è¿™ä¸ªå­—ç¬¦ä¸²ä¸­ï¼Œå¦‚æœåœ¨è¿”å›è¿™ä¸ªå­ä¸²å¼€å§‹çš„ä½ç½®ä¸‹æ ‡ï¼Œå¦åˆ™åˆ™è¿”å›-1ã€‚ 1å­—ç¬¦ä¸²åºåˆ—.find(å­ä¸², å¼€å§‹ä½ç½®ä¸‹æ ‡, ç»“æŸä½ç½®ä¸‹æ ‡) æ³¨æ„ï¼šå¼€å§‹å’Œç»“æŸä½ç½®ä¸‹æ ‡å¯ä»¥çœç•¥ï¼Œè¡¨ç¤ºåœ¨æ•´ä¸ªå­—ç¬¦ä¸²åºåˆ—ä¸­æŸ¥æ‰¾ã€‚ 12345mystr = \"hello world and itcast and itheima and Python\"print(mystr.find('and')) # 12print(mystr.find('and', 15, 30)) # 23print(mystr.find('ands')) # -1 index()ï¼šæ£€æµ‹æŸä¸ªå­ä¸²æ˜¯å¦åŒ…å«åœ¨è¿™ä¸ªå­—ç¬¦ä¸²ä¸­ï¼Œå¦‚æœåœ¨è¿”å›è¿™ä¸ªå­ä¸²å¼€å§‹çš„ä½ç½®ä¸‹æ ‡ï¼Œå¦åˆ™åˆ™æŠ¥å¼‚å¸¸ã€‚ count()ï¼šè¿”å›æŸä¸ªå­ä¸²åœ¨å­—ç¬¦ä¸²ä¸­å‡ºç°çš„æ¬¡æ•° ä¸‹æ ‡ è®¡ç®—æœºä¸ºæ•°æ®åºåˆ—ä¸­æ¯ä¸ªå…ƒç´ åˆ†é…çš„ä»0å¼€å§‹çš„ç¼–å· åˆ‡ç‰‡ 1åºåˆ—å[å¼€å§‹ä½ç½®ä¸‹æ ‡:ç»“æŸä½ç½®ä¸‹æ ‡:æ­¥é•¿] å¸¸ç”¨æ“ä½œæ–¹æ³• find() index() 1.1.2åˆ—è¡¨12345678910111213141516L.append(var) #è¿½åŠ å…ƒç´ L.insert(index,var)L.pop(var) #è¿”å›æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå¹¶ä»listä¸­åˆ é™¤ä¹‹L.remove(var) #åˆ é™¤ç¬¬ä¸€æ¬¡å‡ºç°çš„è¯¥å…ƒç´ L.count(var) #è¯¥å…ƒç´ åœ¨åˆ—è¡¨ä¸­å‡ºç°çš„ä¸ªæ•°L.index(var) #è¯¥å…ƒç´ çš„ä½ç½®,æ— åˆ™æŠ›å¼‚å¸¸L.extend(list6) #è¿½åŠ listï¼–ï¼Œå³åˆå¹¶liståˆ°Lä¸Š,è¿™é‡Œæ³¨æ„ï¼Œä½¿ç”¨extendå‡½æ•°å¯ä»¥ä¸€æ¬¡åœ¨ä¸€ä¸ªåˆ—è¡¨ä¸­æ’å…¥ä»»æ„å¤šä¸ªå€¼ï¼Œè€Œä¸å¿…é¡»æ¯æ¬¡åªä½¿ç”¨append()ä¸€æ¬¡ä¸€å€¼çš„æ’å…¥L.sort() #æ’åºL.reverse() #å€’åºdel L[1] #åˆ é™¤æŒ‡å®šä¸‹æ ‡çš„å…ƒç´ del L[1:3] #åˆ é™¤æŒ‡å®šä¸‹æ ‡èŒƒå›´çš„å…ƒç´ #å¤åˆ¶list:L1 = L #L1ä¸ºLçš„åˆ«åï¼Œç”¨Cæ¥è¯´å°±æ˜¯æŒ‡é’ˆåœ°å€ç›¸åŒï¼Œå¯¹L1æ“ä½œå³å¯¹Læ“ä½œã€‚L1 = L[:] #L1ä¸ºLçš„å…‹éš†ï¼Œå³å¦ä¸€ä¸ªæ‹·è´ã€‚https://blog.csdn.net/liuyanfeier/article/details/53731239 1[æ•°æ®1, æ•°æ®2, æ•°æ®3, æ•°æ®4......] åˆ—è¡¨å¯ä»¥ä¸€æ¬¡æ€§å­˜å‚¨å¤šä¸ªæ•°æ®ï¼Œä¸”å¯ä»¥ä¸ºä¸åŒæ•°æ®ç±»å‹ã€‚ 1.1.2.1 ä¸‹æ ‡12345name_list = ['Tom', 'Lily', 'Rose']print(name_list[0]) # Tomprint(name_list[1]) # Lilyprint(name_list[2]) # Rose 1.1.2.2 å‡½æ•° index()ï¼šè¿”å›æŒ‡å®šæ•°æ®æ‰€åœ¨ä½ç½®çš„ä¸‹æ ‡ ã€‚ è¯­æ³• 1åˆ—è¡¨åºåˆ—.index(æ•°æ®, å¼€å§‹ä½ç½®ä¸‹æ ‡, ç»“æŸä½ç½®ä¸‹æ ‡) å¿«é€Ÿä½“éªŒ 123name_list = ['Tom', 'Lily', 'Rose']print(name_list.index('Lily', 0, 2)) # 1 æ³¨æ„ï¼šå¦‚æœæŸ¥æ‰¾çš„æ•°æ®ä¸å­˜åœ¨åˆ™æŠ¥é”™ã€‚ count()ï¼šç»Ÿè®¡æŒ‡å®šæ•°æ®åœ¨å½“å‰åˆ—è¡¨ä¸­å‡ºç°çš„æ¬¡æ•°ã€‚ 123name_list = ['Tom', 'Lily', 'Rose']print(name_list.count('Lily')) # 1 len()ï¼šè®¿é—®åˆ—è¡¨é•¿åº¦ï¼Œå³åˆ—è¡¨ä¸­æ•°æ®çš„ä¸ªæ•°ã€‚ 123name_list = ['Tom', 'Lily', 'Rose']print(len(name_list)) # 3 1.1.2.3 å¢åŠ ä½œç”¨ï¼šå¢åŠ æŒ‡å®šæ•°æ®åˆ°åˆ—è¡¨ä¸­ã€‚ append()ï¼šåˆ—è¡¨ç»“å°¾è¿½åŠ æ•°æ®ã€‚ è¯­æ³• 1åˆ—è¡¨åºåˆ—.append(æ•°æ®) ä½“éªŒ 123456name_list = ['Tom', 'Lily', 'Rose']name_list.append('xiaoming')# ç»“æœï¼š['Tom', 'Lily', 'Rose', 'xiaoming']print(name_list) åˆ—è¡¨è¿½åŠ æ•°æ®çš„æ—¶å€™ï¼Œç›´æ¥åœ¨åŸåˆ—è¡¨é‡Œé¢è¿½åŠ äº†æŒ‡å®šæ•°æ®ï¼Œå³ä¿®æ”¹äº†åŸåˆ—è¡¨ï¼Œæ•…åˆ—è¡¨ä¸ºå¯å˜ç±»å‹æ•°æ®ã€‚ æ³¨æ„ç‚¹ å¦‚æœappend()è¿½åŠ çš„æ•°æ®æ˜¯ä¸€ä¸ªåºåˆ—ï¼Œåˆ™è¿½åŠ æ•´ä¸ªåºåˆ—åˆ°åˆ—è¡¨ 123456name_list = ['Tom', 'Lily', 'Rose']name_list.append(['xiaoming', 'xiaohong'])# ç»“æœï¼š['Tom', 'Lily', 'Rose', ['xiaoming', 'xiaohong']]print(name_list) extend()ï¼šåˆ—è¡¨ç»“å°¾è¿½åŠ æ•°æ®ï¼Œå¦‚æœæ•°æ®æ˜¯ä¸€ä¸ªåºåˆ—ï¼Œåˆ™å°†è¿™ä¸ªåºåˆ—çš„æ•°æ®é€ä¸€æ·»åŠ åˆ°åˆ—è¡¨ã€‚ è¯­æ³• 1åˆ—è¡¨åºåˆ—.extend(æ•°æ®) å¿«é€Ÿä½“éªŒ 2.1 å•ä¸ªæ•°æ® 123456name_list = ['Tom', 'Lily', 'Rose']name_list.extend('xiaoming')# ç»“æœï¼š['Tom', 'Lily', 'Rose', 'x', 'i', 'a', 'o', 'm', 'i', 'n', 'g']print(name_list) â€‹ 2.2 åºåˆ—æ•°æ® 123456name_list = ['Tom', 'Lily', 'Rose']name_list.extend(['xiaoming', 'xiaohong'])# ç»“æœï¼š['Tom', 'Lily', 'Rose', 'xiaoming', 'xiaohong']print(name_list) insert()ï¼šæŒ‡å®šä½ç½®æ–°å¢æ•°æ®ã€‚ è¯­æ³• 1åˆ—è¡¨åºåˆ—.insert(ä½ç½®ä¸‹æ ‡, æ•°æ®) å¿«é€Ÿä½“éªŒ 123456name_list = ['Tom', 'Lily', 'Rose']name_list.insert(1, 'xiaoming')# ç»“æœï¼š['Tom', 'xiaoming', 'Lily', 'Rose']print(name_list) 1.1.2.4 åˆ é™¤ del è¯­æ³• 1del ç›®æ ‡ å¿«é€Ÿä½“éªŒ 2.1 åˆ é™¤åˆ—è¡¨ 12345name_list = ['Tom', 'Lily', 'Rose']# ç»“æœï¼šæŠ¥é”™æç¤ºï¼šname 'name_list' is not defineddel name_listprint(name_list) â€‹ 2.2 åˆ é™¤æŒ‡å®šæ•°æ® 123456name_list = ['Tom', 'Lily', 'Rose']del name_list[0]# ç»“æœï¼š['Lily', 'Rose']print(name_list) pop()ï¼šåˆ é™¤æŒ‡å®šä¸‹æ ‡çš„æ•°æ®(é»˜è®¤ä¸ºæœ€åä¸€ä¸ª)ï¼Œå¹¶è¿”å›è¯¥æ•°æ®ã€‚ è¯­æ³• 1åˆ—è¡¨åºåˆ—.pop(ä¸‹æ ‡) å¿«é€Ÿä½“éªŒ 123456789name_list = ['Tom', 'Lily', 'Rose']del_name = name_list.pop(1)# ç»“æœï¼šLilyprint(del_name)# ç»“æœï¼š['Tom', 'Rose']print(name_list) remove()ï¼šç§»é™¤åˆ—è¡¨ä¸­æŸä¸ªæ•°æ®çš„ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹ã€‚ è¯­æ³• 1åˆ—è¡¨åºåˆ—.remove(æ•°æ®) å¿«é€Ÿä½“éªŒ 123456name_list = ['Tom', 'Lily', 'Rose']name_list.remove('Rose')# ç»“æœï¼š['Tom', 'Lily']print(name_list) clear()ï¼šæ¸…ç©ºåˆ—è¡¨ 1234name_list = ['Tom', 'Lily', 'Rose']name_list.clear()print(name_list) # ç»“æœï¼š [] 1.1.2.5 ä¿®æ”¹ ä¿®æ”¹æŒ‡å®šä¸‹æ ‡æ•°æ® 123456name_list = ['Tom', 'Lily', 'Rose']name_list[0] = 'aaa'# ç»“æœï¼š['aaa', 'Lily', 'Rose']print(name_list) é€†ç½®ï¼šreverse() 123456num_list = [1, 5, 2, 3, 6, 8]num_list.reverse()# ç»“æœï¼š[8, 6, 3, 2, 5, 1]print(num_list) 1.1.2.6 åˆ—è¡¨çš„å¾ªç¯éå†éœ€æ±‚ï¼šä¾æ¬¡æ‰“å°åˆ—è¡¨ä¸­çš„å„ä¸ªæ•°æ®ã€‚ while ä»£ç  123456name_list = ['Tom', 'Lily', 'Rose']i = 0while i &lt; len(name_list): print(name_list[i]) i += 1 æ‰§è¡Œç»“æœ for ä»£ç  1234name_list = ['Tom', 'Lily', 'Rose']for i in name_list: print(i) æ‰§è¡Œç»“æœ åˆ—è¡¨åµŒå¥—æ‰€è°“åˆ—è¡¨åµŒå¥—æŒ‡çš„å°±æ˜¯ä¸€ä¸ªåˆ—è¡¨é‡Œé¢åŒ…å«äº†å…¶ä»–çš„å­åˆ—è¡¨ã€‚ åº”ç”¨åœºæ™¯ï¼šè¦å­˜å‚¨ç­çº§ä¸€ã€äºŒã€ä¸‰ä¸‰ä¸ªç­çº§å­¦ç”Ÿå§“åï¼Œä¸”æ¯ä¸ªç­çº§çš„å­¦ç”Ÿå§“ååœ¨ä¸€ä¸ªåˆ—è¡¨ã€‚ 1name_list = [['å°æ˜', 'å°çº¢', 'å°ç»¿'], ['Tom', 'Lily', 'Rose'], ['å¼ ä¸‰', 'æå››', 'ç‹äº”']] æ€è€ƒï¼š å¦‚ä½•æŸ¥æ‰¾åˆ°æ•°æ®â€æå››â€ï¼Ÿ 12345# ç¬¬ä¸€æ­¥ï¼šæŒ‰ä¸‹æ ‡æŸ¥æ‰¾åˆ°æå››æ‰€åœ¨çš„åˆ—è¡¨print(name_list[2])# ç¬¬äºŒæ­¥ï¼šä»æå››æ‰€åœ¨çš„åˆ—è¡¨é‡Œé¢ï¼Œå†æŒ‰ä¸‹æ ‡æ‰¾åˆ°æ•°æ®æå››print(name_list[2][1]) æ€»ç»“ åˆ—è¡¨çš„æ ¼å¼ 1[æ•°æ®1, æ•°æ®2, æ•°æ®3] å¸¸ç”¨æ“ä½œæ–¹æ³• index() len() append() pop() remove() åˆ—è¡¨åµŒå¥— 12name_list = [['å°æ˜', 'å°çº¢', 'å°ç»¿'], ['Tom', 'Lily', 'Rose'], ['å¼ ä¸‰', 'æå››', 'ç‹äº”']]name_list[2][1] æ€»ç»“ååº”è¿‡æ¥äº†è¿™æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæˆ‘éœ€è¦å°†ä»–åˆ‡ç‰‡æ”¾è¿›åˆ—è¡¨ä¸­ï¼Œå¤ªä¹…æ²¡å­¦ä¹ äº†è„‘å£³ç–¼ã€‚","categories":[],"tags":[]},{"title":"python__è·å–MITæ•°æ®","slug":"python/python-è·å–MITæ•°æ®","date":"2020-02-07T06:06:46.000Z","updated":"2020-02-07T06:06:46.000Z","comments":true,"path":"2020/02/07/python/python-è·å–MITæ•°æ®/","link":"","permalink":"https://esyyes.github.io/2020/02/07/python/python-%E8%8E%B7%E5%8F%96MIT%E6%95%B0%E6%8D%AE/","excerpt":"","text":"python__è·å–MITæ•°æ®1.æ•°æ®åº“æ‰€åœ¨ä½ç½®ï¼šF:\\MITDAT 2.æ•°æ®ä¿å­˜æ ¼å¼ï¼šst,dat,ecg,hea 3.åˆ©ç”¨pycharmè¯»å–datæ•°æ®ï¼Œå¹¶ä¸”å­˜ä¸ºå¯è¯»æ ¼å¼ 123456789101112131415161718192021222324252627282930313233343536373839# ä¸‹è½½å¯¹åº”çš„æ•°æ®åº“æ•°æ®ï¼Œä¿å­˜ä½ç½®ï¼šF:\\MITDAT# è¯»å–å¯¹åº”æ•°æ®åº“çš„datæ•°æ®import wfdb as wfdbimport numpy as np'''è¯»å–å¿ƒç”µä¿¡å·æ–‡ä»¶sampfrom: è®¾ç½®è¯»å–å¿ƒç”µä¿¡å·çš„ èµ·å§‹ä½ç½®ï¼Œsampfrom=0è¡¨ç¤ºä»0å¼€å§‹è¯»å–ï¼Œé»˜è®¤ä»0å¼€å§‹samptoï¼šè®¾ç½®è¯»å–å¿ƒç”µä¿¡å·çš„ ç»“æŸä½ç½®ï¼Œsampto = 1500è¡¨ç¤ºä»1500å‡ºç»“æŸï¼Œé»˜è®¤è¯»åˆ°æ–‡ä»¶æœ«å°¾channel_namesï¼šè®¾ç½®è®¾ç½®è¯»å–å¿ƒç”µä¿¡å·åå­—ï¼Œå¿…é¡»æ˜¯åˆ—è¡¨ï¼Œchannel_names=['MLII']è¡¨ç¤ºè¯»å–MLIIå¯¼è”çº¿channelsï¼šè®¾ç½®è¯»å–ç¬¬å‡ ä¸ªå¿ƒç”µä¿¡å·ï¼Œå¿…é¡»æ˜¯åˆ—è¡¨ï¼Œchannels=[0, 3]è¡¨ç¤ºè¯»å–ç¬¬0å’Œç¬¬3ä¸ªä¿¡å·ï¼Œæ³¨æ„ä¿¡å·æ•°ä¸ç¡®å®š:return:'''# record = wfdb.rdrecord('F:/MITDAT/slp01a', sampfrom=0, sampto = 1500)# record = wfdb.rdrecord('F:/MITDAT/slp01a', sampfrom=0, sampto = 1500)# ä»…ä»…è¯»å–â€œECGâ€ä¿¡å·# record = wfdb.rdrecord('F:/MITDAT/slp01a', sampto=1500, channel_names=['ECG'])# ä»…ä»…è¯»å–ç¬¬0ä¸ªä¿¡å·ï¼ˆECGï¼‰# record = wfdb.rdrecord('F:/MITDAT/slp01a', sampfrom=0, channels=[0])# è¯»å–slp01açš„æ•°æ®ï¼Œsampfromï¼šèµ·å§‹ä½ç½®ï¼Œsamptoï¼šç»“æŸä½ç½®ï¼Œå³å¯å†™åšrecord = wfdb.rdrecord('F:/MITDAT/slp01a')# æŸ¥çœ‹recordç±»å‹print(type(record))# æŸ¥çœ‹ç±»ä¸­çš„æ–¹æ³•å’Œå±æ€§# print(dir(record))# è·å¾—å¿ƒç”µå¯¼è”çº¿ä¿¡å·ï¼Œæœ¬æ–‡è·å¾—æ˜¯4é€šé“çš„ä¿¡å·print(record.p_signal)# è¾“å‡º4é€šé“çš„ä¿¡å·print(np.shape(record.p_signal))# æŸ¥çœ‹å¯¼è”çº¿ä¿¡å·é•¿åº¦print(record.sig_len)# æŸ¥çœ‹æ–‡ä»¶åprint(record.record_name)# æŸ¥çœ‹å¯¼è”çº¿æ¡æ•°ï¼Œæœ¬æ–‡ä¸ºå¯¼è”çº¿æ¡æ•°4print(record.n_sig)# æŸ¥çœ‹ä¿¡å·åç§°ï¼ˆåˆ—è¡¨ï¼‰ï¼Œæœ¬æ–‡å¯¼è”çº¿åç§°['ECG', 'BP', 'EEG (C4-A1)', 'Resp (sum)']print(record.sig_name)# æŸ¥çœ‹é‡‡ç”¨ç‡print(record.fs) ç»“æœå¦‚ä¸‹ï¼š æš‚æ—¶åªéœ€è¦ECGä¿¡å·ï¼Œå³ç¬¬ä¸€ä¸ªå®¢æˆ·ç«¯çš„æ•°æ® 1234567891011121314151617# åªè·å–ECGå¯¹åº”çš„ä¿¡å·import wfdb as wfdbimport numpy as nprecord = wfdb.rdrecord('F:/MITDAT/slp01a', channels=[0])print(record.p_signal)# è¾“å‡º4é€šé“çš„ä¿¡å·print(np.shape(record.p_signal))# æŸ¥çœ‹å¯¼è”çº¿ä¿¡å·é•¿åº¦print(record.sig_len)# æŸ¥çœ‹æ–‡ä»¶åprint(record.record_name)# æŸ¥çœ‹å¯¼è”çº¿æ¡æ•°ï¼Œæœ¬æ–‡ä¸ºå¯¼è”çº¿æ¡æ•°4print(record.n_sig)# æŸ¥çœ‹ä¿¡å·åç§°ï¼ˆåˆ—è¡¨ï¼‰ï¼Œæœ¬æ–‡å¯¼è”çº¿åç§°['ECG', 'BP', 'EEG (C4-A1)', 'Resp (sum)']print(record.sig_name)# æŸ¥çœ‹é‡‡ç”¨ç‡print(record.fs) å³æ‰€éœ€çš„æ•°æ®ä¸ºï¼š 12345import wfdb as wfdbrecord = wfdb.rdrecord('F:/MITDAT/slp01a', channels=[0])# è¾“å‡ºECGé€šé“çš„ä¿¡å·ECG = record.p_signalprint(ECG) è¯»å–Rå³°å€¼ç‚¹ 1234567import wfdb as wfdb# è¯»å–å¿ƒç”µæ•°æ®åº“çš„Rå³°å€¼ç‚¹annotation = wfdb.rdann('F:/MITDAT/slp01a', 'ecg')# æ ‡æ³¨æ¯ä¸€ä¸ªå¿ƒæ‹çš„Ræ³¢çš„å°–é”‹ä½ç½®ï¼Œä¸å¿ƒç”µä¿¡å·å¯¹åº”print(annotation.sample)#symbolå¯¹åº”æ ‡ç­¾,sampleä¸ºRå³°æ‰€åœ¨ä½ç½®ï¼Œsigä¸ºRå³°å€¼# print(annotation.symbol) æå–æ³¨é‡Šä¿¡æ¯ï¼å¯ä»¥æš‚æ—¶ä¸ç”¨ç®¡ç†ï¼Œåˆ°æ—¶é‡æ–°å¯¼å‡ºæ³¨é‡Šä¿¡å·ã€‚ ä¸‹ä¸€æ­¥ã€‚åˆ©ç”¨PTç®—æ³•ï¼Œè¯»å–å³°å€¼ç‚¹ï¼Œåœ¨pythoné‡Œé¢è¯»å– ä¸è¿‡å·²ç»ç›´æ¥è¯»å–å‡ºRå³°å€¼ç‚¹ï¼Œæš‚æ—¶å¯ä¸è€ƒè™‘ã€‚ptç®—æ³•ã€‚ åˆ‡ç‰‡å¾ªç¯å’Œå¯¼å‡ºå³°å€¼ï¼Œæå–æ—¶åŸŸã€‚","categories":[],"tags":[]},{"title":"matlabä¸­çš„æ»‘åŠ¨çª—å£","slug":"matlab/matlabä¸­çš„æ»‘åŠ¨çª—å£","date":"2020-01-07T02:47:29.000Z","updated":"2020-01-07T02:47:29.000Z","comments":true,"path":"2020/01/07/matlab/matlabä¸­çš„æ»‘åŠ¨çª—å£/","link":"","permalink":"https://esyyes.github.io/2020/01/07/matlab/matlab%E4%B8%AD%E7%9A%84%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3/","excerpt":"","text":"è¿›è¡Œæ»‘åŠ¨åŠ çª—Kubios HRVåˆ†æçš„ä¿¡å·åœ¨åŠ è½½æ—¶ä¼šæ¼æ‰åç»­20ç§’çš„æ•°æ®ï¼Œæƒ³è¦å®Œæ•´çš„5åˆ†é’Ÿæ•°æ®ï¼Œå› æ­¤è¾“å‡ºçš„ä¿¡å·å³ä¸º6åˆ†é’Ÿï¼Œä¿æŒè¿è´¯æ€§ï¼Œå³é€‰å–6åˆ†é’Ÿçš„çª—å£ï¼Œä»¥5åˆ†é’Ÿä¸ºæ­¥é•¿è¿›è¡Œç§»åŠ¨åˆ†æã€‚ sliding Windows æ»‘åŠ¨çª—å£ï¼šæ»‘åŠ¨çª—å£ç”±å›ºå®šçš„çª—å£é•¿åº¦å’Œæ»‘åŠ¨é—´éš”ç»„æˆã€‚ ç‰¹ç‚¹ï¼šçª—å£é•¿åº¦å›ºå®šï¼Œæœ‰é‡å ã€‚ æ»‘åŠ¨çª—å£å¤§å°ï¼š5åˆ†é’Ÿå³ï¼š75000 æ€»ç»“ï¼šç¬¨ã€‚ã€‚ã€‚ æ‰¹é‡ä¿å­˜txtæ–‡ä»¶1.æ”¾åœ¨ä¸€ä¸ªçŸ©é˜µä¸­ï¼Œä¼šå‡ºç°ç»´åº¦ä¸åŒçš„æŠ¥é”™é—®é¢˜ 2.ç»¼åˆè€ƒè™‘æ”¾åœ¨ä¸€ä¸ªcellå…ƒåŒ…æ•°ç»„ä¸­ï¼Œæˆ–è€…ç»“æ„ä½“ä¸­ 3.åœ¨è€ƒè™‘æ‰¹é‡ä¿å­˜ å…ƒèƒæ•°ç»„ï¼šç‰¹ç‚¹ï¼š 1.å¯ä»¥å­˜å‚¨å¤§å°ä¸åŒçš„çŸ©é˜µåºåˆ— 2.æ£€ç´¢å†…å®¹æ—¶ï¼Œä½¿ç”¨å¤§æ‹¬å·ä¸‹æ ‡è¿›è¡Œç´¢å¼•ï¼ŒA{1} 3.åŒ…å«å…¶ä»–æ•°ç»„çš„å‰¯æœ¬ï¼Œè€Œä¸åŒ…å«æŒ‡å‘è¿™äº›æ•°ç»„çš„æŒ‡é’ˆï¼Œå³ä¿®æ”¹åŸå€¼ï¼Œå…ƒèƒé‡Œçš„å†…å®¹ä¸å˜ ç»“æ„ä½“ï¼šç»“æ„ä½“æ˜¯å¤šç»´ MATLAB æ•°ç»„ï¼ŒåŒ…å«å¯æŒ‰æ–‡æœ¬å­—æ®µæ ‡å¿—ç¬¦è®¿é—®çš„å…ƒç´ ã€‚ cellï¼ˆ1ï¼Œ1ï¼‰æ˜¯æŸ¥çœ‹å¤§å°å’Œæ ·å¼ cell{1 . 1}æ˜¯è¯»å–å…¨éƒ¨çš„æ•° 123456789101112131415161718192021while i &lt;= m [QRS_pks, QRS_locs, delay] = pan_tompkin(ECG(i, :), fs, 0); [RR] = HRV(QRS_locs);% å¾—åˆ°HRVä¿¡å· [QRS_locs, RR] = Eliminate_outliers(QRS_locs, RR);% æ¶ˆé™¤HRVä¸­çš„RRå¼‚å¸¸å€¼ cell_RR(i, 1) = &#123;RR&#125;; i = i + 1; end332x1 double341x1 double331x1 double321x1 double315x1 double315x1 double301x1 double306x1 double303x1 double305x1 double305x1 double320x1 double322x1 double ä¸¤ä¸ªåˆ†æçš„è½¯ä»¶éƒ½åªèƒ½è¯»å–txtæ–‡ä»¶ã€‚å› æ­¤éœ€è¦è¿›è¡Œæ‰¹é‡ä¿å­˜ä¸ºtxtæ–‡ä»¶ã€‚","categories":[{"name":"matlab","slug":"matlab","permalink":"https://esyyes.github.io/categories/matlab/"}],"tags":[]},{"title":"å»è¶‹åŠ¿æ³¢åŠ¨åˆ†æDFA","slug":"python/å»è¶‹åŠ¿æ³¢åŠ¨åˆ†æDFA","date":"2019-12-26T06:34:05.000Z","updated":"2019-12-26T06:34:05.000Z","comments":true,"path":"2019/12/26/python/å»è¶‹åŠ¿æ³¢åŠ¨åˆ†æDFA/","link":"","permalink":"https://esyyes.github.io/2019/12/26/python/%E5%8E%BB%E8%B6%8B%E5%8A%BF%E6%B3%A2%E5%8A%A8%E5%88%86%E6%9E%90DFA/","excerpt":"","text":"","categories":[],"tags":[]},{"title":"LV-3","slug":"python/pythonè°ƒç”¨wfdb","date":"2019-12-26T02:33:29.000Z","updated":"2019-12-26T02:33:29.000Z","comments":true,"path":"2019/12/26/python/pythonè°ƒç”¨wfdb/","link":"","permalink":"https://esyyes.github.io/2019/12/26/python/python%E8%B0%83%E7%94%A8wfdb/","excerpt":"","text":"pythonä¸­çš„WFDBåº“ä½¿ç”¨1.è·å–MITâ€”â€”PhysioNetæ•°æ®åº“çš„æ‰€æœ‰åº“åç§°1234import wfdb as wfdbdbs = wfdb.get_dbs()print(dbs) è·å–PhysioNetæ‰€æœ‰åº“çš„åç§°åˆ—è¡¨ï¼š [[â€˜adfecgdbâ€™, â€˜Abdominal and Direct Fetal ECG Databaseâ€™], [â€˜aftdbâ€™, â€˜AF Termination Challenge Databaseâ€™], [â€˜ahadbâ€™, â€˜AHA Database [sample excluded record]â€™], [â€˜aami-ec13â€™, â€˜ANSI/AAMI EC13 Test Waveformsâ€™], [â€˜apnea-ecgâ€™, â€˜Apnea-ECG Databaseâ€™], [â€˜chfdbâ€™, â€˜BIDMC Congestive Heart Failure Databaseâ€™], [â€˜bidmcâ€™, â€˜BIDMC PPG and Respiration Datasetâ€™], [â€˜bpssratâ€™, â€˜Blood Pressure in Salt-Sensitive Dahl Ratsâ€™], [â€˜capslpdbâ€™, â€˜CAP Sleep Databaseâ€™], [â€˜crisdbâ€™, â€˜CAST RR Interval Sub-Study Databaseâ€™], [â€˜cvesâ€™, â€˜Cerebral Vasoregulation in Elderly with Strokeâ€™], [â€˜challenge/2009/test-set-aâ€™, â€˜Challenge 2009 Test Set Aâ€™], [â€˜challenge/2009/test-set-bâ€™, â€˜Challenge 2009 Test Set Bâ€™], [â€˜challenge/2010/set-aâ€™, â€˜Challenge 2010 Training Set Aâ€™], [â€˜challenge/2010/set-bâ€™, â€˜Challenge 2010 Test Set Bâ€™], [â€˜challenge/2010/set-câ€™, â€˜Challenge 2010 Test Set Câ€™], [â€˜challenge/2011/simâ€™, â€˜Challenge 2011 Pilot Setâ€™], [â€˜challenge/2011/set-aâ€™, â€˜Challenge 2011 Training Set Aâ€™], [â€˜challenge/2011/set-bâ€™, â€˜Challenge 2011 Test Set Bâ€™], [â€˜challenge/2013/set-aâ€™, â€˜Challenge 2013 Training Set Aâ€™], [â€˜challenge/2013/set-bâ€™, â€˜Challenge 2013 Test Set Bâ€™], [â€˜challenge/2014/set-p2â€™, â€˜Challenge 2014 Extended Training Setâ€™], [â€˜challenge/2014/set-pâ€™, â€˜Challenge 2014 Training Setâ€™], [â€˜challenge/2015/trainingâ€™, â€˜Challenge 2015 Training Setâ€™], [â€˜challenge/2016/training-aâ€™, â€˜Challenge 2016 Training Set Aâ€™], [â€˜challenge/2016/training-bâ€™, â€˜Challenge 2016 Training Set Bâ€™], [â€˜challenge/2016/training-câ€™, â€˜Challenge 2016 Training Set Câ€™], [â€˜challenge/2016/training-dâ€™, â€˜Challenge 2016 Training Set Dâ€™], [â€˜challenge/2016/training-eâ€™, â€˜Challenge 2016 Training Set Eâ€™], [â€˜challenge/2016/training-fâ€™, â€˜Challenge 2016 Training Set Fâ€™], [â€˜challenge/2017/trainingâ€™, â€˜Challenge 2017 Training Setâ€™], [â€˜challenge/2018/trainingâ€™, â€˜Challenge 2018 Training Setâ€™], [â€˜challenge/2018/testâ€™, â€˜Challenge 2018 Test Setâ€™], [â€˜charisdbâ€™, â€˜CHARIS databaseâ€™], [â€˜chbmitâ€™, â€˜CHB-MIT Scalp EEG Databaseâ€™], [â€˜cebsdbâ€™, â€˜Combined measurement of ECG, Breathing and Seismocardiogramsâ€™], [â€˜culmâ€™, â€˜Complex Upper-Limb Movementsâ€™], [â€˜chf2dbâ€™, â€˜Congestive Heart Failure RR Interval Databaseâ€™], [â€˜ctu-uhb-ctgdbâ€™, â€˜CTU-CHB Intrapartum Cardiotocography Databaseâ€™], [â€˜cudbâ€™, â€˜CU Ventricular Tachyarrhythmia Databaseâ€™], [â€˜ecgdmmldâ€™, â€˜ECG Effects of Dofetilide, Moxifloxacin, Dofetilide+Mexiletine, Dofetilide+Lidocaine and Moxifloxacin+Diltiazemâ€™], [â€˜ecgcipaâ€™, â€˜CiPA ECG Validation Studyâ€™], [â€˜ecgrdvqâ€™, â€˜ECG Effects of Ranolazine, Dofetilide, Verapamil, and Quinidineâ€™], [â€˜ecgiddbâ€™, â€˜ECG-ID Databaseâ€™], [â€˜eegmatâ€™, â€˜EEG During Mental Arithmetic Tasksâ€™], [â€˜eegmmidbâ€™, â€˜EEG Motor Movement/Imagery Datasetâ€™], [â€˜ltrsvpâ€™, â€˜EEG Signals from an RSVP Taskâ€™], [â€˜erpbciâ€™, â€˜ERP-based Brain-Computer Interface recordingsâ€™], [â€˜edbâ€™, â€˜European ST-T Databaseâ€™], [â€˜earhâ€™, â€˜Evoked Auditory Responses in Heading Impairedâ€™], [â€˜earndbâ€™, â€˜Evoked Auditory Responses in Normalsâ€™], [â€˜emgdbâ€™, â€˜Examples of Electromyogramsâ€™], [â€˜fantasiaâ€™, â€˜Fantasia Databaseâ€™], [â€˜fecgsyndbâ€™, â€˜Fetal ECG Synthetic Databaseâ€™], [â€˜fpcgdbâ€™, â€˜Fetal PCG Databaseâ€™], [â€˜gaitdbâ€™, â€˜Gait in Aging and Disease Databaseâ€™], [â€˜gaitnddâ€™, â€˜Gait in Neurodegenerative Disease Databaseâ€™], [â€˜gait-maturation-db/dataâ€™, â€˜Gait Maturation Databaseâ€™], [â€˜meditation/dataâ€™, â€˜Heart Rate Oscillations during Meditationâ€™], [â€˜hbedbâ€™, â€˜Human Balance Evaluation Databaseâ€™], [â€˜ehgdbâ€™, â€˜Icelandic 16-electrode Electrohysterogram Databaseâ€™], [â€˜iafdbâ€™, â€˜Intracardiac Atrial Fibrillation Databaseâ€™], [â€˜ltafdbâ€™, â€˜Long Term AF Databaseâ€™], [â€˜ltstdbâ€™, â€˜Long Term ST Databaseâ€™], [â€˜mssvepdbâ€™, â€˜MAMEM SSVEP Databaseâ€™], [â€˜mghdbâ€™, â€˜MGH/MF Waveform Databaseâ€™], [â€˜mimicdbâ€™, â€˜MIMIC Databaseâ€™], [â€˜mimicdb/numericsâ€™, â€˜MIMIC Database Numericsâ€™], [â€˜mimic2cdbâ€™, â€˜MIMIC II Clinical Database Public Subsetâ€™], [â€˜mimic2wdb/30â€™, â€˜MIMIC II/III Waveform Database, part 0â€™], [â€˜mimic2wdb/31â€™, â€˜MIMIC II/III Waveform Database, part 1â€™], [â€˜mimic2wdb/32â€™, â€˜MIMIC II/III Waveform Database, part 2â€™], [â€˜mimic2wdb/33â€™, â€˜MIMIC II/III Waveform Database, part 3â€™], [â€˜mimic2wdb/34â€™, â€˜MIMIC II/III Waveform Database, part 4â€™], [â€˜mimic2wdb/35â€™, â€˜MIMIC II/III Waveform Database, part 5â€™], [â€˜mimic2wdb/36â€™, â€˜MIMIC II/III Waveform Database, part 6â€™], [â€˜mimic2wdb/37â€™, â€˜MIMIC II/III Waveform Database, part 7â€™], [â€˜mimic2wdb/38â€™, â€˜MIMIC II/III Waveform Database, part 8â€™], [â€˜mimic2wdb/39â€™, â€˜MIMIC II/III Waveform Database, part 9â€™], [â€˜mimic2wdb/matchedâ€™, â€˜MIMIC II Waveform Database Matched Subsetâ€™], [â€˜mimic3wdb/matchedâ€™, â€˜MIMIC III Waveform Database Matched Subsetâ€™], [â€˜mitdbâ€™, â€˜MIT-BIH Arrhythmia Databaseâ€™], [â€˜pwaveâ€™, â€˜MIT-BIH Arrhythmia Database P-Wave Annotationsâ€™], [â€˜afdbâ€™, â€˜MIT-BIH Atrial Fibrillation Databaseâ€™], [â€˜cdbâ€™, â€˜MIT-BIH ECG Compression Test Databaseâ€™], [â€˜ltdbâ€™, â€˜MIT-BIH Long-Term ECG Databaseâ€™], [â€˜vfdbâ€™, â€˜MIT-BIH Malignant Ventricular Ectopy Databaseâ€™], [â€˜nstdbâ€™, â€˜MIT-BIH Noise Stress Test Databaseâ€™], [â€˜nsrdbâ€™, â€˜MIT-BIH Normal Sinus Rhythm Databaseâ€™], [â€˜excludedâ€™, â€˜â€¦ [Recordings excluded from the NSR DB]â€™], [â€˜slpdbâ€™, â€˜MIT-BIH Polysomnographic Databaseâ€™], [â€˜stdbâ€™, â€˜MIT-BIH ST Change Databaseâ€™], [â€˜svdbâ€™, â€˜MIT-BIH Supraventricular Arrhythmia Databaseâ€™], [â€˜mmgdbâ€™, â€˜MMG Databaseâ€™], [â€˜macecgdbâ€™, â€˜Motion Artifact Contaminated ECG Databaseâ€™], [â€˜motion-artifactâ€™, â€˜Motion Artifact Contaminated fNIRS and EEG Dataâ€™], [â€˜noneegâ€™, â€˜Non-EEG Dataset for Assessment of Neurological Statusâ€™], [â€˜nifecgdbâ€™, â€˜Non-Invasive Fetal ECG Databaseâ€™], [â€˜nifeadbâ€™, â€˜Non-Invasive Fetal ECG Arrhythmia Databaseâ€™], [â€˜nsr2dbâ€™, â€˜Normal Sinus Rhythm RR Interval Databaseâ€™], [â€˜ob1dbâ€™, â€˜OB-1 Fetal ECG Database [sample record]â€™], [â€˜afpdbâ€™, â€˜PAF Prediction Challenge Databaseâ€™], [â€˜osvâ€™, â€˜Pattern Analysis of Oxygen Saturation Variabilityâ€™], [â€˜prcpâ€™, â€˜Physiologic Response to Changes in Postureâ€™], [â€˜szdbâ€™, â€˜Post-Ictal Heart Rate Oscillations in Partial Epilepsyâ€™], [â€˜picsdbâ€™, â€˜Preterm Infant Cardio-Respiratory Signals Databaseâ€™], [â€˜ptbdbâ€™, â€˜PTB Diagnostic ECG Databaseâ€™], [â€˜qtdbâ€™, â€˜QT Databaseâ€™], [â€˜rvmh1â€™, â€˜Response to Valsalva Maneuver in Humansâ€™], [â€˜sufhsdbâ€™, â€˜Shiraz University Fetal Heart Sounds Databaseâ€™], [â€˜simfpcgdbâ€™, â€˜Simulated Fetal Phonocardiogramsâ€™], [â€˜sleepbrlâ€™, â€˜Sleep Bioradiolocation Databaseâ€™], [â€˜sleep-edfxâ€™, â€˜Sleep-EDF Database [Expanded]â€™], [â€˜shhpsgdbâ€™, â€˜Sleep Heart Health Study PSG Database [sample record]â€™], [â€˜shareedbâ€™, â€˜Smart Health for Assessing the Risk of Events via ECG Databaseâ€™], [â€˜mvtdb/dataâ€™, â€˜Spontaneous Ventricular Tachyarrhythmia Databaseâ€™], [â€˜sgampâ€™, â€˜Squid Giant Axon Membrane Potentialâ€™], [â€˜incartdbâ€™, â€˜St Petersburg INCART 12-lead Arrhythmia Databaseâ€™], [â€˜staffiiiâ€™, â€˜STAFF III Databaseâ€™], [â€˜drivedbâ€™, â€˜Stress Recognition in Automobile Driversâ€™], [â€˜sddbâ€™, â€˜Sudden Cardiac Death Holter Databaseâ€™], [â€˜twadbâ€™, â€˜T-Wave Alternans Challenge Databaseâ€™], [â€˜taichidbâ€™, â€˜Tai Chi, Physiological Complexity, and Healthy Aging - Gaitâ€™], [â€˜tpehgdbâ€™, â€˜Term-Preterm EHG Databaseâ€™], [â€˜tpehgtâ€™, â€˜Term-Preterm EHG DataSet with Tocogram (TPEHGT DS)â€™], [â€˜ucddbâ€™, â€˜UCD Sleep Apnea Databaseâ€™], [â€˜unicapropâ€™, â€˜UniCA ElectroTastegram Database (PROP)â€™], [â€˜videopulseâ€™, â€˜Video Pulse Signals in Stationary and Motion Conditionsâ€™], [â€˜voicedâ€™, â€˜VOice ICar fEDerico II Databaseâ€™], [â€˜wristâ€™, â€˜Wrist PPG During Exerciseâ€™], [â€˜mimic2dbâ€™, â€˜MIMIC II Waveform DB, v2 [deprecated, use v3]â€™], [â€˜mimic2db/numericsâ€™, â€˜MIMIC II Waveform DB, v2 Numerics [deprecated, use v3]â€™], [â€˜sleep-edfâ€™, â€˜Sleep-EDF Database, v1 [deprecated, use sleep-edfx]â€™]] è¿™ä¸ªåˆ—è¡¨å…¶å®åœ¨ç½‘ç«™https://physionet.org/physiobank/database/ä¸­ä¹Ÿå¯ä»¥æŸ¥çœ‹æŸ¥çœ‹ æ‰¾åˆ°æƒ³è¦åˆ†æçš„ç¡çœ æ•°æ®åº“ï¼š [â€˜slpdbâ€™, â€˜MIT-BIH Polysomnographic Databaseâ€™] 2.è·å–æƒ³è¦çš„ç¡çœ æ•°æ®åº“çš„æ‰€æœ‰ä¿¡å·è®°å½•åˆ—è¡¨ç”±ç¬¬ä¸€ä¸ªåº“çŸ¥é“ï¼Œ [â€˜slpdbâ€™, â€˜MIT-BIH Polysomnographic Databaseâ€™]ï¼Œå¯¹åº”çš„æ•°æ®åº“å°±ä¸ºslpdbï¼Œè·å–é‡Œé¢æ‰€æœ‰æ•°æ®é›†çš„åˆ—è¡¨ï¼š 12recs_list = wfdb.get_record_list('slpdb')print(recs_list) [â€˜slp01aâ€™, â€˜slp01bâ€™, â€˜slp02aâ€™, â€˜slp02bâ€™, â€˜slp03â€™, â€˜slp04â€™, â€˜slp14â€™, â€˜slp16â€™, â€˜slp32â€™, â€˜slp37â€™, â€˜slp41â€™, â€˜slp45â€™, â€˜slp48â€™, â€˜slp59â€™, â€˜slp60â€™, â€˜slp61â€™, â€˜slp66â€™, â€˜slp67xâ€™] 3.è·å–å¯¹åº”çš„æ•°æ®åº“é‡Œé¢çš„å†…å®¹","categories":[],"tags":[]},{"title":"matlabä¸­çš„æ’å€¼","slug":"matlab/matlabä¸­çš„æ’å€¼","date":"2019-12-18T00:50:08.000Z","updated":"2019-12-18T00:50:08.000Z","comments":true,"path":"2019/12/18/matlab/matlabä¸­çš„æ’å€¼/","link":"","permalink":"https://esyyes.github.io/2019/12/18/matlab/matlab%E4%B8%AD%E7%9A%84%E6%8F%92%E5%80%BC/","excerpt":"","text":"Matlabä¸­çš„æ’å€¼å‡½æ•° # interp1 ä¸€ç»´æ•°æ®æ’å€¼ï¼ˆè¡¨æŸ¥æ‰¾ï¼‰ è¯­æ³•1234567vq = interp1(x,v,xq)vq = interp1(x,v,xq,method)vq = interp1(x,v,xq,method,extrapolation)vq = interp1(v,xq)vq = interp1(v,xq,method)vq = interp1(v,xq,method,extrapolation)pp = interp1(x,v,method,'pp') è¯´æ˜vq = interp1(x,v,xq) ä½¿ç”¨çº¿æ€§æ’å€¼è¿”å›ä¸€ç»´å‡½æ•°åœ¨ç‰¹å®šæŸ¥è¯¢ç‚¹çš„æ’å…¥å€¼ã€‚å‘é‡ x åŒ…å«æ ·æœ¬ç‚¹ï¼Œv åŒ…å«å¯¹åº”å€¼ v(x)ã€‚å‘é‡ xq åŒ…å«æŸ¥è¯¢ç‚¹çš„åæ ‡ã€‚ å¦‚æœæ‚¨æœ‰å¤šä¸ªåœ¨åŒä¸€ç‚¹åæ ‡é‡‡æ ·çš„æ•°æ®é›†ï¼Œåˆ™å¯ä»¥å°† v ä»¥æ•°ç»„çš„å½¢å¼è¿›è¡Œä¼ é€’ã€‚æ•°ç»„ v çš„æ¯ä¸€åˆ—éƒ½åŒ…å«ä¸€ç»„ä¸åŒçš„ä¸€ç»´æ ·æœ¬å€¼ã€‚ vq = interp1(x,v,xq,method) æŒ‡å®šå¤‡é€‰æ’å€¼æ–¹æ³•ï¼š&#39;linear&#39;ã€&#39;nearest&#39;ã€&#39;next&#39;ã€&#39;previous&#39;ã€&#39;pchip&#39;ã€&#39;cubic&#39;ã€&#39;v5cubic&#39;ã€&#39;makima&#39; æˆ– &#39;spline&#39;ã€‚é»˜è®¤æ–¹æ³•ä¸º &#39;linear&#39;ã€‚ vq = interp1(x,v,xq,method,extrapolation) ç”¨äºæŒ‡å®šå¤–æ’ç­–ç•¥ï¼Œæ¥è®¡ç®—è½åœ¨ x åŸŸèŒƒå›´å¤–çš„ç‚¹ã€‚å¦‚æœå¸Œæœ›ä½¿ç”¨ method ç®—æ³•è¿›è¡Œå¤–æ’ï¼Œå¯å°† extrapolation è®¾ç½®ä¸º &#39;extrap&#39;ã€‚æ‚¨ä¹Ÿå¯ä»¥æŒ‡å®šä¸€ä¸ªæ ‡é‡å€¼ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œinterp1 å°†ä¸ºæ‰€æœ‰è½åœ¨ x åŸŸèŒƒå›´å¤–çš„ç‚¹è¿”å›è¯¥æ ‡é‡å€¼ã€‚ vq = interp1(v,xq) è¿”å›æ’å…¥çš„å€¼ï¼Œå¹¶å‡å®šä¸€ä¸ªæ ·æœ¬ç‚¹åæ ‡é»˜è®¤é›†ã€‚é»˜è®¤ç‚¹æ˜¯ä» 1 åˆ° n çš„æ•°å­—åºåˆ—ï¼Œå…¶ä¸­ nå–å†³äº v çš„å½¢çŠ¶ï¼š å½“ v æ˜¯å‘é‡æ—¶ï¼Œé»˜è®¤ç‚¹æ˜¯ 1:length(v)ã€‚ å½“ v æ˜¯æ•°ç»„æ—¶ï¼Œé»˜è®¤ç‚¹æ˜¯ 1:size(v,1)ã€‚ å¦‚æœæ‚¨ä¸åœ¨æ„ç‚¹ä¹‹é—´çš„ç»å¯¹è·ç¦»ï¼Œåˆ™å¯ä½¿ç”¨æ­¤è¯­æ³•ã€‚ vq = interp1(v,xq,method) æŒ‡å®šå¤‡é€‰æ’å€¼æ–¹æ³•ä¸­çš„ä»»æ„ä¸€ç§ï¼Œå¹¶ä½¿ç”¨é»˜è®¤æ ·æœ¬ç‚¹ã€‚ vq = interp1(v,xq,method,extrapolation) æŒ‡å®šå¤–æ’ç­–ç•¥ï¼Œå¹¶ä½¿ç”¨é»˜è®¤æ ·æœ¬ç‚¹ã€‚ pp = interp1(x,v,method,&#39;pp&#39;) ä½¿ç”¨ method ç®—æ³•è¿”å›åˆ†æ®µå¤šé¡¹å¼å½¢å¼çš„ v(x)ã€‚ æ ¹æ®éœ€æ±‚ç¡®å®šçš„è¯­æ³•ï¼š 1vq = interp1(x,v,xq,method) è¾“å…¥å‚æ•°x :æ ·æœ¬ç‚¹**** x :æ ·æœ¬ç‚¹ï¼ŒæŒ‡å®šä¸ºä¸€è¡Œæˆ–ä¸€åˆ—å®æ•°å‘é‡ã€‚x ä¸­çš„å€¼å¿…é¡»å„ä¸ç›¸åŒã€‚x çš„é•¿åº¦å¿…é¡»ç¬¦åˆä»¥ä¸‹è¦æ±‚ä¹‹ä¸€ï¼š å¦‚æœ v ä¸ºå‘é‡ï¼Œåˆ™ length(x) å¿…é¡»ç­‰äº length(v)ã€‚ å¦‚æœ v ä¸ºæ•°ç»„ï¼Œåˆ™ length(x) å¿…é¡»ç­‰äº size(v,1) V:æ ·æœ¬å€¼ æ ·æœ¬å€¼ï¼ŒæŒ‡å®šä¸ºå®æ•°/å¤æ•°å‘é‡ã€çŸ©é˜µæˆ–æ•°ç»„ã€‚å¦‚æœ v æ˜¯çŸ©é˜µæˆ–æ•°ç»„ï¼Œåˆ™æ¯åˆ—åŒ…å«å•ç‹¬çš„ä¸€ç»„ä¸€ç»´å€¼ã€‚ å¦‚æœ v åŒ…å«å¤æ•°ï¼Œåˆ™ interp1 å°†åˆ†åˆ«æ’å…¥å®éƒ¨å’Œè™šéƒ¨ã€‚ xq: æŸ¥è¯¢ç‚¹ æŸ¥è¯¢ç‚¹ï¼ŒæŒ‡å®šä¸ºå®æ•°æ ‡é‡ã€å‘é‡ã€çŸ©é˜µæˆ–æ•°ç»„ã€‚ method- æ’å€¼æ–¹æ³• æ–¹æ³• è¯´æ˜ è¿ç»­æ€§ æ³¨é‡Š &#39;linear&#39; çº¿æ€§æ’å€¼ã€‚åœ¨æŸ¥è¯¢ç‚¹æ’å…¥çš„å€¼åŸºäºå„ç»´ä¸­é‚»ç‚¹ç½‘æ ¼ç‚¹å¤„æ•°å€¼çš„çº¿æ€§æ’å€¼ã€‚è¿™æ˜¯é»˜è®¤æ’å€¼æ–¹æ³•ã€‚ C0 éœ€è¦è‡³å°‘ 2 ä¸ªç‚¹ã€‚æ¯”æœ€è¿‘é‚»ç‚¹æ’å€¼éœ€è¦æ›´å¤šå†…å­˜å’Œè®¡ç®—æ—¶é—´ã€‚ &#39;nearest&#39; æœ€è¿‘é‚»ç‚¹æ’å€¼ã€‚åœ¨æŸ¥è¯¢ç‚¹æ’å…¥çš„å€¼æ˜¯è·æ ·æœ¬ç½‘æ ¼ç‚¹æœ€è¿‘çš„å€¼ã€‚ ä¸è¿ç»­ éœ€è¦è‡³å°‘ 2 ä¸ªç‚¹ã€‚æœ€ä½å†…å­˜è¦æ±‚æœ€å¿«è®¡ç®—æ—¶é—´ &#39;next&#39; ä¸‹ä¸€ä¸ªé‚»ç‚¹æ’å€¼ã€‚åœ¨æŸ¥è¯¢ç‚¹æ’å…¥çš„å€¼æ˜¯ä¸‹ä¸€ä¸ªæŠ½æ ·ç½‘æ ¼ç‚¹çš„å€¼ã€‚ ä¸è¿ç»­ éœ€è¦è‡³å°‘ 2 ä¸ªç‚¹ã€‚å†…å­˜è¦æ±‚å’Œè®¡ç®—æ—¶é—´ä¸ &#39;nearest&#39; ç›¸åŒ &#39;previous&#39; ä¸Šä¸€ä¸ªé‚»ç‚¹æ’å€¼ã€‚åœ¨æŸ¥è¯¢ç‚¹æ’å…¥çš„å€¼æ˜¯ä¸Šä¸€ä¸ªæŠ½æ ·ç½‘æ ¼ç‚¹çš„å€¼ã€‚ ä¸è¿ç»­ éœ€è¦è‡³å°‘ 2 ä¸ªç‚¹ã€‚å†…å­˜è¦æ±‚å’Œè®¡ç®—æ—¶é—´ä¸ &#39;nearest&#39; ç›¸åŒ &#39;pchip&#39; ä¿å½¢åˆ†æ®µä¸‰æ¬¡æ’å€¼ã€‚åœ¨æŸ¥è¯¢ç‚¹æ’å…¥çš„å€¼åŸºäºé‚»ç‚¹ç½‘æ ¼ç‚¹å¤„æ•°å€¼çš„ä¿å½¢åˆ†æ®µä¸‰æ¬¡æ’å€¼ã€‚ C1 éœ€è¦è‡³å°‘ 4 ä¸ªç‚¹ã€‚æ¯” &#39;linear&#39; éœ€è¦æ›´å¤šå†…å­˜å’Œè®¡ç®—æ—¶é—´ &#39;cubic&#39;æ³¨æ„interp1(...,&#39;cubic&#39;)çš„è¡Œä¸ºåœ¨ä»¥åçš„ç‰ˆæœ¬ä¸­ä¼šæœ‰æ‰€å˜åŒ–ã€‚åœ¨ä»¥åçš„ç‰ˆæœ¬ä¸­ï¼Œæ­¤æ–¹æ³•å°†æ‰§è¡Œä¸‰æ¬¡å·ç§¯ã€‚ ä¸ &#39;pchip&#39; ç›¸åŒã€‚ C1 æ­¤æ–¹æ³•ç›®å‰è¿”å›ä¸ &#39;pchip&#39; ç›¸åŒçš„ç»“æœã€‚ &#39;v5cubic&#39; ç”¨äº MATLABÂ® 5 çš„ä¸‰æ¬¡å·ç§¯ã€‚ C1 ç‚¹ä¹‹é—´çš„é—´è·å¿…é¡»å‡åŒ€ã€‚&#39;cubic&#39; å°†åœ¨ä»¥åçš„ç‰ˆæœ¬ä¸­æ›¿ä»£ &#39;v5cubic&#39;ã€‚ &#39;makima&#39; ä¿®æ”¹åçš„ Akima ä¸‰æ¬¡ Hermite æ’å€¼ã€‚åœ¨æŸ¥è¯¢ç‚¹æ’å…¥çš„å€¼åŸºäºæ¬¡æ•°æœ€å¤§ä¸º 3 çš„å¤šé¡¹å¼çš„åˆ†æ®µå‡½æ•°ã€‚ä¸ºé˜²è¿‡å†²ï¼Œå·²æ”¹è¿› Akima å…¬å¼ã€‚ C1 éœ€è¦è‡³å°‘ 2 ä¸ªç‚¹ã€‚äº§ç”Ÿçš„æ³¢åŠ¨æ¯” &#39;spline&#39; å°ï¼Œä½†ä¸åƒ &#39;pchip&#39; é‚£æ ·æ€¥å‰§å˜å¹³è®¡ç®—æˆæœ¬é«˜äº &#39;pchip&#39;ï¼Œä½†é€šå¸¸ä½äº &#39;spline&#39;å†…å­˜è¦æ±‚ä¸ &#39;spline&#39; ç±»ä¼¼ &#39;spline&#39; ä½¿ç”¨éç»“ç»ˆæ­¢æ¡ä»¶çš„æ ·æ¡æ’å€¼ã€‚åœ¨æŸ¥è¯¢ç‚¹æ’å…¥çš„å€¼åŸºäºå„ç»´ä¸­é‚»ç‚¹ç½‘æ ¼ç‚¹å¤„æ•°å€¼çš„ä¸‰æ¬¡æ’å€¼ã€‚ C2 éœ€è¦è‡³å°‘ 4 ä¸ªç‚¹ã€‚æ¯” &#39;pchip&#39; éœ€è¦æ›´å¤šå†…å­˜å’Œè®¡ç®—æ—¶é—´ é€‰æ‹©splineã€‚å‚è€ƒæ–‡çŒ®ï¼šåŸºäºæ—¶é¢‘åˆ†æçš„å¿ƒç‡å˜å¼‚æ€§ç ”ç©¶ è¾“å‡ºå‡½æ•°vq- è¾“å‡ºçš„æ’å€¼ æ’å…¥çš„å€¼ï¼Œä»¥æ ‡é‡ã€å‘é‡ã€çŸ©é˜µæˆ–æ•°ç»„çš„å½¢å¼è¿”å›ã€‚vq çš„å¤§å°å–å†³äº v å’Œ xq çš„å½¢çŠ¶ã€‚ v çš„å½¢çŠ¶ xq çš„å½¢çŠ¶ Vq çš„å¤§å° ç¤ºä¾‹ å‘é‡ å‘é‡ size(xq) å¦‚æœ size(v) = [1 100] ä¸” size(xq) = [1 500]ï¼Œ åˆ™ size(vq) = [1 500]ã€‚ å‘é‡ çŸ©é˜µ æˆ– N ç»´æ•°ç»„ size(xq) å¦‚æœ size(v) = [1 100] ä¸” size(xq) = [50 30]ï¼Œ åˆ™ size(vq) = [50 30]ã€‚ çŸ©é˜µ æˆ– N ç»´æ•°ç»„ å‘é‡ [length(xq) size(v,2),...,size(v,n)] å¦‚æœ size(v) = [100 3] ä¸” size(xq) = [1 500]ï¼Œ åˆ™ size(vq) = [500 3]ã€‚ çŸ©é˜µ æˆ– N ç»´æ•°ç»„ çŸ©é˜µ æˆ– N ç»´æ•°ç»„ [size(xq,1),...,size(xq,n),... size(v,2),...,size(v,m)] å¦‚æœ size(v) = [4 5 6] ä¸” size(xq) = [2 3 7]ï¼Œ åˆ™ size(vq) = [2 3 7 5 6]ã€‚ http://www.360doc.com/content/18/0201/11/12548572_726900990.shtml å‚è€ƒä»£ç ï¼š12345678910111213141516171819load ekg.mat; %è¯»å…¥ecgä¿¡å·[map,r,delay]=pan_tompkin(ecg,fs,0);% åˆ©ç”¨pan_tomkinç®—æ³•æ‰¾åˆ°Rç‚¹[a,l]=size(r);for i=2:l;t(i-1)=r(i)-r(i-1); %æ±‚å‡ºR-Ré—´çš„æ—¶é—´å€¼ï¼Œå³ä½¿HRVendx=r(2:19);y=interp1(x,t,r(2):1:r(19),'spline'); %åˆ©ç”¨æ’å€¼æ³•æ±‚å‡ºä»¥åŸecgä¿¡å·çš„é‡‡æ ·ç‡fsçš„æ‹Ÿåˆå‡½æ•°plot(y);hold on,scatter(r(2:19)-r(2),t(1:18)); è¿›è¡Œæ’å€¼å¹¶å®ç°é‡é‡‡æ ·ï¼Œä»£ç å¦‚ä¸‹ï¼š12345678910111213141516171819202122232425262728293031%å¯¹å…¶è¿›è¡Œä¸‰æ¬¡æ ·æœ¬æ’å€¼sRR = interp1(locs(2:length(locs),1),RR, locs(2):1:locs(length(locs)), 'spline');%åˆ©ç”¨æ•£ç‚¹å›¾å°†å›¾åƒè¿›è¡Œæ ‡è®°figure(5)plot(sRR);hold onscatter(locs(2:length(locs),1) - locs(2),RR(1:length(locs)-1));%åŸæ¥çš„é‡‡æ ·ç‡ä¸º250Hz,è¿›è¡Œé‡é‡‡æ ·ä¸º2.4Hzï¼Œ%è¾“å‡ºä¸ºç­‰é—´éš”çš„æ•°æ®ä¿¡å·VRR = resample(sRR, 720, 74651);VRR = VRR';Fs = 2.4;N_RR = length(VRR);%é‡‡æ ·æ•°fen1 = N_RR / (60 * Fs);m = 1 : N_RR;t = m / Fs;figure(6)plot(t, VRR);%å¯¹æ•°æ®è¿›è¡Œåˆ‡ç‰‡30SXRR = [];i = 1;while i &lt;= 10j = 1; while j &lt;= 72 XRR(j, i) = VRR(j * i, 1); j = j + 1; end i = i +1;end","categories":[{"name":"-å·¥ä½œ -matlab","slug":"å·¥ä½œ-matlab","permalink":"https://esyyes.github.io/categories/%E5%B7%A5%E4%BD%9C-matlab/"}],"tags":[]},{"title":"matlabä¸­çš„é‡é‡‡æ ·","slug":"matlab/matlabä¸­çš„é‡é‡‡æ ·","date":"2019-12-17T06:14:28.000Z","updated":"2019-12-17T06:14:28.000Z","comments":true,"path":"2019/12/17/matlab/matlabä¸­çš„é‡é‡‡æ ·/","link":"","permalink":"https://esyyes.github.io/2019/12/17/matlab/matlab%E4%B8%AD%E7%9A%84%E9%87%8D%E9%87%87%E6%A0%B7/","excerpt":"","text":"## Matlabä¸­çš„é‡é‡‡æ · é€‰å–3æ¡æ’å€¼é‡é‡‡æ · é‡é‡‡æ ·å‡½æ•°Resampleï¼šå°†ç»Ÿä¸€æˆ–éç»Ÿä¸€æ•°æ®é‡æ–°é‡‡æ ·ä¸ºæ–°çš„å›ºå®šé€Ÿç‡ è¯­æ³•ï¼š y = resample(x, p, q) y = resample(x, tx, __, method) æŒ‡å®šæ’å€¼æ–¹æ³•ä»¥åŠè¯¥ç»„ä¸­ä»¥å‰è¯­æ³•ä¸­çš„ä»»ä½•å‚æ•°ã€‚å†…æ’æ–¹æ³•å¯ä»¥æ˜¯&#39;linear&#39;ï¼Œ&#39;pchip&#39;ï¼Œæˆ–&#39;spline&#39;ã€‚ æ³¨ï¼š å¦‚æœxæ²¡æœ‰å˜åŒ–ç¼“æ…¢ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨interp1ä¸&#39;pchip&#39;æ’å€¼æ–¹æ³•ã€‚ è¾“å…¥å‚æ•°è¾“å…¥ä¿¡å·ï¼ŒæŒ‡å®šä¸ºçŸ¢é‡æˆ–çŸ©é˜µã€‚å¦‚æœxæ˜¯çŸ©é˜µï¼Œåˆ™å°†å…¶åˆ—è§†ä¸ºç‹¬ç«‹é€šé“ã€‚xå¯ä»¥åŒ…å«NaNã€‚NaNå°†sè§†ä¸ºä¸¢å¤±çš„æ•°æ®ï¼Œå¹¶ä»é‡é‡‡æ ·ä¸­æ’é™¤ã€‚double p, q:é‡é‡‡æ ·å› å­ï¼ŒæŒ‡å®šä¸ºæ­£æ•´æ•°ã€‚å¦‚éœ€è¦åŸé‡‡æ ·é¢‘ç‡çš„1/5,å³p=1,q=5 nâ€” ç›¸é‚»è¯å· 10ï¼ˆé»˜è®¤ï¼‰| æ­£æ•´æ•°é‚»å±…é¡¹å·ï¼ŒæŒ‡å®šä¸ºæ­£æ•´æ•°ã€‚å¦‚æœn = 0ï¼Œåˆ™æ‰§è¡Œæœ€è¿‘é‚»æ’å€¼ã€‚æŠ—æ··å FIRæ»¤æ³¢å™¨çš„é•¿åº¦ä¸æˆæ­£æ¯”ã€‚è¾ƒå¤§çš„å€¼æä¾›æ›´å¥½çš„ç²¾åº¦ï¼Œä½†è¦èŠ±è´¹æ›´å¤šçš„è®¡ç®—æ—¶é—´ã€‚resample``n``n èµ„æ–™ç±»å‹ï¼š double Kaiserçª—å£5çš„ Shapeå‚æ•°ï¼ˆé»˜è®¤ï¼‰| æ­£å®æ ‡é‡Kaiserçª—å£çš„Shapeå‚æ•°ï¼ŒæŒ‡å®šä¸ºæ­£å®æ ‡é‡ã€‚å¢å¤§betaåŠ å®½ç”¨äºè®¾è®¡æŠ—æ··å æ»¤æ³¢å™¨çš„çª—å£çš„ä¸»ç“£ï¼Œå¹¶å‡å°çª—å£æ—ç“£çš„å¹…åº¦ã€‚ èµ„æ–™ç±»å‹ï¼š `double bâ€” FIRæ»¤æ³¢å™¨ç³»æ•° çŸ¢é‡FIRæ»¤æ³¢å™¨ç³»æ•°ï¼ŒæŒ‡å®šä¸ºçŸ¢é‡ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œä½¿ç”¨Kaiserçª—å£è®¾è®¡è¿‡æ»¤å™¨ã€‚è¡¥å¿å»¶è¿Ÿæ—¶ï¼Œå‡å®šå…·æœ‰å¥‡æ•°é•¿åº¦å’Œçº¿æ€§ç›¸ä½ã€‚resamplefirlsresample``b ç¤ºä¾‹ï¼šfir1(4,0.5)æŒ‡å®šä¸€ä¸ªå››é˜¶ä½é€šæ»¤æ³¢å™¨ï¼Œå…¶å½’ä¸€åŒ–æˆªæ­¢é¢‘ç‡ä¸º0.5Ï€rad /æ ·æœ¬ã€‚ èµ„æ–™ç±»å‹ï¼š double txâ€” æ—¶é—´ç¬é—´ éè´Ÿå®çŸ¢é‡ | datetimeæ•°ç»„æ—¶é—´ç¬é—´ï¼ŒæŒ‡å®šä¸ºéè´Ÿå®å‘é‡æˆ–datetimeæ•°ç»„ã€‚txå¿…é¡»å•è°ƒå¢åŠ ï¼Œä½†ä¸å¿…å‡åŒ€é—´éš”ã€‚txå¯ä»¥åŒ…å«NaNæˆ–NaTã€‚è¿™äº›å€¼è¢«è§†ä¸ºä¸¢å¤±çš„æ•°æ®ï¼Œå¹¶ä»é‡æ–°é‡‡æ ·ä¸­æ’é™¤ã€‚ æ•°æ®ç±»å‹ï¼šdouble |datetime fsâ€” é‡‡æ ·ç‡ æ­£æ ‡é‡é‡‡æ ·ç‡ï¼ŒæŒ‡å®šä¸ºæ­£æ ‡é‡ã€‚é‡‡æ ·ç‡æ˜¯æ¯å•ä½æ—¶é—´çš„é‡‡æ ·æ•°ã€‚å¦‚æœæ—¶é—´å•ä½æ˜¯ç§’ï¼Œåˆ™é‡‡æ ·ç‡ä»¥Hzä¸ºå•ä½ã€‚ èµ„æ–™ç±»å‹ï¼š double methodâ€” æ’å€¼æ–¹æ³• &#39;linear&#39;ï¼ˆé»˜è®¤ï¼‰| &#39;pchip&#39;|&#39;spline&#39;æ’å€¼æ–¹æ³•ï¼Œè§„å®šä¸ºä¸€ä¸ª&#39;linear&#39;ï¼Œ&#39;pchip&#39;æˆ–&#39;spline&#39;ï¼š &#39;linear&#39; - çº¿æ€§æ’å€¼ã€‚ &#39;pchip&#39; â€”ä¿å½¢åˆ†æ®µä¸‰æ¬¡æ’å€¼ã€‚ &#39;spline&#39; â€”ä½¿ç”¨éç»ˆæ­¢æ¡ä»¶è¿›è¡Œæ ·æ¡æ’å€¼ã€‚ è¾“å‡ºå‚æ•°yâ€” é‡é‡‡æ ·çš„ä¿¡å· å‘é‡| çŸ©é˜µé‡æ–°é‡‡æ ·çš„ä¿¡å·ï¼Œä»¥å‘é‡æˆ–çŸ©é˜µå½¢å¼è¿”å›ã€‚å¦‚æœxæ˜¯çš„é•¿åº¦çš„ä¿¡å·Ã‘å¹¶æŒ‡å®špå’Œ qï¼Œç„¶åyæ˜¯é•¿åº¦âŒˆ Ã‘ Ã— p/ qâŒ‰ã€‚ bâ€” FIRæ»¤æ³¢å™¨ç³»æ•° çŸ¢é‡FIRæ»¤æ³¢å™¨ç³»æ•°ï¼Œä»¥å‘é‡å½¢å¼è¿”å›ã€‚ tyâ€”è¾“å‡ºç¬é—´ éè´Ÿå®çŸ¢é‡è¾“å‡ºç¬é—´ï¼Œä½œä¸ºéè´Ÿå®å‘é‡è¿”å›ã€‚ éœ€æ±‚ï¼š 1.å°†ä¿¡å·é‡‡æ ·ä¸º2Hz 2.ç”¨3æ¬¡æ’å€¼ 3.ç­‰é—´éš” method: â€œpchipâ€ä¸‰æ¬¡æ’å€¼ æ˜¯å…ˆæ’å€¼ï¼Œå†é‡é‡‡æ ·ï¼ï¼ï¼ï¼ï¼ï¼ï¼","categories":[{"name":"-å·¥ä½œ -matlab","slug":"å·¥ä½œ-matlab","permalink":"https://esyyes.github.io/categories/%E5%B7%A5%E4%BD%9C-matlab/"}],"tags":[{"name":"-malab -æ¯•ä¸š","slug":"malab-æ¯•ä¸š","permalink":"https://esyyes.github.io/tags/malab-%E6%AF%95%E4%B8%9A/"}]},{"title":"å¿ƒç‡å˜å¼‚æ€§","slug":"hexo/å¿ƒç‡å˜å¼‚æ€§","date":"2019-12-16T13:31:31.000Z","updated":"2019-12-16T13:31:31.000Z","comments":true,"path":"2019/12/16/hexo/å¿ƒç‡å˜å¼‚æ€§/","link":"","permalink":"https://esyyes.github.io/2019/12/16/hexo/%E5%BF%83%E7%8E%87%E5%8F%98%E5%BC%82%E6%80%A7/","excerpt":"","text":"å¿ƒç‡å˜å¼‚æ€§å¿ƒç‡å˜å¼‚æ€§(heart rate variability, HRV),å³æŒ‡è¿ç»­ä¸¤æ¬¡å¿ƒè·³æ—¶é—´é—´éš”çš„å¾®å°å˜åŒ–ï¼ŒHRV äº§ç”Ÿäºè‡ªä¸»ç¥ç»ç³»ç»Ÿï¼ˆAutonomic Nervous System ï¼ŒANSï¼‰å¯¹å¿ƒè„çª¦æˆ¿ç»“çš„è°ƒåˆ¶ï¼Œä½¿å¾—å¿ƒæé—´æœŸä¸€èˆ¬å­˜åœ¨å‡ åæ¯«ç§’çš„å·®å¼‚æˆ–æ³¢åŠ¨ï¼ŒHRV æ˜¯äº†è§£ ANS çŠ¶æ€çš„æœ‰ç”¨ä¿¡å·ï¼Œå¿ƒç‡ï¼ˆHeart Rate, HRï¼‰çš„æ­£å¸¸å˜å¼‚æ˜¯ç”±äºå¿ƒè„å’Œå¾ªç¯ç³»ç»Ÿçš„è‡ªä¸»ç¥ç»è°ƒèŠ‚ã€‚ ç›®å‰ï¼ŒHRV åˆ†ææ–¹æ³•ä¸»è¦åˆ†ä¸ºä¸‰ç±»ï¼Œå³æ—¶åŸŸåˆ†ææ³•ã€é¢‘åŸŸåˆ†ææ³•å’Œéçº¿æ€§åˆ†ææ³•ã€‚å…¶ä¸­ï¼Œæ—¶åŸŸåˆ†æå’Œé¢‘åŸŸåˆ†ææ³•æ˜¯çº¿æ€§åˆ†æï¼Œè®¡ç®—ç®€å•ä¸”å„é¡¹æŒ‡æ ‡çš„å«ä¹‰æ˜ç¡®ã€‚ æ—¶åŸŸåˆ†ææ³•æ˜¯åŸºäºç»Ÿè®¡å­¦åŸç†æ¥é‡åŒ– RR é—´æœŸåºåˆ—ä»¥åŠå¿ƒç‡åºåˆ—çš„å˜åŒ–å·®å¼‚ï¼Œä¸»è¦æ˜¯è®¡ç®—å„é¡¹ç»Ÿè®¡æŒ‡æ ‡ã€‚ é¢‘åŸŸåˆ†ææ³•æ˜¯å°† RR é—´æœŸåºåˆ—é€šè¿‡å‚…é‡Œå¶å˜æ¢æˆ–å°æ³¢å˜æ¢çš„æ–¹æ³•ç”±æ—¶åŸŸè½¬æ¢åˆ°é¢‘ç‡åŸŸä¸Šï¼Œè®¡ç®—å„é¢‘æ®µçš„é¢‘è°±åŠŸç‡ã€‚é¢‘åŸŸåˆ†ææ³•é€šå¸¸é‡‡ç”¨å¿«é€Ÿå‚…é‡Œå¶å˜æ¢æ³•(FFT)æˆ–å°æ³¢å˜æ¢æ¥è®¡ç®— HRV çš„åŠŸç‡è°±å¯†åº¦åŠå„é¢‘æ®µçš„é¢‘è°±åŠŸç‡ã€‚ æ–‡çŒ®ä¸­å¸¸ç”¨çš„æ–¹æ³•æ˜¯è¯•å›¾ä½¿ç”¨ä»æ··æ²Œç†è®ºæˆ–åˆ†å½¢è¿‡ç¨‹å¾—å‡ºçš„éçº¿æ€§ç»Ÿè®¡æŒ‡æ ‡æ¥é‡åŒ–å¿ƒç‡çš„å¤æ‚æ€§ï¼Œå¦‚å»è¶‹åŠ¿æ³¢åŠ¨åˆ†æã€Poincare æ•£ç‚¹å›¾ã€æé›…æ™®è¯ºå¤«æŒ‡æ•°ã€ç›¸å…³ç»´åº¦ã€è¿‘ä¼¼ç†µã€æ ·æœ¬ç†µã€å¤šå°ºåº¦ç†µã€å¤æ‚åº¦ç­‰ã€‚","categories":[{"name":"-å·¥ä½œ","slug":"å·¥ä½œ","permalink":"https://esyyes.github.io/categories/%E5%B7%A5%E4%BD%9C/"}],"tags":[]},{"title":"matplotlibå›¾åƒç»˜åˆ¶å­¦ä¹ ","slug":"python/matplotlibå›¾åƒç»˜åˆ¶å­¦ä¹ ","date":"2019-12-10T14:37:17.000Z","updated":"2019-12-10T14:37:17.000Z","comments":true,"path":"2019/12/10/python/matplotlibå›¾åƒç»˜åˆ¶å­¦ä¹ /","link":"","permalink":"https://esyyes.github.io/2019/12/10/python/matplotlib%E5%9B%BE%E5%83%8F%E7%BB%98%E5%88%B6%E5%AD%A6%E4%B9%A0/","excerpt":"","text":"1234567891011121314151617181920212223# -*- coding: utf-8 -*-# @Time : 2019/12/10# @Author : esy# åæ ‡åç§°å›¾åƒç»˜åˆ¶è¿˜æœ‰æ ‡é¢˜ import matplotlib.pyplot as pltx = [1, 2, 3]y = [5, 7, 4]x1 = [1, 2, 3]y1 = [15, 17, 14]# å®šä¹‰çº¿æ®µçš„åå­—å¯ä»¥åœ¨åé¢åŠ label=â€˜â€™ï¼Œå³ä¸ºlegendæ•ˆæœplt.plot(x, y, label='First Line')plt.plot(x1, y1, label='Second Line')plt.xlabel('plot xnumber')plt.ylabel('plot ynumber')plt.title('plot tu\\ncheck it out')plt.legend()# å±•ç¤ºå›¾åƒplt.show() ç»˜åˆ¶å›¾åƒï¼ŒåŒç†åœ¨pythonä¸­baræ˜¯ç›´æ–¹å›¾ åŠ é¢œè‰²ï¼š 12plt.plot(x, y, label='First Line', color='r')plt.plot(x1, y1, label='Second Line', color='b') åœ¨pycharmä¸­è¿˜æ˜¯ç›´æ¥è¿è¡Œï¼Œå½“éœ€è¦æŸ¥çœ‹å˜é‡æ—¶ï¼Œç‚¹å‡»ä¸‹é¢çš„Python Console,å¯åœ¨é‡Œé¢æŸ¥çœ‹å˜é‡å€¼ã€‚ ç‚¹å‡»run file in console,å³å¯è¿è¡Œåˆ°consoleä¸­ï¼Œå¯æŸ¥çœ‹å˜é‡ã€‚","categories":[],"tags":[]},{"title":"å‡çº§conda","slug":"hexo/å‡çº§conda","date":"2019-12-10T02:54:05.000Z","updated":"2019-12-10T02:54:05.000Z","comments":true,"path":"2019/12/10/hexo/å‡çº§conda/","link":"","permalink":"https://esyyes.github.io/2019/12/10/hexo/%E5%8D%87%E7%BA%A7conda/","excerpt":"","text":"python conda è½¯ä»¶åŒ…å‡çº§ conda: è¿è¡ŒAnaconda Prompt å‡çº§conda(å‡çº§Anacondaå‰éœ€è¦å…ˆå‡çº§conda)ï¼šconda update conda å‡çº§anacondaï¼šconda update anaconda å‡çº§spyderï¼šconda update spyder æ›´æ–°æ‰€æœ‰åŒ…ï¼šconda update â€“all å®‰è£…åŒ…ï¼šconda install package æ›´æ–°åŒ…ï¼šconda update package æŸ¥è¯¢æŸä¸ªcondaæŒ‡ä»¤ä½¿ç”¨-håç¼€ï¼Œå¦‚conda update -h å› ä¸ºæ˜¯ç”¨Prcharmè°ƒç”¨anacondaé‡Œé¢çš„pythonçš„åº“å‡½æ•°ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå‡çº§pythonè¿˜æœ‰IPythonå³å¯ pip: å‡çº§pip python -m pip install â€“upgrade pip pipå‡çº§åŒ… pip install â€“upgrade è¦å‡çº§çš„åŒ…å Commands: install å®‰è£…åŒ…. uninstall å¸è½½åŒ…. freeze æŒ‰ç€ä¸€å®šæ ¼å¼è¾“å‡ºå·²å®‰è£…åŒ…åˆ—è¡¨ list åˆ—å‡ºå·²å®‰è£…åŒ…. show æ˜¾ç¤ºåŒ…è¯¦ç»†ä¿¡æ¯. search æœç´¢åŒ…ï¼Œç±»ä¼¼yumé‡Œçš„search. wheel Buildwheelsfromyourrequirements. zip ä¸æ¨è.Zipindividualpackages. unzip ä¸æ¨è.Unzipindividualpackages. bundle ä¸æ¨è.Createpybundles. help å½“å‰å¸®åŠ©. pip list â€“outdate æŸ¥çœ‹å¯ä»¥å‡çº§çš„åŒ… æ€»ç»“ï¼š æˆ‘ä¹Ÿæƒ³è¦å°çˆ±å¿ƒç‚¹å‡»æ•ˆæœ","categories":[{"name":"-å‡çº§conda","slug":"å‡çº§conda","permalink":"https://esyyes.github.io/categories/%E5%8D%87%E7%BA%A7conda/"}],"tags":[{"name":"-python","slug":"python","permalink":"https://esyyes.github.io/tags/python/"}]},{"title":"LV-2","slug":"python/pythonåŸºç¡€ä¹‹åˆ—è¡¨","date":"2019-12-08T13:00:32.000Z","updated":"2019-12-08T13:00:32.000Z","comments":true,"path":"2019/12/08/python/pythonåŸºç¡€ä¹‹åˆ—è¡¨/","link":"","permalink":"https://esyyes.github.io/2019/12/08/python/python%E5%9F%BA%E7%A1%80%E4%B9%8B%E5%88%97%E8%A1%A8/","excerpt":"","text":"# è½¬ç§»ç¨‹åºæ—¶é‡åˆ°çš„é—®é¢˜ 1.åˆ—è¡¨åªæå–ä¸€éƒ¨åˆ†æ•°æ®ï¼šå³åˆ‡ç‰‡åºåˆ—[å¼€å§‹ä½ç½®ä¸‹æ ‡:ç»“æŸä½ç½®ä¸‹æ ‡:æ­¥é•¿] æ³¨æ„ ä¸åŒ…å«ç»“æŸä½ç½®ä¸‹æ ‡å¯¹åº”çš„æ•°æ®ï¼Œ æ­£è´Ÿæ•´æ•°å‡å¯ï¼› æ­¥é•¿æ˜¯é€‰å–é—´éš”ï¼Œæ­£è´Ÿæ•´æ•°å‡å¯ï¼Œé»˜è®¤æ­¥é•¿ä¸º1ã€‚ 1234567891011name = \"abcdefg\"print(name[2:5:1]) # cdeprint(name[2:5]) # cdeprint(name[:5]) # abcdeprint(name[1:]) # bcdefgprint(name[:]) # abcdefgprint(name[::2]) # acegprint(name[:-1]) # abcdef, è´Ÿ1è¡¨ç¤ºå€’æ•°ç¬¬ä¸€ä¸ªæ•°æ®print(name[-4:-1]) # defprint(name[::-1]) # gfedcba æ‰€è°“å­—ç¬¦ä¸²æŸ¥æ‰¾æ–¹æ³•å³æ˜¯æŸ¥æ‰¾å­ä¸²åœ¨å­—ç¬¦ä¸²ä¸­çš„ä½ç½®æˆ–å‡ºç°çš„æ¬¡æ•°ã€‚ find()ï¼šæ£€æµ‹æŸä¸ªå­ä¸²æ˜¯å¦åŒ…å«åœ¨è¿™ä¸ªå­—ç¬¦ä¸²ä¸­ï¼Œå¦‚æœåœ¨è¿”å›è¿™ä¸ªå­ä¸²å¼€å§‹çš„ä½ç½®ä¸‹æ ‡ï¼Œå¦åˆ™åˆ™è¿”å›-1ã€‚ è¯­æ³• 1å­—ç¬¦ä¸²åºåˆ—.find(å­ä¸², å¼€å§‹ä½ç½®ä¸‹æ ‡, ç»“æŸä½ç½®ä¸‹æ ‡) æ³¨æ„ï¼šå¼€å§‹å’Œç»“æŸä½ç½®ä¸‹æ ‡å¯ä»¥çœç•¥ï¼Œè¡¨ç¤ºåœ¨æ•´ä¸ªå­—ç¬¦ä¸²åºåˆ—ä¸­æŸ¥æ‰¾ã€‚ ä¸‹æ ‡ è®¡ç®—æœºä¸ºæ•°æ®åºåˆ—ä¸­æ¯ä¸ªå…ƒç´ åˆ†é…çš„ä»0å¼€å§‹çš„ç¼–å· åˆ‡ç‰‡ 1åºåˆ—å[å¼€å§‹ä½ç½®ä¸‹æ ‡:ç»“æŸä½ç½®ä¸‹æ ‡:æ­¥é•¿] å¸¸ç”¨æ“ä½œæ–¹æ³• find() index() pythonåˆ‡ç‰‡ï¼Œä¸€åˆ‡å–å•ä¸ªå€¼ï¼Œå³data[i]ä¸‹æ ‡å³å¯ï¼Œå¯ç”¨è´Ÿæ•°æŸ¥æ‰¾ åˆ‡å–å®Œæ•´çš„å¯¹è±¡ï¼šdata[:],ä»å·¦å¾€å³ï¼Œdata[::],ä»å·¦å¾€å³ï¼Œdata[::-1],ä»å³å¾€å·¦ data[1:6],æ•°å€¼å³ä¸º12345,å·¦é—­å³å¼€ï¼Œ 2.åˆ—è¡¨è¿›è¡Œå€’ç½®1# å°†æ•°æ®è¿›è¡Œè½¬ç½®ecg = ecg.transpose() å¹¶æ²¡æœ‰æŠŠè¡Œæ•°æ®è½¬æ¢ä¸ºåˆ—æ•°æ® pythonä¸­çš„è¡Œæ•°æ®å’Œåˆ—æ•°æ®çš„å½¢å¼ï¼Ÿæ„Ÿè§‰æ²¡å•¥ç”¨ ä¸€ç›´è§‰å¾—å›¾é”™äº†ï¼ŒåŸæ¥æ˜¯åœ¨åˆ—è¡¨æŸ¥æ‰¾æ—¶è®¾ç½®çš„æ˜¯data[1] 12345# æŸ¥æ‰¾dataå­—å…¸ä¸­çš„valkeyå€¼data = data['val']# è¯»å–ç¬¬ä¸€ä¸ªåˆ—è¡¨data = data[0]print(data) è¯»å–çš„æ˜¯åˆ—è¡¨çš„ç¬¬äºŒä¸ªï¼Œå¯¼è‡´å›¾åƒä¸€ç›´é”™è¯¯ï¼ï¼ï¼ (ï½ï¿£(OO)ï¿£)ãƒ– 1.åˆ—è¡¨1.1åˆ—è¡¨çš„æ ¼å¼[æ•°æ®1, æ•°æ®2, æ•°æ®3, æ•°æ®4â€¦â€¦] åˆ—è¡¨å¯ä»¥ä¸€æ¬¡æ€§å­˜å‚¨å¤šä¸ªæ•°æ®ï¼Œä¸”å¯ä»¥ä¸ºä¸åŒæ•°æ®ç±»å‹ã€‚ 1.åˆ—è¡¨çš„è¡Œå’Œåˆ—çš„åŒºåˆ«ï¼Ÿ 2.åˆ—è¡¨ä¸­çš„è¡Œç»˜åˆ¶å’Œåˆ—ç»˜åˆ¶çš„åŒºåˆ«","categories":[],"tags":[]},{"title":"matlabä¸­çš„functionå‡½æ•°","slug":"matlab/matlabä¸­çš„functionå‡½æ•°","date":"2019-12-04T08:46:53.000Z","updated":"2019-12-04T08:46:53.000Z","comments":true,"path":"2019/12/04/matlab/matlabä¸­çš„functionå‡½æ•°/","link":"","permalink":"https://esyyes.github.io/2019/12/04/matlab/matlab%E4%B8%AD%E7%9A%84function%E5%87%BD%E6%95%B0/","excerpt":"","text":"matlabä¸­çš„functionå‡½æ•°1.functionå‡½æ•°åœ¨matlabä¸­çš„æ„å»ºfunciton: å£°æ˜å‡½æ•°åç§°ã€è¾“å…¥å’Œè¾“å‡º åœ¨matlabä¸­ï¼Œæ–°å»º - å‡½æ•°ï¼Œå³ä¸ºä¸€ä¸ªå‡½æ•°æ ·æœ¬ã€‚ 123456function [outputArg1,outputArg2] = untitled2(inputArg1,inputArg2)%UNTITLED2 æ­¤å¤„æ˜¾ç¤ºæœ‰å…³æ­¤å‡½æ•°çš„æ‘˜è¦% æ­¤å¤„æ˜¾ç¤ºè¯¦ç»†è¯´æ˜outputArg1 = inputArg1;outputArg2 = inputArg2;end 12è¯´æ˜ï¼šfunction [outputArg1,outputArg2] = untitled2(inputArg1,inputArg2) å£°æ˜åä¸º untitled2 çš„å‡½æ•°,å³æ–‡ä»¶çš„å–åå°è£…åï¼Œæ­¤å£°æ˜è¯­å¥å¿…é¡»æ˜¯å‡½æ•°çš„ç¬¬ä¸€ä¸ªå¯æ‰§è¡Œä»£ç è¡Œã€‚æœ‰æ•ˆçš„å‡½æ•°åç§°ä»¥å­—æ¯å­—ç¬¦å¼€å¤´ï¼Œå¹¶ä¸”å¯ä»¥åŒ…å«å­—æ¯ã€æ•°å­—æˆ–ä¸‹åˆ’çº¿ã€‚ å¯ä»¥å°†å‡½æ•°ä¿å­˜åœ¨ä»¥ä¸‹ä½ç½®ï¼š åªåŒ…å«å‡½æ•°å®šä¹‰çš„å‡½æ•°æ–‡ä»¶ä¸­ã€‚æ–‡ä»¶çš„åç§°åº”ä¸æ–‡ä»¶ä¸­å…¶å‡½æ•°çš„åç§°ä¸€è‡´ã€‚ åŒ…å«å‘½ä»¤å’Œå‡½æ•°å®šä¹‰çš„è„šæœ¬æ–‡ä»¶ä¸­ã€‚å‡½æ•°å¿…é¡»ä½äºè¯¥æ–‡ä»¶çš„æœ«å°¾ã€‚è„šæœ¬æ–‡ä»¶ä¸èƒ½ä¸æ–‡ä»¶ä¸­çš„å‡½æ•°å…·æœ‰ç›¸åŒçš„åç§°ã€‚R2016b æˆ–æ›´é«˜ç‰ˆæœ¬çš„è„šæœ¬ä¸­æ”¯æŒå‡½æ•°ã€‚ æ–‡ä»¶å¯ä»¥åŒ…å«å¤šä¸ªå±€éƒ¨å‡½æ•°æˆ–åµŒå¥—å‡½æ•°ã€‚ä¸ºæé«˜å¯è¯»æ€§ï¼Œå¯ä½¿ç”¨ endå…³é”®å­—æ¥è¡¨ç¤ºæ–‡ä»¶ä¸­æ¯ä¸ªå‡½æ•°çš„æœ«å°¾ã€‚ä»¥ä¸‹æƒ…å†µä¸‹éœ€è¦endå…³é”®å­—: æ–‡ä»¶ä¸­æœ‰ä»»æ„å‡½æ•°åŒ…å«åµŒå¥—å‡½æ•°ã€‚ è¯¥å‡½æ•°æ˜¯å‡½æ•°æ–‡ä»¶ä¸­çš„å±€éƒ¨å‡½æ•°ï¼Œå¹¶ä¸”æ–‡ä»¶ä¸­æœ‰å±€éƒ¨å‡½æ•°ä½¿ç”¨ endå…³é”®å­—ã€‚ è¯¥å‡½æ•°æ˜¯è„šæœ¬æ–‡ä»¶å†…çš„å±€éƒ¨å‡½æ•°ã€‚ 2.æ„å»ºä¸€ä¸ªå¤šè¾“å…¥ï¼Œå¤šè¾“å‡ºçš„å‡½æ•°è¾“å…¥ï¼š a b è¾“å‡ºï¼š jia jie cheng chu å‡½æ•°å‘½åä¸ºï¼š jibenyunsuan 12345678function [jia, jian, cheng, chu] = jibenyunsuan(a, b)%jibenyunsuan æ­¤å¤„æ˜¾ç¤ºæœ‰å…³æ­¤å‡½æ•°çš„æ‘˜è¦:% å®Œæˆå‡½æ•°çš„åŠ å‡ä¹˜é™¤è¿ç®—jia = a + b;jian = a - b;cheng = a * b;chu = a / b; end å‡½æ•°åå­—æœ€å¥½è·Ÿæ–‡ä»¶åå­—ä¸€æ ·å¥½æ‰¾ï¼Œè¾“å‡ºç»“æœä¹Ÿæœ€å¥½èƒ½ç›´æ¥å¥½ç†è§£çš„ï¼› åœ¨åˆ«çš„æ–‡ä»¶å¤¹ä¸‹è¿ç®—ï¼š 123a = 60;b = 2;[jia, jian, cheng, chu] = jibenyunsuan(a, b)ï¼› ç›´æ¥è°ƒç”¨å‡½æ•°å³å¯ï¼Œè¾“å‡ºçš„å‰é¢æœ€å¥½æŒ‰ç…§å¥½ç†è§£çš„æ–¹å¼å®šä¹‰åå­—ã€‚ å‰é¢çš„å‘½åæ˜¯å¦å¯æ›´æ”¹ï¼Ÿ å¯ä»¥è¿›è¡Œæ›´æ”¹ï¼Œå‰é¢çš„å‘½åæ˜¯æŒ‰ç…§è‡ªæˆ‘çš„å®šä¹‰ï¼Œæ˜¯è¾“å‡ºï¼Œè‡ªå·±æ”¹åŠ¨ï¼Œå‰é¢çš„functioné‡Œé¢çš„è¾“å‡ºå®šä¹‰é¡¹ä¹Ÿä¼šç›¸ç»§æ”¹åŠ¨ã€‚ ä¸»å‡½æ•°åªèƒ½æœ‰ä¸€ä¸ªï¼Œå…¶ä½™çš„å‡½æ•°å‡ä¸ºå­å‡½æ•°ã€‚ 3.æ„å»ºä¸€ä¸ªå¾ªç¯çš„å‡½æ•°æ„å»ºä¸€ä¸ªNN50ç‰¹å¾ 123456789101112131415161718function [NN50q, NN50h, PNN50q, PNN50h] = NN50tezheng(a)%UNTITLED5 æ­¤å¤„æ˜¾ç¤ºæœ‰å…³æ­¤å‡½æ•°çš„æ‘˜è¦% ç›¸é‚»RRé—´æœŸå¤§äº50msçš„RRæœŸæ•°é‡ï¼ŒNN50qå‰é¢å¤§äºåé¢,NN50åé¢å¤§äºå‰é¢% PNN50ä¸ºåˆ†åˆ«å æ€»çš„RRé—´æœŸçš„ç™¾åˆ†æ¯”i = 1;NN50q = 0;NN50h = 0;while i &lt; length(a) if a(i) - a(i+1) &gt; 50 NN50q = NN50q + 1; elseif a(i+1) - a(i) &gt; 50 NN50h = NN50h + 1; end i = i +1;endPNN50q = NN50q / length(a);PNN50h = NN50h / length(a);end","categories":[{"name":"-matlab -å·¥ä½œ","slug":"matlab-å·¥ä½œ","permalink":"https://esyyes.github.io/categories/matlab-%E5%B7%A5%E4%BD%9C/"}],"tags":[{"name":"-malab -æ¯•ä¸š","slug":"malab-æ¯•ä¸š","permalink":"https://esyyes.github.io/tags/malab-%E6%AF%95%E4%B8%9A/"}]},{"title":"hexoå­¦ä¹ ","slug":"hexo/hexoå­¦ä¹ ","date":"2019-12-03T05:42:05.000Z","updated":"2019-12-03T05:42:05.000Z","comments":true,"path":"2019/12/03/hexo/hexoå­¦ä¹ /","link":"","permalink":"https://esyyes.github.io/2019/12/03/hexo/hexo%E5%AD%A6%E4%B9%A0/","excerpt":"","text":"hexoå­¦ä¹ 1.hexoä¹¦å†™123456categories: -åˆ†ç±»1 -åˆ†ç±»2tags: -æ ‡ç­¾1 -æ ‡ç­¾2 æŒ‰ç…§ä¸Šè¿°æ–¹å¼è¿›è¡Œåˆ†ç±»å’Œæ ‡ç­¾ï¼Œä¸€ç›´æ²¡è¿›è¡Œæ ‡ç­¾å’Œåˆ†ç±»çš„æ•´ç†ã€‚ 1.1 hexoçš„å­—ä½“ã€é¢œè‰²ã€å­—å·ã€ä½ç½®p align=â€rightâ€&gt;font face=â€å¾®è½¯é›…é»‘â€ color=â€redâ€ size=â€28â€&gt;å­—ä½“é¢œè‰²å¤§å° å­—ä½“é¢œè‰²å¤§å° 2.é…ç½®hexoé‡Œé¢çš„æ’å…¥å›¾ç‰‡2.1æ’å…¥æœ¬åœ°å›¾ç‰‡æ–¹å¼1ï¼š å¿…é¡»åœ¨sourceæ–‡ä»¶å¤¹ä¸‹å»ºç«‹ä¸€ä¸ªç©ºçš„æ–‡ä»¶ï¼Œå…¶å®å¿…é¡»æ˜¯/æ–œæ æ‰èƒ½è¯»å–åœ°å€ æ ¼å¼ä¸º![] (/images/å›¾ç‰‡åå­—)ã€ã€‘é‡Œé¢çš„å†…å®¹ä¸ºå–å å¯ä»¥imgä½†æ˜¯è¦æ”¹æ–¹å‘ æ–¹å¼2ï¼š ä½¿ç”¨img src=â€â€ alt=â€â€ è¿˜æ˜¯è·Ÿä¸Šé¢çš„åŠ å…¥/images/å›¾ç‰‡åå­—ã€‚alt= â€œâ€æ¥å‘½å ä¹Ÿå¯ä»¥ç›´æ¥æ’å…¥ä½†æ˜¯è¦æ¢æ–œæ çš„æ–¹å‘ 2.2æ’å…¥ç½‘ç»œå›¾ç‰‡åœ¨ç½‘ä¸Šæ‰¾åˆ°å›¾ç‰‡ï¼Œç›´æ¥å¤åˆ¶å›¾ç‰‡çš„åœ°å€ï¼Œ ä½¿ç”¨img src=â€åŠ å…¥é“¾æ¥â€ alt=â€â€ alt= â€œâ€æ¥å‘½å ç›´æ¥åœ¨![](åé¢åŠ é“¾æ¥ 3.åœ¨hexoé‡Œé¢çš„æ’å…¥è§†é¢‘å…ˆä¸Šä¼ ï¼Œåœ¨ç½‘é¡µè§†é¢‘ä¸Šï¼Œåœ¨é€šè¿‡åˆ†äº«è§†é¢‘ï¼Œç‚¹å‡»åˆ†äº«ï¼Œæ‰¾åˆ°åµŒå…¥ä»£ç ï¼Œå¤åˆ¶ç²˜è´´å³å¯ã€‚ ## 4.åœ¨hexoé‡Œé¢æ’å…¥éŸ³é¢‘ åœ¨ç½‘æ˜“äº‘é‡Œé¢è¿›è¡Œæ’å…¥ã€‚ é¦–å…ˆï¼šé€‰æ‹©æ’å…¥ç½‘é¡µç‰ˆï¼› ï¼Ÿï¼Ÿï¼Ÿï¼Ÿç”±äºç‰ˆæƒä¿æŠ¤æ— æ³•ç”Ÿæˆä»€ä¹ˆé¬¼ è§£å†³åŠæ³•https://www.shknn.com/music-163-gedan.html 1.ç‚¹å¼€æ­Œå•ï¼Œæ‰¾åˆ°ç”Ÿæˆå¤–é“¾ï¼Œå³å‡»æ‰¾åˆ°æ£€æŸ¥ï¼› 2.æ¥ç€æ‰¾åˆ°ç”Ÿæˆå¤–é“¾æ’­æ”¾å™¨è¿™æ®µæ–‡å­—ç›´æ¥åŒå‡»å¤åˆ¶å‰é¢/outchain/0/2945719972/ï¼Œå°±æ˜¯å¤–é“¾çš„å¤åˆ¶id 3.ç„¶åç›´æ¥å°†/outchain/0/2945719972/æ”¾åˆ°ç½‘ç«™åé¢ç›´æ¥æ‰“å¼€å³å¯ https://music.163.com/ #/outchain/0/2945719972/ æ­Œå•å…¨éƒ¨ç”Ÿæˆå¤–é“¾ï¼Œå•ç‹¬çš„ç›´æ¥ç‚¹å¼€ç”Ÿæˆå³å¯ã€‚é€‰æ‹©ç›´æ¥æ’­æ”¾ï¼Œå°±å¯ä»¥æ¯æ¬¡æ‰“å¼€å°±æœ‰ä¸€é¦–ã€‚ ç›´æ¥å¤åˆ¶ä»£ç è¿›æ¥å³å¯ï¼Œè·Ÿè§†é¢‘æ”¾å…¥ä¸€æ ·ã€‚ ## 5.æ›´æ”¹åšå®¢èƒŒæ™¯éŸ³ä¹ æ‰“å¼€ä¸»é¢˜ä¸‹çš„_config.ymlæ–‡ä»¶ï¼Œæœ‰mp3æ­Œæ›² è¯¥æ­Œæ›²æ˜¯ä¸ç›´æ¥æ’å…¥ä¸åŒï¼Œæ˜¯é€šè¿‡å¤–é“¾è½¬æ¢ä¸ºmp3è¿›è¡Œåˆ‡æ¢ åœ¨ç½‘æ˜“äº‘æ‰¾åˆ°æƒ³å¬çš„æ­Œï¼Œé€šè¿‡https://link.hhtjim.com/ç½‘ç«™å°†å…¶è½¬æ¢ä¸ºmp3æ–‡ä»¶ï¼Œå¤åˆ¶è¿›è¡Œå³å¯ 6.é»˜è®¤æ–‡ç« å°é¢å›¾çš„åˆ‡æ¢éœ€æ±‚ï¼šå‘ç°æ¯ç¯‡æ–‡ç« çš„å°é¢å›¾éƒ½ä¸ºä¸€æ ·ï¼Œæƒ³æ¯ç¯‡æ¢ä¸ªå°é¢","categories":[{"name":"-hexoå®Œå–„","slug":"hexoå®Œå–„","permalink":"https://esyyes.github.io/categories/hexo%E5%AE%8C%E5%96%84/"}],"tags":[{"name":"-ä¸ªäººåšå®¢æ­å»º","slug":"ä¸ªäººåšå®¢æ­å»º","permalink":"https://esyyes.github.io/tags/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"}]},{"title":"LV-1.3","slug":"hexo/hexoçš„ä½¿ç”¨","date":"2019-12-02T01:25:52.000Z","updated":"2019-12-04T03:04:01.075Z","comments":true,"path":"2019/12/02/hexo/hexoçš„ä½¿ç”¨/","link":"","permalink":"https://esyyes.github.io/2019/12/02/hexo/hexo%E7%9A%84%E4%BD%BF%E7%94%A8/","excerpt":"","text":"å®‰è£…é…ç½®ç ´è§£ä¸“ä¸šç‰ˆçš„Pycharm1.å¯¹å›¾åƒè¿›è¡Œç»˜åˆ¶12345678910111213141516171819202122232425import scipy.io as scoimport numpy as npfrom matplotlib import pyplot as pl# å®šä½matæ‰€åœ¨dataFile = 'F://MITPSG//slp01am.mat'# ä½¿ç”¨loadmatå‡½æ•°è¿›è¡Œè¯»å–data = sco.loadmat(dataFile)# æŸ¥æ‰¾dataå­—å…¸ä¸­çš„valkeyå€¼data = data['val']# è¯»å–ç¬¬ä¸€ä¸ªåˆ—è¡¨data = data[1]# ä¸­æ–‡æ˜¾ç¤ºï¼Œä¸ºäº†æ ‡è®°æ¨ªçºµåæ ‡pl.rcParams['font.sans-serif'] = ['SimHei']pl.rcParams['axes.unicode_minus'] = False# ç»˜åˆ¶å›¾åƒpl.xlabel(u\"æ—¶é—´\")pl.ylabel(u\"å¹…å€¼\")pl.title(u\"å¿ƒç”µä¿¡å·\")pl.plot(data)# å¿…é¡»åŠ show()æ‰ä¼šå‡ºç°å›¾åƒpl.show() 2.é…ç½®hexoé‡Œé¢çš„æ’å…¥å›¾ç‰‡2.1æ’å…¥æœ¬åœ°å›¾ç‰‡æ–¹å¼1ï¼š å¿…é¡»åœ¨sourceæ–‡ä»¶å¤¹ä¸‹å»ºç«‹ä¸€ä¸ªç©ºçš„æ–‡ä»¶ï¼Œå…¶å®å¿…é¡»æ˜¯/æ–œæ æ‰èƒ½è¯»å–åœ°å€ æ ¼å¼ä¸º![] (/images/å›¾ç‰‡åå­—)ã€ã€‘é‡Œé¢çš„å†…å®¹ä¸ºå–å å¯ä»¥imgä½†æ˜¯è¦æ”¹æ–¹å‘ æ–¹å¼2ï¼š ä½¿ç”¨img src=â€â€ alt=â€â€ è¿˜æ˜¯è·Ÿä¸Šé¢çš„åŠ å…¥/images/å›¾ç‰‡åå­—ã€‚alt= â€œâ€æ¥å‘½å ä¹Ÿå¯ä»¥ç›´æ¥æ’å…¥ä½†æ˜¯è¦æ¢æ–œæ çš„æ–¹å‘ 2.2æ’å…¥ç½‘ç»œå›¾ç‰‡åœ¨ç½‘ä¸Šæ‰¾åˆ°å›¾ç‰‡ï¼Œç›´æ¥å¤åˆ¶å›¾ç‰‡çš„åœ°å€ï¼Œ ä½¿ç”¨img src=â€åŠ å…¥é“¾æ¥â€ alt=â€â€ alt= â€œâ€æ¥å‘½å ç›´æ¥åœ¨![](åé¢åŠ é“¾æ¥","categories":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"https://esyyes.github.io/categories/%E9%9A%8F%E7%AC%94/"}],"tags":[]},{"title":"LV-1","slug":"python/pythonåŸºç¡€ä¹‹ç»˜åˆ¶åˆ—è¡¨æ–‡ä»¶","date":"2019-12-01T11:56:29.000Z","updated":"2019-12-02T12:47:02.281Z","comments":true,"path":"2019/12/01/python/pythonåŸºç¡€ä¹‹ç»˜åˆ¶åˆ—è¡¨æ–‡ä»¶/","link":"","permalink":"https://esyyes.github.io/2019/12/01/python/python%E5%9F%BA%E7%A1%80%E4%B9%8B%E7%BB%98%E5%88%B6%E5%88%97%E8%A1%A8%E6%96%87%E4%BB%B6/","excerpt":"","text":"ç»˜åˆ¶LV-0ä¸­çš„dataåˆ—è¡¨æ•°æ®1. import numpy as npç”±äºæœºå™¨å­¦ä¹ ç®—æ³•åœ¨æ•°æ®å¤„ç†è¿‡ç¨‹ä¸­å¤§éƒ½æ¶‰åŠçº¿æ€§ä»£æ•°çš„çŸ¥è¯†ï¼Œéœ€è¦ç”¨åˆ°çŸ©é˜µæ“ä½œï¼ŒPythonæœ¬èº«æ²¡æœ‰å¤„ç†çŸ©é˜µçš„æ•°æ®ç±»å‹ï¼Œå› æ­¤éœ€è¦ä½¿ç”¨é™„åŠ çš„å‡½æ•°åº“ã€‚ NumPyå‡½æ•°åº“æ˜¯Pythonå¼€å‘ç¯å¢ƒçš„ä¸€ä¸ªç‹¬ç«‹æ¨¡å—ï¼Œæ˜¯Pythonçš„ä¸€ç§å¼€æºçš„æ•°å€¼è®¡ç®—æ‰©å±•å·¥å…·ã€‚ è¿™ç§å·¥å…·å¯ä»¥ç”¨æ¥å­˜å‚¨å’Œå¤„ç†å¤§å‹å¤šç»´çŸ©é˜µï¼Œæ¯”Pythonè‡ªèº«çš„åˆ—è¡¨ç»“æ„è¦é«˜æ•ˆçš„å¤šã€‚å°½ç®¡Pythonçš„listç±»å‹å·²ç»æä¾›äº†ç±»ä¼¼äºçŸ©é˜µçš„è¡¨ç¤ºå½¢å¼ï¼Œä½†æ˜¯NumPyæä¾›äº†æ›´å¤šçš„ç§‘å­¦è®¡ç®—å‡½æ•°ã€‚ NumPyè¢«å®šä½ä¸ºæ•°å­¦åŸºç¡€åº“ï¼Œå±äºæ¯”è¾ƒåº•å±‚çš„Pythonåº“ï¼Œå…¶åœ°ä½è¶‹å‘äºæˆä¸ºä¸€ä¸ªè¢«å…¶å®ƒåº“è°ƒç”¨çš„æ ¸å¿ƒåº“ã€‚ åœ¨ä½¿ç”¨NumPyåº“ä¹‹å‰ï¼Œé¦–å…ˆå¿…é¡»å¯¼å…¥è¯¥å‡½æ•°åº“ï¼Œå¯¼å…¥æ–¹å¼å¦‚ä¸‹ï¼šimport numpy as np# import æ¨¡å—å as åˆ«å 2.matplotlibç»˜å›¾Matplotlib æ˜¯ Python çš„ç»˜å›¾åº“ã€‚ å®ƒå¯ä¸ NumPy ä¸€èµ·ä½¿ç”¨ï¼Œæä¾›äº†ä¸€ç§æœ‰æ•ˆçš„ MatLab å¼€æºæ›¿ä»£æ–¹æ¡ˆã€‚ å®ƒä¹Ÿå¯ä»¥å’Œå›¾å½¢å·¥å…·åŒ…ä¸€èµ·ä½¿ç”¨ï¼Œå¦‚ PyQt å’Œ wxPythonã€‚ Matplotlib é»˜è®¤æƒ…å†µä¸æ”¯æŒä¸­æ–‡ 123# ä¸ºäº†æ˜¾ç¤ºä¸­æ–‡ï¼Œç›®çš„ï¼šæ ‡è®°æ¨ªçºµåæ ‡pl.rcParams['font.sans-serif']=['SimHei']pl.rcParams['axes.unicode_minus'] = False å‚è€ƒå¦‚ä¸‹å¯¹matplotlibç»˜åˆ¶çš„è®²è§£ https://blog.csdn.net/gaotihong/article/details/80983937 pylab æ˜¯ matplotlib é¢å‘å¯¹è±¡ç»˜å›¾åº“çš„ä¸€ä¸ªæ¥å£ï¼Œå®ƒçš„è¯­æ³•å’Œ Matlab ååˆ†ç›¸è¿‘ï¼Œä¸»è¦çš„ç»˜å›¾å‘½ä»¤å’Œ Matlab å¯¹åº”çš„å‘½ä»¤æœ‰ç›¸ä¼¼çš„å‚æ•° æš‚æ—¶ä¸å¯¹Matplotlibè¿›è¡Œäº†è§£ï¼Œåˆæ­¥é€‰ç”¨pylabå‡½æ•°ã€‚ 3.pylabå’Œpyplotå‡½æ•°pylab æ¨¡å—æ˜¯ä¸€æ¬¾ç”±pythonæä¾›çš„å¯ä»¥ç»˜åˆ¶äºŒç»´ï¼Œä¸‰ç»´æ•°æ®çš„å·¥å…·æ¨¡å—ï¼Œå…¶ä¸­åŒ…æ‹¬äº†ç»˜å›¾è½¯ä»¶åŒ… matplotlib,å…¶å¯ä»¥ç”Ÿæˆmatabç»˜å›¾åº“çš„å›¾åƒã€‚ pylabå°†æ‰€æœ‰çš„åŠŸèƒ½å‡½æ•°ï¼ˆpyplotçŠ¶æ€æœºå‡½æ•°ï¼Œå¤§éƒ¨åˆ†æ—¶numpyé‡Œé¢çš„å‡½æ•°ï¼‰å…¨éƒ¨å¯¼å…¥å…¶å•ç‹¬çš„å‘½åç©ºé—´å†…ã€‚ä¸ºä»€ä¹ˆè¦è¿™æ ·åšï¼Œæ˜¯å› ä¸ºè¿™æ ·å¯ä»¥å¾ˆå¥½åœ°ä¸ipythonï¼ˆæˆ–è€…ç±»ä¼¼çš„IDEï¼Œæ¯”å¦‚pycharmï¼‰å®ç°å¾ˆå¥½çš„äº¤äº’æ¨¡å¼ï¼Œè¿™ä¸ªå°±å’ŒMATLABå·®ä¸å¤šã€‚ pylabå’Œpyplotçš„åŒºåˆ«æ˜¯ï¼Œå‰è€…å°†numpyå¯¼å…¥äº†å…¶å‘½åç©ºé—´ä¸­ã€‚è¿™æ ·ä¼šä½¿pylabè¡¨ç°çš„å’Œmatlabæ›´åŠ ç›¸ä¼¼ã€‚ç°åœ¨æ¥è¯´æˆ‘ä»¬ç»å¸¸ä½¿ç”¨pyplotï¼Œå› ä¸ºpyplotç›¸æ¯”pylabæ›´åŠ çº¯ç²¹ã€‚ æ€»ç»“ï¼šä½¿ç”¨çš„åªæ˜¯pylabé‡Œé¢çš„plotåŠŸèƒ½ï¼Œæš‚æ—¶å…ˆç›´æ¥ä½¿ç”¨pyplotå‡½æ•°ã€‚ matplotlib.pyplotï¼šæä¾›ä¸€ä¸ªç±»ä¼¼matlabçš„ç»˜å›¾æ¡†æ¶ã€‚ pylabå°†pyplotä¸numpyåˆå¹¶ä¸ºä¸€ä¸ªå‘½åç©ºé—´ã€‚è¿™å¯¹äºäº¤äº’å¼å·¥ä½œå¾ˆæ–¹ä¾¿ï¼Œä½†æ˜¯å¯¹äºç¼–ç¨‹æ¥è¯´ï¼Œå»ºè®®å°†åç§°ç©ºé—´åˆ†å¼€. 3.1 pyplotå‡½æ•°Matplotlib.pyplot å¸¸ç”¨æ–¹æ³•ï¼ˆä¸€ï¼‰: https://blog.csdn.net/sinat_34022298/article/details/76348969 ç»˜å›¾å‡½æ•°æ˜¯ç›´æ¥ä½œç”¨äºå½“å‰axesï¼ˆmatplotlibä¸­çš„ä¸“æœ‰åè¯ï¼Œå›¾å½¢ä¸­ç»„æˆéƒ¨åˆ†ï¼Œä¸æ˜¯æ•°å­¦ä¸­çš„åæ ‡ç³»ã€‚ é‡å¤§å‘ç°ï¼š ä¸ºå•¥æˆ‘çš„pycharmå¥½å¤šåŠŸèƒ½æ²¡æœ‰ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ PyCharm åœ¨2017.3ç‰ˆæœ¬ä¹‹ååŠ å…¥äº†Scientific Mode 2019ç‰ˆç¤¾åŒºç‰ˆä¸ºå•¥å¾ˆå¤šåŠŸèƒ½æ²¡æœ‰å‘¢ï¼Œç¤¾åŒºç‰ˆè¿™ä¹ˆä¸ç»™åŠ›å˜›ã€‚ã€‚ã€‚ä¸‹è½½ç ´è§£ç‰ˆ å¯¹ç”µè„‘è®¿é—®æƒé™çš„æ›´æ”¹ï¼Œæ˜æ—¥ä»»åŠ¡ï¼Œèœé¸¡é—®é¢˜å¤šå‘€ æ€»ç»“å°±æ˜¯é—®é¢˜ä¸€å¤§å †ï¼Œæ˜å¤©ç»§ç»­å¼„ï¼Œé€Ÿåº¦è¿‡åº¦åˆ°python","categories":[{"name":"æ¸¸æˆäººç”Ÿ","slug":"æ¸¸æˆäººç”Ÿ","permalink":"https://esyyes.github.io/categories/%E6%B8%B8%E6%88%8F%E4%BA%BA%E7%94%9F/"}],"tags":[]},{"title":"LV.0","slug":"python/pythonåŸºç¡€ä¹‹è¯»å–matæ–‡ä»¶","date":"2019-12-01T04:21:31.000Z","updated":"2019-12-02T12:48:43.770Z","comments":true,"path":"2019/12/01/python/pythonåŸºç¡€ä¹‹è¯»å–matæ–‡ä»¶/","link":"","permalink":"https://esyyes.github.io/2019/12/01/python/python%E5%9F%BA%E7%A1%80%E4%B9%8B%E8%AF%BB%E5%8F%96mat%E6%96%87%E4%BB%B6/","excerpt":"","text":"å¯¹MITæ•°æ®åº“ä¸­çš„matæ–‡ä»¶è¿›è¡Œè¯»å–1.MITæ•°æ®åº“æ•°æ®æ•°æ®åº“ï¼šMIT-BIH Polysomnographic Database æ•°æ®æ¥æºï¼šhttps://archive.physionet.org/cgi-bin/atm/ATM MIT-BIHå¤šå¯¼ç¡çœ å›¾æ•°æ®åº“æ˜¯ç¡çœ æœŸé—´å¤šç§ç”Ÿç†ä¿¡å·è®°å½•çš„é›†åˆã€‚åœ¨æ³¢å£«é¡¿çš„è´æ€ä»¥è‰²åˆ—åŒ»é™¢ç¡çœ å®éªŒå®¤å¯¹å—è¯•è€…è¿›è¡Œäº†ç›‘æµ‹ï¼Œä»¥è¯„ä¼°æ…¢æ€§é˜»å¡æ€§ç¡çœ å‘¼å¸æš‚åœç»¼åˆç—‡ï¼Œå¹¶æµ‹è¯•æ’å®šçš„æ°”é“æ­£å‹é€šæ°”ï¼ˆCPAPï¼‰çš„æ•ˆæœï¼Œæ°”é“æ­£å‹é€šæ°”æ˜¯ä¸€ç§æ ‡å‡†çš„æ²»ç–—æ‰‹æ®µï¼Œé€šå¸¸å¯é¢„é˜²æˆ–å¤§å¹…å‡å°‘è¿™äº›æ‚£è€…çš„æ°”é“é˜»å¡ã€‚è¯¥æ•°æ®åº“åŒ…å«ä»·å€¼è¶…è¿‡80å°æ—¶çš„å››é€šé“ï¼Œå…­é€šé“å’Œä¸ƒé€šé“å¤šå¯¼ç¡çœ å›¾è®°å½•ï¼Œæ¯æ¡è®°å½•çš„å¿ƒç”µå›¾ä¿¡å·é€èŠ‚æ‹ï¼Œä»¥åŠå…³äºç¡çœ é˜¶æ®µå’Œå‘¼å¸æš‚åœçš„EEGå’Œå‘¼å¸ä¿¡å·ã€‚ 2.æ•°æ®ä¸‹è½½åŠä¿å­˜2.1 æ•°æ®ç±»å‹åŠè¯´æ˜.stæ–‡ä»¶ä¸ºæ•°æ®çš„æ³¨é‡Šæ–‡ä»¶ï¼Œå¯¹ç¡çœ /å‘¼å¸æš‚åœè¿›è¡Œæ³¨é‡Šï¼› .ecgæ–‡ä»¶ä¸ºæ•°æ®çš„å¿ƒç”µèŠ‚æ‹æ³¨é‡Šæ–‡ä»¶ï¼Œå³å¿ƒç‡ECGçš„Rå³°å€¼ç‚¹ .datæ–‡ä»¶ä¸º4ä¸ªé€šé“çš„æ‰€æœ‰æ•°æ®æ–‡ä»¶ .heaæ–‡ä»¶ä¸ºæ–‡ä»¶çš„æ ‡å¤´ ä¸»è¦å‚è€ƒåˆ©ç”¨ATMä¸‹è½½çš„matæ–‡ä»¶ ä¸»è¦éœ€è¦è¯»å–çš„æ–‡ä»¶æ ¼å¼ .txt .dat .mat .xls 2.2 æ•°æ®ä¿å­˜ä½ç½®F:\\MITPSG ä¾‹å¦‚æ–‡ä»¶ï¼šF:\\py\\è¯»å–.py 3 å¯¹.matè¿›è¡Œè¯»å–3.1 matæ–‡ä»¶matæ•°æ®æ ¼å¼æ˜¯Matlabçš„æ•°æ®å­˜å‚¨çš„æ ‡å‡†æ ¼å¼ã€‚åœ¨Matlabä¸­ä¸»è¦ä½¿ç”¨load()å‡½æ•°å¯¼å…¥ä¸€ä¸ªmatæ–‡ä»¶ï¼Œä½¿ç”¨save()å‡½æ•°ä¿å­˜ä¸€ä¸ªmatæ–‡ä»¶ã€‚ åœ¨MATLABä¸­å¯¼å…¥slp01am.matæ–‡ä»¶ï¼šç¨‹åºï¼šF:\\matlabchengxu\\clus1.m 1load('slp01am.mat') ç”Ÿæˆä¸€ä¸ªvalå˜é‡ï¼Œè¯¥å˜é‡ä¸ºä¸€ä¸ª4*900,000æ•°ç»„ï¼Œåªéœ€è¦å¯¹1-ECGå’Œ4-resqä¿¡å·è¿›è¡Œå¤„ç† 3.2 åœ¨pythonä¸­å¯¼å…¥matæ–‡ä»¶ åœ¨pythonä¸­å¯ä»¥ä½¿ç”¨scipy.ioä¸­çš„å‡½æ•°loadmat()è¯»å–matæ–‡ä»¶ï¼Œå‡½æ•°savematä¿å­˜æ–‡ä»¶ã€‚ 3.2.1 è°ƒç”¨å‡½æ•°æ¨¡å—12import scipy.io as sci# import æ¨¡å—å as åˆ«å 3.2.2 è¯»å–matæ–‡ä»¶æ–‡ä»¶ä¿å­˜ä½ç½®ï¼šF:\\MITPSG\\slp01am.mat 123import scipy.io as scodataFile = 'F://MITPSG//slp01am.mat'data = sco.loadmat(dataFile) 3.3 åœ¨Pycharmä¸­æŸ¥çœ‹å˜é‡ åœ¨éœ€è¦æŸ¥çœ‹é‚£ä¸€è¡Œè¿›è¡Œæ–­ç‚¹æ ‡è®° è¿è¡Œdebug Variablesçª—å£ä¸­çš„å˜é‡å¯ä»¥å³å‡»ï¼ŒAdd to Watchesï¼Œç„¶ååœ¨Watchesçª—å£ä¸­å¯ä»¥çœ‹åˆ°æ‰€é€‰æ•°æ®çš„å…·ä½“ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ•°å€¼ã€‚ 12345# æ‰“å°dataæ–‡ä»¶æŸ¥çœ‹å…¶å½¢å¼print(data)# dataæ–‡ä»¶æ˜¯å­—å…¸å½¢å¼&#123;ä¸­é—´æœ‰heaæ–‡ä»¶å¼€å¤´&#125;# åœ¨matlabä¸­è‡ªåŠ¨çœå»å¼€å¤´æ–‡ä»¶æ²¡æœ‰è¿›è¡Œæå–ï¼Œæ‰€ä»¥æ˜¯ä¸ªå­—å…¸å½¢å¼print(type(data)) 3.4 è¯»å–valå˜é‡ä¸­çš„1.4åˆ—è¡¨12345# æŸ¥æ‰¾dataå­—å…¸ä¸­çš„valkeyå€¼data = data[&apos;val&apos;]# è¯»å–ç¬¬ä¸€ä¸ªåˆ—è¡¨data = data[1]print(data) 3.5 å­—å…¸çš„è¯»å–å­—å…¸ç‰¹ç‚¹ï¼š ç¬¦å·ä¸º==å¤§æ‹¬å·== æ•°æ®ä¸º==é”®å€¼å¯¹==å½¢å¼å‡ºç° å„ä¸ªé”®å€¼å¯¹ä¹‹é—´ç”¨==é€—å·==éš”å¼€ 123dict1 = &#123;&apos;name&apos;: &apos;Tom&apos;, &apos;age&apos;: 20, &apos;gender&apos;: &apos;ç”·&apos;&#125;print(dict1[&apos;name&apos;]) # Tomprint(dict1[&apos;id&apos;]) # æŠ¥é”™ æ€»ç»“ï¼š åˆæ­¥å®Œæˆäº†matæ–‡ä»¶çš„è¯»å– è°ƒç”¨pythonçš„åº“æ—¶é‡åˆ°å„ç§å¥‡å¥‡æ€ªæ€ªçš„é—®é¢˜ï¼Œè¿˜æœ‰äº›æœªè§£å†³ï¼Œæš‚æ—¶ç°åœ¨pyæ–‡ä»¶å¤¹è¿›è¡Œå¤„ç† pycharmé‡Œé¢çš„å­—å…¸ã€åˆ—è¡¨ç­‰éœ€è¦éšæ—¶æŸ¥çœ‹ï¼Œä¸èƒ½ç›´æ¥å¥—ç”¨matlabçš„ç»éªŒ åŒç†valï¼š4å³ä¸ºå‘¼å¸çš„æ•°æ® ä¸‹ä¸€æ­¥å¯¹åˆ—è¡¨æ•°æ®è¿›è¡Œå¤„ç† å°èœé¸¡åŠ æ²¹","categories":[{"name":"æ¸¸æˆäººç”Ÿ","slug":"æ¸¸æˆäººç”Ÿ","permalink":"https://esyyes.github.io/categories/%E6%B8%B8%E6%88%8F%E4%BA%BA%E7%94%9F/"}],"tags":[]},{"title":"pyhonåŸºç¡€--å‡½æ•°","slug":"python/pyhonåŸºç¡€-å‡½æ•°","date":"2019-11-24T12:57:32.000Z","updated":"2019-12-05T02:28:35.447Z","comments":true,"path":"2019/11/24/python/pyhonåŸºç¡€-å‡½æ•°/","link":"","permalink":"https://esyyes.github.io/2019/11/24/python/pyhon%E5%9F%BA%E7%A1%80-%E5%87%BD%E6%95%B0/","excerpt":"","text":"å‡½æ•°1.å‡½æ•°åŸºæœ¬æ“ä½œ1234def å‡½æ•°å(å‚æ•°): ä»£ç 1 ä»£ç 2 ..... æ³¨æ„ï¼š 1. ä¸åŒçš„éœ€æ±‚ï¼Œå‚æ•°å¯æœ‰å¯æ— ã€‚ 2. åœ¨Pythonä¸­ï¼Œå‡½æ•°å¿…é¡»==å…ˆå®šä¹‰åä½¿ç”¨==ã€‚å®Œæˆéœ€æ±‚å¦‚ä¸‹ï¼šä¸€ä¸ªå‡½æ•°å®Œæˆä¸¤ä¸ªæ•°1å’Œ2çš„åŠ æ³•è¿ç®— 12345678# å®šä¹‰å‡½æ•°def add_num1(): result = 1 + 2 print(result)# è°ƒç”¨å‡½æ•°add_num1() ç”¨æˆ·è¦åœ¨è°ƒç”¨å‡½æ•°çš„æ—¶å€™æŒ‡å®šå…·ä½“æ•°å­—ï¼Œé‚£ä¹ˆåœ¨å®šä¹‰å‡½æ•°çš„æ—¶å€™å°±éœ€è¦æ¥æ”¶ç”¨æˆ·æŒ‡å®šçš„æ•°å­—ã€‚å‡½æ•°è°ƒç”¨æ—¶å€™æŒ‡å®šçš„æ•°å­—å’Œå®šä¹‰å‡½æ•°æ—¶å€™æ¥æ”¶çš„æ•°å­—å³æ˜¯å‡½æ•°çš„å‚æ•°ã€‚ 12345678# å®šä¹‰å‡½æ•°æ—¶åŒæ—¶å®šä¹‰äº†æ¥æ”¶ç”¨æˆ·æ•°æ®çš„å‚æ•°aå’Œbï¼Œaå’Œbæ˜¯å½¢å‚def add_num2(a, b): result = a + b print(result)# è°ƒç”¨å‡½æ•°æ—¶ä¼ å…¥äº†çœŸå®çš„æ•°æ®10 å’Œ 20ï¼ŒçœŸå®æ•°æ®ä¸ºå®å‚add_num2(10, 20) éœ€æ±‚ï¼šåˆ¶ä½œä¸€ä¸ªè®¡ç®—å™¨ï¼Œè®¡ç®—ä»»æ„ä¸¤æ•°å­—ä¹‹å’Œï¼Œå¹¶ä¿å­˜ç»“æœã€‚ 1234567def sum_num(a, b): return a + b# ç”¨resultå˜é‡ä¿å­˜å‡½æ•°è¿”å›å€¼result = sum_num(1, 2)print(result) å®šä¹‰å‡½æ•°çš„è¯´æ˜æ–‡æ¡£ 1234def å‡½æ•°å(å‚æ•°): \"\"\" è¯´æ˜æ–‡æ¡£çš„ä½ç½® \"\"\" ä»£ç  ...... æŸ¥çœ‹å‡½æ•°çš„è¯´æ˜æ–‡æ¡£ 1help(å‡½æ•°å) æ±‚ä¸‰ä¸ªæ•°ä¹‹å’Œ 12345def sum_num(a, b, c): return a + b + cresult = sum_num(1, 2, 3)print(result) # 6 å‡½æ•°çš„è¿”å›å€¼ ä½œç”¨ï¼šå‡½æ•°è°ƒç”¨åï¼Œè¿”å›éœ€è¦çš„è®¡ç®—ç»“æœ å†™æ³• 1return è¡¨è¾¾å¼ å‡½æ•°çš„è¯´æ˜æ–‡æ¡£ ä½œç”¨ï¼šä¿å­˜å‡½æ•°è§£é‡Šè¯´æ˜çš„ä¿¡æ¯ å†™æ³• 12def å‡½æ•°å(): &quot;&quot;&quot; å‡½æ•°è¯´æ˜æ–‡æ¡£ &quot;&quot;&quot; å‡½æ•°åµŒå¥—è°ƒç”¨ï¼šä¸€ä¸ªå‡½æ•°å†…éƒ¨åµŒå¥—è°ƒç”¨å¦å¤–ä¸€ä¸ªå‡½æ•° 2.å‡½æ•°çš„å‚æ•°12# global å…³é”®å­—å£°æ˜aæ˜¯å…¨å±€å˜é‡global a ä¼ é€’å’Œå®šä¹‰å‚æ•°çš„é¡ºåºåŠä¸ªæ•°å¿…é¡»ä¸€è‡´ã€‚ å‡½æ•°è°ƒç”¨ï¼Œé€šè¿‡â€œé”®=å€¼â€å½¢å¼åŠ ä»¥æŒ‡å®šã€‚å¯ä»¥è®©å‡½æ•°æ›´åŠ æ¸…æ™°ã€å®¹æ˜“ä½¿ç”¨ï¼ŒåŒæ—¶ä¹Ÿæ¸…é™¤äº†å‚æ•°çš„é¡ºåºéœ€æ±‚ã€‚ 123456def user_info(name, age, gender): print(f'æ‚¨çš„åå­—æ˜¯&#123;name&#125;, å¹´é¾„æ˜¯&#123;age&#125;, æ€§åˆ«æ˜¯&#123;gender&#125;')user_info('Rose', age=20, gender='å¥³')user_info('å°æ˜', gender='ç”·', age=16) æ³¨æ„ï¼šå‡½æ•°è°ƒç”¨æ—¶ï¼Œå¦‚æœæœ‰ä½ç½®å‚æ•°æ—¶ï¼Œä½ç½®å‚æ•°å¿…é¡»åœ¨å…³é”®å­—å‚æ•°çš„å‰é¢ï¼Œä½†å…³é”®å­—å‚æ•°ä¹‹é—´ä¸å­˜åœ¨å…ˆåé¡ºåºã€‚ ç¼ºçœå‚æ•°ä¹Ÿå«é»˜è®¤å‚æ•°ï¼Œç”¨äºå®šä¹‰å‡½æ•°ï¼Œä¸ºå‚æ•°æä¾›é»˜è®¤å€¼ï¼Œè°ƒç”¨å‡½æ•°æ—¶å¯ä¸ä¼ è¯¥é»˜è®¤å‚æ•°çš„å€¼ï¼ˆæ³¨æ„ï¼šæ‰€æœ‰ä½ç½®å‚æ•°å¿…é¡»å‡ºç°åœ¨é»˜è®¤å‚æ•°å‰ï¼ŒåŒ…æ‹¬å‡½æ•°å®šä¹‰å’Œè°ƒç”¨ï¼‰ã€‚ 12345def user_info(name, age, gender='ç”·'): print(f'æ‚¨çš„åå­—æ˜¯&#123;name&#125;, å¹´é¾„æ˜¯&#123;age&#125;, æ€§åˆ«æ˜¯&#123;gender&#125;')user_info('TOM', 20)user_info('Rose', 18, 'å¥³') æ³¨æ„ï¼šå‡½æ•°è°ƒç”¨æ—¶ï¼Œå¦‚æœä¸ºç¼ºçœå‚æ•°ä¼ å€¼åˆ™ä¿®æ”¹é»˜è®¤å‚æ•°å€¼ï¼›å¦åˆ™ä½¿ç”¨è¿™ä¸ªé»˜è®¤å€¼ã€‚ ä¸å®šé•¿å‚æ•°ä¹Ÿå«å¯å˜å‚æ•°ã€‚ç”¨äºä¸ç¡®å®šè°ƒç”¨çš„æ—¶å€™ä¼šä¼ é€’å¤šå°‘ä¸ªå‚æ•°(ä¸ä¼ å‚ä¹Ÿå¯ä»¥)çš„åœºæ™¯ã€‚æ­¤æ—¶ï¼Œå¯ç”¨åŒ…è£¹(packing)ä½ç½®å‚æ•°ï¼Œæˆ–è€…åŒ…è£¹å…³é”®å­—å‚æ•°ï¼Œæ¥è¿›è¡Œå‚æ•°ä¼ é€’ï¼Œä¼šæ˜¾å¾—éå¸¸æ–¹ä¾¿ã€‚ 123456def user_info(*args): print(args)# ('TOM',)user_info('TOM')# ('TOM', 18)user_info('TOM', 18) æ³¨æ„ï¼šä¼ è¿›çš„æ‰€æœ‰å‚æ•°éƒ½ä¼šè¢«argså˜é‡æ”¶é›†ï¼Œå®ƒä¼šæ ¹æ®ä¼ è¿›å‚æ•°çš„ä½ç½®åˆå¹¶ä¸ºä¸€ä¸ªå…ƒç»„(tuple)ï¼Œargsæ˜¯å…ƒç»„ç±»å‹ï¼Œè¿™å°±æ˜¯åŒ…è£¹ä½ç½®ä¼ é€’ã€‚ åŒ…è£¹å…³é”®å­—ä¼ é€’ 123456def user_info(**kwargs): print(kwargs)# &#123;'name': 'TOM', 'age': 18, 'id': 110&#125;user_info(name='TOM', age=18, id=110) ç»¼ä¸Šï¼šæ— è®ºæ˜¯åŒ…è£¹ä½ç½®ä¼ é€’è¿˜æ˜¯åŒ…è£¹å…³é”®å­—ä¼ é€’ï¼Œéƒ½æ˜¯ä¸€ä¸ªç»„åŒ…çš„è¿‡ç¨‹ã€‚ æ‹†åŒ…ï¼šå…ƒç»„ 1234567def return_num(): return 100, 200num1, num2 = return_num()print(num1) # 100print(num2) # 200 æ‹†åŒ…ï¼šå­—å…¸ 12345678910dict1 = &#123;'name': 'TOM', 'age': 18&#125;a, b = dict1# å¯¹å­—å…¸è¿›è¡Œæ‹†åŒ…ï¼Œå–å‡ºæ¥çš„æ˜¯å­—å…¸çš„keyprint(a) # nameprint(b) # ageprint(dict1[a]) # TOMprint(dict1[b]) # 18 æ‰€è°“å¯å˜ç±»å‹ä¸ä¸å¯å˜ç±»å‹æ˜¯æŒ‡ï¼šæ•°æ®èƒ½å¤Ÿç›´æ¥è¿›è¡Œä¿®æ”¹ï¼Œå¦‚æœèƒ½ç›´æ¥ä¿®æ”¹é‚£ä¹ˆå°±æ˜¯å¯å˜ï¼Œå¦åˆ™æ˜¯ä¸å¯å˜. å¯å˜ç±»å‹ åˆ—è¡¨ å­—å…¸ é›†åˆ ä¸å¯å˜ç±»å‹ æ•´å‹ æµ®ç‚¹å‹ å­—ç¬¦ä¸² å…ƒç»„ æ€»ç»“ å˜é‡ä½œç”¨åŸŸ å…¨å±€ï¼šå‡½æ•°ä½“å†…å¤–éƒ½èƒ½ç”Ÿæ•ˆ å±€éƒ¨ï¼šå½“å‰å‡½æ•°ä½“å†…éƒ¨ç”Ÿæ•ˆ å‡½æ•°å¤šè¿”å›å€¼å†™æ³• 1return è¡¨è¾¾å¼1, è¡¨è¾¾å¼2... å‡½æ•°çš„å‚æ•° ä½ç½®å‚æ•° å½¢å‚å’Œå®å‚çš„ä¸ªæ•°å’Œä¹¦å†™é¡ºåºå¿…é¡»ä¸€è‡´ å…³é”®å­—å‚æ•° å†™æ³•ï¼š key=value ç‰¹ç‚¹ï¼šå½¢å‚å’Œå®å‚çš„ä¹¦å†™é¡ºåºå¯ä»¥ä¸ä¸€è‡´ï¼›å…³é”®å­—å‚æ•°å¿…é¡»ä¹¦å†™åœ¨ä½ç½®å‚æ•°çš„åé¢ ç¼ºçœå‚æ•° ç¼ºçœå‚æ•°å°±æ˜¯é»˜è®¤å‚æ•° å†™æ³•ï¼škey=vlaue ä¸å®šé•¿ä½ç½®å‚æ•° æ”¶é›†æ‰€æœ‰ä½ç½®å‚æ•°ï¼Œè¿”å›ä¸€ä¸ªå…ƒç»„ ä¸å®šé•¿å…³é”®å­—å‚æ•° æ”¶é›†æ‰€æœ‰å…³é”®å­—å‚æ•°ï¼Œè¿”å›ä¸€ä¸ªå­—å…¸ å¼•ç”¨ï¼šPythonä¸­ï¼Œæ•°æ®çš„ä¼ é€’éƒ½æ˜¯é€šè¿‡å¼•ç”¨ ä¸‰. lambda è¡¨è¾¾å¼3.1 lambdaçš„åº”ç”¨åœºæ™¯å¦‚æœä¸€ä¸ªå‡½æ•°æœ‰ä¸€ä¸ªè¿”å›å€¼ï¼Œå¹¶ä¸”åªæœ‰ä¸€å¥ä»£ç ï¼Œå¯ä»¥ä½¿ç”¨ lambdaç®€åŒ–ã€‚ 3.2 lambdaè¯­æ³•1lambda å‚æ•°åˆ—è¡¨ ï¼š è¡¨è¾¾å¼ æ³¨æ„ lambdaè¡¨è¾¾å¼çš„å‚æ•°å¯æœ‰å¯æ— ï¼Œå‡½æ•°çš„å‚æ•°åœ¨lambdaè¡¨è¾¾å¼ä¸­å®Œå…¨é€‚ç”¨ã€‚ lambdaè¡¨è¾¾å¼èƒ½æ¥æ”¶ä»»ä½•æ•°é‡çš„å‚æ•°ä½†åªèƒ½è¿”å›ä¸€ä¸ªè¡¨è¾¾å¼çš„å€¼ã€‚ å¿«é€Ÿå…¥é—¨12345678910111213# å‡½æ•°def fn1(): return 200print(fn1)print(fn1())# lambdaè¡¨è¾¾å¼fn2 = lambda: 100print(fn2)print(fn2()) æ³¨æ„ï¼šç›´æ¥æ‰“å°lambdaè¡¨è¾¾å¼ï¼Œè¾“å‡ºçš„æ˜¯æ­¤lambdaçš„å†…å­˜åœ°å€ 3.3 ç¤ºä¾‹ï¼šè®¡ç®—a + b3.3.1 å‡½æ•°å®ç°123456def add(a, b): return a + bresult = add(1, 2)print(result) æ€è€ƒï¼šéœ€æ±‚ç®€å•ï¼Œæ˜¯å¦ä»£ç å¤šï¼Ÿ 3.3.2 lambdaå®ç°12fn1 = lambda a, b: a + bprint(fn1(1, 2)) 3.4 lambdaçš„å‚æ•°å½¢å¼3.4.1.æ— å‚æ•°12fn1 = lambda: 100print(fn1()) 3.4.2.ä¸€ä¸ªå‚æ•°12fn1 = lambda a: aprint(fn1('hello world')) 3.4.3.é»˜è®¤å‚æ•°12fn1 = lambda a, b, c=100: a + b + cprint(fn1(10, 20)) 3.4.4.å¯å˜å‚æ•°ï¼š*args12fn1 = lambda *args: argsprint(fn1(10, 20, 30)) æ³¨æ„ï¼šè¿™é‡Œçš„å¯å˜å‚æ•°ä¼ å…¥åˆ°lambdaä¹‹åï¼Œè¿”å›å€¼ä¸ºå…ƒç»„ã€‚ 3.4.5.å¯å˜å‚æ•°ï¼š**kwargs12fn1 = lambda **kwargs: kwargsprint(fn1(name='python', age=20)) 3.5 lambdaçš„åº”ç”¨3.5.1. å¸¦åˆ¤æ–­çš„lambda12fn1 = lambda a, b: a if a &gt; b else bprint(fn1(1000, 500)) 3.5.2. åˆ—è¡¨æ•°æ®æŒ‰å­—å…¸keyçš„å€¼æ’åº1234567891011121314151617students = [ &#123;'name': 'TOM', 'age': 20&#125;, &#123;'name': 'ROSE', 'age': 19&#125;, &#123;'name': 'Jack', 'age': 22&#125;]# æŒ‰nameå€¼å‡åºæ’åˆ—students.sort(key=lambda x: x['name'])print(students)# æŒ‰nameå€¼é™åºæ’åˆ—students.sort(key=lambda x: x['name'], reverse=True)print(students)# æŒ‰ageå€¼å‡åºæ’åˆ—students.sort(key=lambda x: x['age'])print(students) å››. é«˜é˜¶å‡½æ•°==æŠŠå‡½æ•°ä½œä¸ºå‚æ•°ä¼ å…¥==ï¼Œè¿™æ ·çš„å‡½æ•°ç§°ä¸ºé«˜é˜¶å‡½æ•°ï¼Œé«˜é˜¶å‡½æ•°æ˜¯å‡½æ•°å¼ç¼–ç¨‹çš„ä½“ç°ã€‚å‡½æ•°å¼ç¼–ç¨‹å°±æ˜¯æŒ‡è¿™ç§é«˜åº¦æŠ½è±¡çš„ç¼–ç¨‹èŒƒå¼ã€‚ 4.1 ä½“éªŒé«˜é˜¶å‡½æ•°åœ¨Pythonä¸­ï¼Œabs()å‡½æ•°å¯ä»¥å®Œæˆå¯¹æ•°å­—æ±‚ç»å¯¹å€¼è®¡ç®—ã€‚ 1abs(-10) # 10 round()å‡½æ•°å¯ä»¥å®Œæˆå¯¹æ•°å­—çš„å››èˆäº”å…¥è®¡ç®—ã€‚ 12round(1.2) # 1round(1.9) # 2 éœ€æ±‚ï¼šä»»æ„ä¸¤ä¸ªæ•°å­—ï¼ŒæŒ‰ç…§æŒ‡å®šè¦æ±‚æ•´ç†æ•°å­—åå†è¿›è¡Œæ±‚å’Œè®¡ç®—ã€‚ æ–¹æ³•1 123456def add_num(a, b): return abs(a) + abs(b)result = add_num(-1, 2)print(result) # 3 æ–¹æ³•2 123456def sum_num(a, b, f): return f(a) + f(b)result = sum_num(-1, 2, abs)print(result) # 3 æ³¨æ„ï¼šä¸¤ç§æ–¹æ³•å¯¹æ¯”ä¹‹åï¼Œå‘ç°ï¼Œæ–¹æ³•2çš„ä»£ç ä¼šæ›´åŠ ç®€æ´ï¼Œå‡½æ•°çµæ´»æ€§æ›´é«˜ã€‚ å‡½æ•°å¼ç¼–ç¨‹å¤§é‡ä½¿ç”¨å‡½æ•°ï¼Œå‡å°‘äº†ä»£ç çš„é‡å¤ï¼Œå› æ­¤ç¨‹åºæ¯”è¾ƒçŸ­ï¼Œå¼€å‘é€Ÿåº¦è¾ƒå¿«ã€‚ 4.2 å†…ç½®é«˜é˜¶å‡½æ•°4.2.1 map()map(func, lst)ï¼Œå°†ä¼ å…¥çš„å‡½æ•°å˜é‡funcä½œç”¨åˆ°lstå˜é‡çš„æ¯ä¸ªå…ƒç´ ä¸­ï¼Œå¹¶å°†ç»“æœç»„æˆæ–°çš„åˆ—è¡¨(Python2)/è¿­ä»£å™¨(Python3)è¿”å›ã€‚ éœ€æ±‚ï¼šè®¡ç®—list1åºåˆ—ä¸­å„ä¸ªæ•°å­—çš„2æ¬¡æ–¹ã€‚ 1234567891011list1 = [1, 2, 3, 4, 5]def func(x): return x ** 2result = map(func, list1)print(result) # &lt;map object at 0x0000013769653198&gt;print(list(result)) # [1, 4, 9, 16, 25] 4.2.2 reduce()reduce(funcï¼Œlst)ï¼Œå…¶ä¸­funcå¿…é¡»æœ‰ä¸¤ä¸ªå‚æ•°ã€‚æ¯æ¬¡funcè®¡ç®—çš„ç»“æœç»§ç»­å’Œåºåˆ—çš„ä¸‹ä¸€ä¸ªå…ƒç´ åšç´¯ç§¯è®¡ç®—ã€‚ æ³¨æ„ï¼šreduce()ä¼ å…¥çš„å‚æ•°funcå¿…é¡»æ¥æ”¶2ä¸ªå‚æ•°ã€‚ éœ€æ±‚ï¼šè®¡ç®—list1åºåˆ—ä¸­å„ä¸ªæ•°å­—çš„ç´¯åŠ å’Œã€‚ 123456789101112import functoolslist1 = [1, 2, 3, 4, 5]def func(a, b): return a + bresult = functools.reduce(func, list1)print(result) # 15 4.2.3 filter()filter(func, lst)å‡½æ•°ç”¨äºè¿‡æ»¤åºåˆ—, è¿‡æ»¤æ‰ä¸ç¬¦åˆæ¡ä»¶çš„å…ƒç´ , è¿”å›ä¸€ä¸ª filter å¯¹è±¡ã€‚å¦‚æœè¦è½¬æ¢ä¸ºåˆ—è¡¨, å¯ä»¥ä½¿ç”¨ list() æ¥è½¬æ¢ã€‚ 1234567891011list1 = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]def func(x): return x % 2 == 0result = filter(func, list1)print(result) # &lt;filter object at 0x0000017AF9DC3198&gt;print(list(result)) # [2, 4, 6, 8, 10] æ€»ç»“ é€’å½’ å‡½æ•°å†…éƒ¨è‡ªå·±è°ƒç”¨è‡ªå·± å¿…é¡»æœ‰å‡ºå£ lambda è¯­æ³• 1lambda å‚æ•°åˆ—è¡¨: è¡¨è¾¾å¼ lambdaçš„å‚æ•°å½¢å¼ æ— å‚æ•° 1lambda: è¡¨è¾¾å¼ ä¸€ä¸ªå‚æ•° 1lambda å‚æ•°: è¡¨è¾¾å¼ é»˜è®¤å‚æ•° 1lambda key=value: è¡¨è¾¾å¼ ä¸å®šé•¿ä½ç½®å‚æ•° 1lambda *args: è¡¨è¾¾å¼ ä¸å®šé•¿å…³é”®å­—å‚æ•° 1lambda **kwargs: è¡¨è¾¾å¼ é«˜é˜¶å‡½æ•° ä½œç”¨ï¼šæŠŠå‡½æ•°ä½œä¸ºå‚æ•°ä¼ å…¥ï¼ŒåŒ–ç®€ä»£ç  å†…ç½®é«˜é˜¶å‡½æ•° map() reduce() filter()","categories":[{"name":"-pythonåŸºç¡€","slug":"pythonåŸºç¡€","permalink":"https://esyyes.github.io/categories/python%E5%9F%BA%E7%A1%80/"}],"tags":[{"name":"-python -äººå·¥æ™ºèƒ½","slug":"python-äººå·¥æ™ºèƒ½","permalink":"https://esyyes.github.io/tags/python-%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/"}]},{"title":"pyhonåŸºç¡€--æ¨¡å—","slug":"python/pyhonåŸºç¡€-æ¨¡å—","date":"2019-11-24T12:12:54.000Z","updated":"2019-11-24T12:51:10.591Z","comments":true,"path":"2019/11/24/python/pyhonåŸºç¡€-æ¨¡å—/","link":"","permalink":"https://esyyes.github.io/2019/11/24/python/pyhon%E5%9F%BA%E7%A1%80-%E6%A8%A1%E5%9D%97/","excerpt":"","text":"æ¨¡å—å’ŒåŒ…ä¸€. æ¨¡å—Python æ¨¡å—(Module)ï¼Œæ˜¯ä¸€ä¸ª Python æ–‡ä»¶ï¼Œä»¥ .py ç»“å°¾ï¼ŒåŒ…å«äº† Python å¯¹è±¡å®šä¹‰å’ŒPythonè¯­å¥ã€‚ æ¨¡å—èƒ½å®šä¹‰å‡½æ•°ï¼Œç±»å’Œå˜é‡ï¼Œæ¨¡å—é‡Œä¹Ÿèƒ½åŒ…å«å¯æ‰§è¡Œçš„ä»£ç ã€‚ 1.1. å¯¼å…¥æ¨¡å—1.1.1 å¯¼å…¥æ¨¡å—çš„æ–¹å¼ import æ¨¡å—å from æ¨¡å—å import åŠŸèƒ½å from æ¨¡å—å import * import æ¨¡å—å as åˆ«å from æ¨¡å—å import åŠŸèƒ½å as åˆ«å 1.1.2 å¯¼å…¥æ–¹å¼è¯¦è§£1.1.2.1 importè¯­æ³• 12345678# 1. å¯¼å…¥æ¨¡å—import æ¨¡å—åimport æ¨¡å—å1, æ¨¡å—å2...# 2. è°ƒç”¨åŠŸèƒ½æ¨¡å—å.åŠŸèƒ½å() 12import mathprint(math.sqrt(36)) 1.1.2.2 from..import..from æ¨¡å—å import åŠŸèƒ½1, åŠŸèƒ½2, åŠŸèƒ½3â€¦ 12from math import sqrtprint(sqrt(36)) 1.1.2.3 from .. import *from æ¨¡å—å import * # *æŒ‡ä»£æ‰€æœ‰ 12from math import *print(sqrt(36)) 1.1.2.4 aså®šä¹‰åˆ«å12345# æ¨¡å—å®šä¹‰åˆ«å ï¼šå³æ”¹åå­—import æ¨¡å—å as åˆ«å# åŠŸèƒ½å®šä¹‰åˆ«åfrom æ¨¡å—å import åŠŸèƒ½ as åˆ«å 1.2. åˆ¶ä½œæ¨¡å—åœ¨Pythonä¸­ï¼Œæ¯ä¸ªPythonæ–‡ä»¶éƒ½å¯ä»¥ä½œä¸ºä¸€ä¸ªæ¨¡å—ï¼Œæ¨¡å—çš„åå­—å°±æ˜¯æ–‡ä»¶çš„åå­—ã€‚ä¹Ÿå°±æ˜¯è¯´è‡ªå®šä¹‰æ¨¡å—åå¿…é¡»è¦ç¬¦åˆæ ‡è¯†ç¬¦å‘½åè§„åˆ™ã€‚ 1.2.1 å®šä¹‰æ¨¡å—æ–°å»ºä¸€ä¸ªPythonæ–‡ä»¶ï¼Œå‘½åä¸ºmy_module1.pyï¼Œå¹¶å®šä¹‰testAå‡½æ•°ã€‚ 12345# å®ŒæˆåŠ æ³•è¿ç®—def testA(a, b): print(a + b)# æµ‹è¯•ä¿¡æ¯testA(1, 11) æ­¤æ—¶ï¼Œæ— è®ºæ˜¯å½“å‰æ–‡ä»¶ï¼Œè¿˜æ˜¯å…¶ä»–å·²ç»å¯¼å…¥äº†è¯¥æ¨¡å—çš„æ–‡ä»¶ï¼Œåœ¨è¿è¡Œçš„æ—¶å€™éƒ½ä¼šè‡ªåŠ¨æ‰§è¡ŒtestAå‡½æ•°çš„è°ƒç”¨ã€‚ 123456def testA(a, b): print(a + b)# åªåœ¨å½“å‰æ–‡ä»¶ä¸­è°ƒç”¨è¯¥å‡½æ•°ï¼Œå…¶ä»–å¯¼å…¥çš„æ–‡ä»¶å†…ä¸ç¬¦åˆè¯¥æ¡ä»¶ï¼Œåˆ™ä¸æ‰§è¡ŒtestAå‡½æ•°è°ƒç”¨if __name__ == &apos;__main__&apos;: testA(1, 11) 123# è°ƒç”¨import my_modulemy_module.testA(4, 6) å¦‚æœä½¿ç”¨from .. import ..æˆ–from .. import *å¯¼å…¥å¤šä¸ªæ¨¡å—çš„æ—¶å€™ï¼Œä¸”æ¨¡å—å†…æœ‰åŒååŠŸèƒ½ã€‚å½“è°ƒç”¨è¿™ä¸ªåŒååŠŸèƒ½çš„æ—¶å€™ï¼Œè°ƒç”¨åˆ°çš„æ˜¯åé¢å¯¼å…¥çš„æ¨¡å—çš„åŠŸèƒ½ã€‚ 1.3. æ¨¡å—å®šä½é¡ºåºå½“å¯¼å…¥ä¸€ä¸ªæ¨¡å—ï¼ŒPythonè§£æå™¨å¯¹æ¨¡å—ä½ç½®çš„æœç´¢é¡ºåºæ˜¯ï¼š å½“å‰ç›®å½• å¦‚æœä¸åœ¨å½“å‰ç›®å½•ï¼ŒPythonåˆ™æœç´¢åœ¨shellå˜é‡PYTHONPATHä¸‹çš„æ¯ä¸ªç›®å½•ã€‚ å¦‚æœéƒ½æ‰¾ä¸åˆ°ï¼ŒPythonä¼šå¯Ÿçœ‹é»˜è®¤è·¯å¾„ã€‚UNIXä¸‹ï¼Œé»˜è®¤è·¯å¾„ä¸€èˆ¬ä¸º/usr/local/lib/python/ æ¨¡å—æœç´¢è·¯å¾„å­˜å‚¨åœ¨systemæ¨¡å—çš„sys.pathå˜é‡ä¸­ã€‚å˜é‡é‡ŒåŒ…å«å½“å‰ç›®å½•ï¼ŒPYTHONPATHå’Œç”±å®‰è£…è¿‡ç¨‹å†³å®šçš„é»˜è®¤ç›®å½•ã€‚ 1.4. __all__å¦‚æœä¸€ä¸ªæ¨¡å—æ–‡ä»¶ä¸­æœ‰__all__å˜é‡ï¼Œå½“ä½¿ç”¨from xxx import *å¯¼å…¥æ—¶ï¼Œåªèƒ½å¯¼å…¥è¿™ä¸ªåˆ—è¡¨ä¸­çš„å…ƒç´ ã€‚ äºŒ. åŒ…åŒ…å°†æœ‰è”ç³»çš„æ¨¡å—ç»„ç»‡åœ¨ä¸€èµ·ï¼Œå³æ”¾åˆ°åŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹ï¼Œå¹¶ä¸”åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹åˆ›å»ºä¸€ä¸ªåå­—ä¸º__init__.py æ–‡ä»¶ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–‡ä»¶å¤¹å°±ç§°ä¹‹ä¸ºåŒ…ã€‚ 2.1 åˆ¶ä½œåŒ…[New] â€” [Python Package] â€” è¾“å…¥åŒ…å â€” [OK] â€” æ–°å»ºåŠŸèƒ½æ¨¡å—(æœ‰è”ç³»çš„æ¨¡å—)ã€‚ æ³¨æ„ï¼šæ–°å»ºåŒ…åï¼ŒåŒ…å†…éƒ¨ä¼šè‡ªåŠ¨åˆ›å»º__init__.pyæ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶æ§åˆ¶ç€åŒ…çš„å¯¼å…¥è¡Œä¸ºã€‚ 2.1.1 å¿«é€Ÿä½“éªŒ æ–°å»ºåŒ…mypackage æ–°å»ºåŒ…å†…æ¨¡å—ï¼šmy_module1 å’Œ my_module2 æ¨¡å—å†…ä»£ç å¦‚ä¸‹ 123456# my_module1print(1)def info_print1(): print('my_module1') 123456# my_module2print(2)def info_print2(): print('my_module2') 2.2 å¯¼å…¥åŒ…2.2.1 æ–¹æ³•ä¸€123import åŒ…å.æ¨¡å—ååŒ…å.æ¨¡å—å.ç›®æ ‡ 2.2.1.1 ä½“éªŒ123import my_package.my_module1my_package.my_module1.info_print1() 2.2.2 æ–¹æ³•äºŒæ³¨æ„ï¼šå¿…é¡»åœ¨__init__.pyæ–‡ä»¶ä¸­æ·»åŠ __all__ = []ï¼Œæ§åˆ¶å…è®¸å¯¼å…¥çš„æ¨¡å—åˆ—è¡¨ã€‚ 12from åŒ…å import *æ¨¡å—å.ç›®æ ‡ 2.2.2.1 ä½“éªŒ123from my_package import *my_module1.info_print1() ä¸‰. æ€»ç»“ å¯¼å…¥æ¨¡å—æ–¹æ³• 12345import æ¨¡å—åfrom æ¨¡å—å import ç›®æ ‡from æ¨¡å—å import * å¯¼å…¥åŒ… 123import åŒ…å.æ¨¡å—åfrom åŒ…å import * __all__ = [] ï¼šå…è®¸å¯¼å…¥çš„æ¨¡å—æˆ–åŠŸèƒ½åˆ—è¡¨","categories":[],"tags":[]},{"title":"python2","slug":"python/pythonåŸºç¡€--å¼‚å¸¸","date":"2019-11-20T13:59:36.000Z","updated":"2019-11-24T12:11:33.132Z","comments":true,"path":"2019/11/20/python/pythonåŸºç¡€--å¼‚å¸¸/","link":"","permalink":"https://esyyes.github.io/2019/11/20/python/python%E5%9F%BA%E7%A1%80--%E5%BC%82%E5%B8%B8/","excerpt":"","text":"ä¸€.å¼‚å¸¸å½“æ£€æµ‹åˆ°ä¸€ä¸ªé”™è¯¯æ—¶ï¼Œè§£é‡Šå™¨å°±æ— æ³•ç»§ç»­æ‰§è¡Œäº†ï¼Œåè€Œå‡ºç°äº†ä¸€äº›é”™è¯¯çš„æç¤ºï¼Œè¿™å°±æ˜¯æ‰€è°“çš„â€å¼‚å¸¸â€ã€‚ äºŒ. å¼‚å¸¸çš„å†™æ³•2.1 è¯­æ³•1234try: å¯èƒ½å‘ç”Ÿé”™è¯¯çš„ä»£ç except: å¦‚æœå‡ºç°å¼‚å¸¸æ‰§è¡Œçš„ä»£ç  2.2 æ•è·æŒ‡å®šå¼‚å¸¸2.2.1 è¯­æ³•1234try: å¯èƒ½å‘ç”Ÿé”™è¯¯çš„ä»£ç except å¼‚å¸¸ç±»å‹: å¦‚æœæ•è·åˆ°è¯¥å¼‚å¸¸ç±»å‹æ‰§è¡Œçš„ä»£ç  1234try: print(num)except NameError: print(&apos;æœ‰é”™è¯¯&apos;) æ³¨æ„ï¼š å¦‚æœå°è¯•æ‰§è¡Œçš„ä»£ç çš„å¼‚å¸¸ç±»å‹å’Œè¦æ•è·çš„å¼‚å¸¸ç±»å‹ä¸ä¸€è‡´ï¼Œåˆ™æ— æ³•æ•è·å¼‚å¸¸ã€‚ ä¸€èˆ¬tryä¸‹æ–¹åªæ”¾ä¸€è¡Œå°è¯•æ‰§è¡Œçš„ä»£ç ã€‚ 2.2.2 æ•è·å¤šä¸ªæŒ‡å®šå¼‚å¸¸å½“æ•è·å¤šä¸ªå¼‚å¸¸æ—¶ï¼Œå¯ä»¥æŠŠè¦æ•è·çš„å¼‚å¸¸ç±»å‹çš„åå­—ï¼Œæ”¾åˆ°except åï¼Œå¹¶ä½¿ç”¨å…ƒç»„çš„æ–¹å¼è¿›è¡Œä¹¦å†™ã€‚ 12345try: print(1/0)except (NameError, ZeroDivisionError): print(&apos;æœ‰é”™è¯¯&apos;) 2.2.3 æ•è·å¼‚å¸¸æè¿°ä¿¡æ¯1234try: print(num)except (NameError, ZeroDivisionError) as result: print(result) 2.2.4 æ•è·æ‰€æœ‰å¼‚å¸¸Exceptionæ˜¯æ‰€æœ‰ç¨‹åºå¼‚å¸¸ç±»çš„çˆ¶ç±»ã€‚ 1234try: print(num)except Exception as result: print(result) 2.3 å¼‚å¸¸çš„elseelseè¡¨ç¤ºçš„æ˜¯å¦‚æœæ²¡æœ‰å¼‚å¸¸è¦æ‰§è¡Œçš„ä»£ç ã€‚ 123456try: print(1)except Exception as result: print(result)else: print(&apos;æˆ‘æ˜¯elseï¼Œæ˜¯æ²¡æœ‰å¼‚å¸¸çš„æ—¶å€™æ‰§è¡Œçš„ä»£ç &apos;) 2.4 å¼‚å¸¸çš„finallyfinallyè¡¨ç¤ºçš„æ˜¯æ— è®ºæ˜¯å¦å¼‚å¸¸éƒ½è¦æ‰§è¡Œçš„ä»£ç  2.5 è‡ªå®šä¹‰å¼‚å¸¸åœ¨Pythonä¸­ï¼ŒæŠ›å‡ºè‡ªå®šä¹‰å¼‚å¸¸çš„è¯­æ³•ä¸ºraise å¼‚å¸¸ç±»å¯¹è±¡ã€‚ ä¸‰. æ€»ç»“å¼‚å¸¸è¯­æ³• 12345678try: å¯èƒ½å‘ç”Ÿå¼‚å¸¸çš„ä»£ç except: å¦‚æœå‡ºç°å¼‚å¸¸æ‰§è¡Œçš„ä»£ç else: æ²¡æœ‰å¼‚å¸¸æ‰§è¡Œçš„ä»£ç finally: æ— è®ºæ˜¯å¦å¼‚å¸¸éƒ½è¦æ‰§è¡Œçš„ä»£ç  æ•è·å¼‚å¸¸ 12345except å¼‚å¸¸ç±»å‹: ä»£ç except å¼‚å¸¸ç±»å‹ as xx: ä»£ç  è‡ªå®šä¹‰å¼‚å¸¸ 123456789101112131415161718# 1. è‡ªå®šä¹‰å¼‚å¸¸ç±»class å¼‚å¸¸ç±»ç±»å(Exception): ä»£ç  # è®¾ç½®æŠ›å‡ºå¼‚å¸¸çš„æè¿°ä¿¡æ¯ def __str__(self): return ...# 2. æŠ›å‡ºå¼‚å¸¸raise å¼‚å¸¸ç±»å()# æ•è·å¼‚å¸¸except Exception...","categories":[{"name":"pythonåŸºç¡€","slug":"pythonåŸºç¡€","permalink":"https://esyyes.github.io/categories/python%E5%9F%BA%E7%A1%80/"}],"tags":[{"name":"python","slug":"python","permalink":"https://esyyes.github.io/tags/python/"}]},{"title":"python1","slug":"python/pythonåŸºç¡€--æ¨å¯¼å¼","date":"2019-11-20T08:29:46.000Z","updated":"2019-11-21T01:11:50.373Z","comments":true,"path":"2019/11/20/python/pythonåŸºç¡€--æ¨å¯¼å¼/","link":"","permalink":"https://esyyes.github.io/2019/11/20/python/python%E5%9F%BA%E7%A1%80--%E6%8E%A8%E5%AF%BC%E5%BC%8F/","excerpt":"","text":"PYTHONåŸºç¡€å­¦ä¹ â€“æ¨å¯¼å¼â¼€. åˆ—è¡¨æ¨å¯¼å¼ä½œâ½¤ï¼šâ½¤â¼€ä¸ªè¡¨è¾¾å¼åˆ›å»ºâ¼€ä¸ªæœ‰è§„å¾‹çš„åˆ—è¡¨æˆ–æ§åˆ¶â¼€ä¸ªæœ‰è§„å¾‹åˆ—è¡¨ã€‚ åˆ—è¡¨æ¨å¯¼å¼â¼œå«åˆ—è¡¨â½£æˆå¼ã€‚ 1.1 whileå¾ªç¯å®ç°123456list1 = []i = 0while i &lt; 10: list1.append(i) i += 1print(list1) 1.2 forå¾ªç¯å®ç°1234list1 = []for i in range(10): list1.append(i)print(list1) 1.3 listæ¨å¯¼å¼12list1 = [i for i in range(10)]print(list1) 1.4 å¸¦ifçš„åˆ—è¡¨æ¨å¯¼å¼éœ€æ±‚ï¼šåˆ›å»º0-10çš„å¶æ•°åˆ—è¡¨ range()æ­¥é•¿å®ç°ï¼šrangeå·¦é—­å³å¼€ 12list1 = [i for i in range(0, 10, 2)]print(list1) ifå®ç°æ¨å¯¼å¼ 12list1 = [i for i in range(0, 10) if i % 2 == 0]print(list1) 1.5 å¤šä¸ªforå¾ªç¯æ¨å¯¼å¼éœ€æ±‚ï¼šåˆ›å»ºåˆ—è¡¨å¦‚ä¸‹ï¼š 1[(1, 0), (1, 1), (1, 2), (2, 0), (2, 1), (2, 2)] ä»£ç å¦‚ä¸‹ï¼š 123for i in range(1, 3): for j in range(3): print((i, j), end=&apos;&apos;) æ¨å¯¼å¼ï¼š 12list1 =[(i, j) for i in range(1, 3) for j in range(3)]print(list1) æ€»ç»“æ¨å¯¼å¼çš„ä½œâ½¤ï¼šç®€åŒ–ä»£ç  æ¨å¯¼å¼å†™æ³• 123456# åˆ—è¡¨æ¨å¯¼å¼[xx for xx in range()]# å­—å…¸æ¨å¯¼å¼&#123;xx1: xx2 for ... in ...&#125;# é›†åˆæ¨å¯¼å¼&#123;xx for xx in ...&#125;","categories":[{"name":"pythonåŸºç¡€","slug":"pythonåŸºç¡€","permalink":"https://esyyes.github.io/categories/python%E5%9F%BA%E7%A1%80/"}],"tags":[{"name":"python","slug":"python","permalink":"https://esyyes.github.io/tags/python/"}]}],"categories":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/categories/work/"},{"name":"hexo","slug":"hexo","permalink":"https://esyyes.github.io/categories/hexo/"},{"name":"python","slug":"python","permalink":"https://esyyes.github.io/categories/python/"},{"name":"matlab","slug":"matlab","permalink":"https://esyyes.github.io/categories/matlab/"},{"name":"-å·¥ä½œ -matlab","slug":"å·¥ä½œ-matlab","permalink":"https://esyyes.github.io/categories/%E5%B7%A5%E4%BD%9C-matlab/"},{"name":"-å·¥ä½œ","slug":"å·¥ä½œ","permalink":"https://esyyes.github.io/categories/%E5%B7%A5%E4%BD%9C/"},{"name":"-å‡çº§conda","slug":"å‡çº§conda","permalink":"https://esyyes.github.io/categories/%E5%8D%87%E7%BA%A7conda/"},{"name":"-matlab -å·¥ä½œ","slug":"matlab-å·¥ä½œ","permalink":"https://esyyes.github.io/categories/matlab-%E5%B7%A5%E4%BD%9C/"},{"name":"-hexoå®Œå–„","slug":"hexoå®Œå–„","permalink":"https://esyyes.github.io/categories/hexo%E5%AE%8C%E5%96%84/"},{"name":"éšç¬”","slug":"éšç¬”","permalink":"https://esyyes.github.io/categories/%E9%9A%8F%E7%AC%94/"},{"name":"æ¸¸æˆäººç”Ÿ","slug":"æ¸¸æˆäººç”Ÿ","permalink":"https://esyyes.github.io/categories/%E6%B8%B8%E6%88%8F%E4%BA%BA%E7%94%9F/"},{"name":"-pythonåŸºç¡€","slug":"pythonåŸºç¡€","permalink":"https://esyyes.github.io/categories/python%E5%9F%BA%E7%A1%80/"},{"name":"pythonåŸºç¡€","slug":"pythonåŸºç¡€","permalink":"https://esyyes.github.io/categories/python%E5%9F%BA%E7%A1%80/"}],"tags":[{"name":"work","slug":"work","permalink":"https://esyyes.github.io/tags/work/"},{"name":"hexo","slug":"hexo","permalink":"https://esyyes.github.io/tags/hexo/"},{"name":"python","slug":"python","permalink":"https://esyyes.github.io/tags/python/"},{"name":"-malab -æ¯•ä¸š","slug":"malab-æ¯•ä¸š","permalink":"https://esyyes.github.io/tags/malab-%E6%AF%95%E4%B8%9A/"},{"name":"-python","slug":"python","permalink":"https://esyyes.github.io/tags/python/"},{"name":"-ä¸ªäººåšå®¢æ­å»º","slug":"ä¸ªäººåšå®¢æ­å»º","permalink":"https://esyyes.github.io/tags/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"},{"name":"-python -äººå·¥æ™ºèƒ½","slug":"python-äººå·¥æ™ºèƒ½","permalink":"https://esyyes.github.io/tags/python-%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/"}]}